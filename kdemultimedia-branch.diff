Index: kaboodle/kaboodle.desktop
===================================================================
--- kaboodle/kaboodle.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaboodle/kaboodle.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -7,7 +7,6 @@
 Name[ko]=K무리
 Name[pa]=ਕੇਬੋਡਲੀ
 Name[ta]=கபூடல்
-Name[xx]=xxKaboodlexx
 Exec=kaboodle %i %m -caption "%c" %U
 Icon=kaboodle
 X-KDE-StartupNotify=true
@@ -65,7 +64,6 @@
 GenericName[uz]=Медиа плейер
 GenericName[ven]=Tshitambi tsha Media
 GenericName[xh]=Umdlali we Midia
-GenericName[xx]=xxMedia Playerxx
 GenericName[zh_CN]=媒体播放器
 GenericName[zh_TW]=媒體播放器
 GenericName[zu]=Umdlali Womculo

Property changes on: kaboodle/pics/hi64-app-kaboodle.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: kaboodle/pics/hi128-app-kaboodle.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kaboodle/kaboodle_component.desktop
===================================================================
--- kaboodle/kaboodle_component.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaboodle/kaboodle_component.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -53,7 +53,6 @@
 Name[uk]=Вмонтований програвач медіа
 Name[ven]=Tshitambi tsha media tsha Embedded
 Name[xh]=Umdlali ophakathi olungisiweyo
-Name[xx]=xxEmbedded Media Playerxx
 Name[zh_CN]=嵌入式媒体播放器
 Name[zh_TW]=嵌入式媒體播放器
 Name[zu]=Oxubiwe Umdlai Wezezindaba
Index: kaboodle/kaboodleengine.desktop
===================================================================
--- kaboodle/kaboodleengine.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaboodle/kaboodleengine.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -46,7 +46,6 @@
 Name[uk]=Механізм вмонтованого програвача медіа
 Name[ven]=Tshitambi tsha media tsho dzheniswaho
 Name[xh]=Injini Yomdlali we Media Ebekiweyo
-Name[xx]=xxEmbedded Media Player Enginexx
 Name[zh_CN]=嵌入式媒体播放器引擎
 Name[zh_TW]=嵌入式媒體播放器引擎
 Name[zu]=Injini Yomdlali Womculom Ohlanganisiwe
Index: libkcddb/cddb.h
===================================================================
--- libkcddb/cddb.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ libkcddb/cddb.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -67,7 +67,7 @@
       static QString trackOffsetListToId( const TrackOffsetList & );
 
       static QString clientName() { return QString::fromLatin1("libkcddb"); }
-      static QString clientVersion() { return QString::fromLatin1("0.3"); }
+      static QString clientVersion() { return QString::fromLatin1("0.31"); }
 
     protected:
       bool parseGreeting( const QString & );
Index: libkcddb/submit.cpp
===================================================================
--- libkcddb/submit.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ libkcddb/submit.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -1,7 +1,7 @@
 /*
   Copyright (C) 2002 Rik Hemsley (rikkus) <rik@kde.org>
   Copyright (C) 2002 Benjamin Meyer <ben-devel@meyerhome.net>
-  Copyright (C) 2003-2004 Richard Lärkäng <nouseforaname@home.se>
+  Copyright (C) 2003-2005 Richard Lärkäng <nouseforaname@home.se>
 
   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Library General Public
@@ -35,8 +35,12 @@
     // Empty.
   }
 
-  CDDB::Result Submit::submit( const CDInfo& cdInfo, const TrackOffsetList &offsetList)
+  CDDB::Result Submit::submit( CDInfo cdInfo, const TrackOffsetList& offsetList)
   {
+    // If it was an inexact math from the server the discid might
+    // be different, so recalculate it
+    cdInfo.id = trackOffsetListToId(offsetList);
+
     makeDiskData( cdInfo, offsetList );
 
     if (!validCategory(cdInfo.category))
@@ -72,16 +76,7 @@
     for (uint i=0; i < numTracks; i++)
       diskData_ += QString("#\t%1\n").arg(offsetList[i]);
 
-    unsigned int l;
-    if (cdInfo.length == 0)
-    {
-      l = (offsetList[numTracks+1] - offsetList[0]) / 75;
-      // FIXME Is the submit test wrong, or the disc id calculation?
-      l += 2;
-    }
-    else
-      l = cdInfo.length;
-
+    int l = offsetList[numTracks+1]/75;
     diskData_ += QString("# Disc length: %1 seconds\n").arg(l);
 
     diskData_ += cdInfo.toString(true);
Index: libkcddb/kcmcddb/libkcddb.desktop
===================================================================
--- libkcddb/kcmcddb/libkcddb.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ libkcddb/kcmcddb/libkcddb.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -28,6 +28,7 @@
 Name[is]=CDDB stillingar
 Name[it]=Recupero CDDB
 Name[ja]=CDDBの検索
+Name[lt]=CDDB gavimas
 Name[mk]=Пребарување на CDDB
 Name[ms]=Pembuka CDDB
 Name[nb]=CDDB-henting
@@ -50,7 +51,6 @@
 Name[uk]=Звантаження CDDB
 Name[ven]=U humbula ha CDDB
 Name[xh]=CDDB Ukukangela
-Name[xx]=xxCDDB Retrievalxx
 Name[zh_CN]=CDDB 查询
 
 GenericName=CDDB Configuration
@@ -104,7 +104,6 @@
 GenericName[uz]=CDDB мосламаси
 GenericName[ven]=Nzudzanyo ya CDDB
 GenericName[wa]=Apontiaedje di CDDB
-GenericName[xx]=xxCDDB Configurationxx
 GenericName[zh_CN]=CDDB 配置
 GenericName[zu]=Uhlanganiso lwe CDDB
 
@@ -127,6 +126,7 @@
 Comment[is]=Stilling CDDB 
 Comment[it]=Configura il recupero CDDB
 Comment[ja]=CDDB検索の設定
+Comment[lt]=Konfigūruoti CDDB informacijos gavimą
 Comment[mk]=Конфигурирање на пребарувањето на CDDB
 Comment[nb]=Oppsett av CDDB-henting
 Comment[nl]=Ophalen van CDDB-informatie instellen
@@ -145,13 +145,11 @@
 Comment[tg]=Танзими Бозёбии CDDB
 Comment[tr]=CDDB Erişimini Yapılandır
 Comment[uk]=Налаштування звантаження CDDB
-Comment[xx]=xxConfigure the CDDB Retrievalxx
 Comment[zh_CN]=配置 CDDB 获取
 
 Keywords=cddb
 Keywords[bg]=компактдиск, диск, извличане, информация, песен, база, данни, cddb
 Keywords[hi]=सीडीडीबी
 Keywords[ta]=குறுந்தகடு தகவல்தளம்
-Keywords[xx]=xxcddbxx
 
 Categories=Qt;KDE;X-KDE-settings-sound;
Index: libkcddb/cdinfo.h
===================================================================
--- libkcddb/cdinfo.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ libkcddb/cdinfo.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -107,7 +107,6 @@
        * For example <code>get("title")</code>
        */
       QVariant get(const QString &type) const;
-#ifndef KDE_NO_COMPAT        
       // Use get(...)
       QString       id;
       QString       artist;
@@ -118,7 +117,6 @@
       uint          year;
       uint          length; // in milliseconds
       uint          revision;
-#endif
 
       TrackInfoList trackInfoList;
 
Index: libkcddb/cddb.cpp
===================================================================
--- libkcddb/cddb.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ libkcddb/cddb.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -66,7 +66,7 @@
       }
     }
 
-    unsigned int l = (list[numTracks + 1] + 1) / 75;
+    unsigned int l = list[numTracks + 1] / 75;
     l -= list[0] / 75;
 
     id = ( ( id % 255 ) << 24 ) | ( l << 8 ) | numTracks;
@@ -92,7 +92,6 @@
 
     unsigned int discLengthInSec = ( trackOffsetList_[ numTracks+1 ] ) / 75;
 
-    // Disc length in seconds.
     ret.append( QString::number( discLengthInSec ) );
 
     return ret;
Index: libkcddb/submit.h
===================================================================
--- libkcddb/submit.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ libkcddb/submit.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -2,6 +2,7 @@
   Copyright (C) 2002 Rik Hemsley (rikkus) <rik@kde.org>
   Copyright (C) 2002 Benjamin Meyer <ben-devel@meyerhome.net>
   Copyright (C) 2002 Nadeem Hasan <nhasan@kde.org>
+  Copyright (C) 2005 Richard Lärkäng <nouseforaname@home.se>e>
 
   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Library General Public
@@ -46,7 +47,7 @@
       Submit();
       virtual ~Submit();
 
-      Result submit( const CDInfo& cdInfo, const TrackOffsetList &offsetList);
+      Result submit( CDInfo cdInfo, const TrackOffsetList &offsetList);
 
     protected:
       virtual KIO::Job* createJob(const CDInfo& cdInfo) = 0;

Property changes on: noatun/hi128-app-noatun.png
___________________________________________________________________
Name: svn:executable
   - *

Index: noatun/modules/marquis/marquis.plugin
===================================================================
--- noatun/modules/marquis/marquis.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/marquis/marquis.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -17,7 +17,6 @@
 Name[mk]=Маркиз
 Name[mt]=Markis
 Name[ru]=Маркиз
-Name[xx]=xxMarquisxx
 Name[zh_CN]=侯爵
 Name[zh_TW]=侯爵
 Comment=Plugin to interact with the Session Manager
@@ -72,7 +71,6 @@
 Comment[uk]=Втулок для взаємодії з Менеджером сеансів
 Comment[ven]=U plaga u itela u tangana na mulanguli wa tshitenwa
 Comment[xh]=Faka iplagi ukusebenza ngaphakathi noMphathi weNtlanganiso
-Comment[xx]=xxPlugin to interact with the Session Managerxx
 Comment[zh_CN]=和会话管理器交互的插件
 Comment[zh_TW]=用來給工作階段管理程式使用的外掛程式
 Comment[zu]=Faka iplagi ukusebenza ngaphakathi noMphathi weNhlanganiso
Index: noatun/modules/metatag/metatag.plugin
===================================================================
--- noatun/modules/metatag/metatag.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/metatag/metatag.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -51,7 +51,6 @@
 Name[tr]=İm Okuyucu
 Name[uk]=Читач етикеток
 Name[ven]=Muvhali wa Tag
-Name[xx]=xxTag Readerxx
 Name[zh_CN]=标签读取程序
 Name[zh_TW]=標籤閱讀器
 Name[zu]=Umfundi we Tag
@@ -102,7 +101,6 @@
 Comment[tr]=Medya dosyalarındaki imleri okumak ve yazmak için destek
 Comment[uk]=Підтримка для читання та запису етикеток в медіа-файлах
 Comment[ven]=Thikhedzo ya u vhala na u nwala u itela u tag kha dzifaela dza media 
-Comment[xx]=xxSupport for reading and writing to tags in media filesxx
 Comment[zh_CN]=支持对媒体文件的标签进行读取和写入
 Comment[zh_TW]=支援讀取或寫入媒體檔案的標籤
 Comment[zu]=Inxaso yokufunda nokubhala amathegi kumafayela ezezindaba
Index: noatun/modules/keyz/keyz.plugin
===================================================================
--- noatun/modules/keyz/keyz.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/keyz/keyz.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -17,7 +17,6 @@
 Name[sv]=Tangentisar
 Name[ta]=விசைகள்
 Name[xh]=Izitshixo
-Name[xx]=xxKeyzxx
 Name[zu]=Izikhiye
 Comment=Global shortcuts for most operations
 Comment[bg]=Управление чрез бързи клавиши на повечето операции
@@ -38,6 +37,7 @@
 Comment[is]=Altækir flýtilyklar fyrir flest allt
 Comment[it]=Scorciatoie globali per le operazioni comuni
 Comment[ja]=ほとんどの操作に使われるグローバルショートカット
+Comment[lt]=Globalieji klavišai daugeliui operacijų
 Comment[mk]=Глобални кратенки за повеќето операции
 Comment[nb]=Globale snarveier for de fleste operasjoner
 Comment[nl]=Globale snelkoppelingen voor de meeste handelingen
@@ -55,5 +55,4 @@
 Comment[ta]=பல செயலுகளுக்கான உலகளாவிய குறுக்குவழிகள்
 Comment[tr]=Pek çok İşlemler için Genel Kısayollar
 Comment[uk]=Глобальні скорочення для більшості дій
-Comment[xx]=xxGlobal shortcuts for most operationsxx
 Comment[zh_CN]=大多数操作的全局快捷键
Index: noatun/modules/voiceprint/voiceprint.plugin
===================================================================
--- noatun/modules/voiceprint/voiceprint.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/voiceprint/voiceprint.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -35,7 +35,6 @@
 Name[tr]=Ses Gözlemcisi
 Name[ven]=U phirintha ha Mukosi
 Name[xh]=Ushicilelo lelizwi
-Name[xx]=xxVoiceprintxx
 Name[zh_CN]=声波纹
 Name[zh_TW]=聲波紋
 Name[zu]=Ushicilelo lelizwi
@@ -47,6 +46,7 @@
 Comment[cy]=Gweledydd argraff lais
 Comment[da]=En voiceprint-visualisering
 Comment[de]=Klangvisualisierung
+Comment[el]=Μια αναπαράσταση αποτυπώματος φωνής
 Comment[en_GB]=A voiceprint visualiser
 Comment[es]=Un visualizador de huellas de voz
 Comment[et]=Signaali visualiseerimise plugin
@@ -58,6 +58,7 @@
 Comment[is]=Raddritsskjár
 Comment[it]=Visualizzatore di impronta vocale
 Comment[ja]=声紋の視覚効果
+Comment[lt]=Balso antspaudo vaizduoklis
 Comment[nb]=Voiceprint-fremvisar
 Comment[nl]=Stemafdruk visualisatie
 Comment[nn]=Voiceprint-framvisar
@@ -74,5 +75,4 @@
 Comment[ta]=குரல் அச்சு படக்காட்சி
 Comment[tr]=Ses Dökümü İzleme Programı
 Comment[uk]=Візуаліатор voiseprint
-Comment[xx]=xxA voiceprint visualizerxx
 Comment[zh_CN]=声波纹视觉效果
Index: noatun/modules/winskin/winskin.plugin
===================================================================
--- noatun/modules/winskin/winskin.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/winskin/winskin.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -58,7 +58,6 @@
 Name[ven]=Interface ya WinAmp
 Name[wa]=Eterface po WinAmp
 Name[xh]=Ujongano lwe WinAmp
-Name[xx]=xxWinAmp Interfacexx
 Name[zh_CN]=WinAmp 界面
 Name[zh_TW]=WinAmp 界面
 Name[zu]=Uxhumano olubhekeneyo lwe WinAmp
@@ -71,6 +70,7 @@
 Comment[cy]=Llwythydd Crwyn Winamp
 Comment[da]=En Winamp-forsideindlæser
 Comment[de]=Import von Winamp-Optiken (Skins)
+Comment[el]=Φόρτωση θεμάτων Winamp
 Comment[es]=Un cargador de pieles de Winamp
 Comment[et]=Winampi rüüde laadija
 Comment[eu]=Winamp azal kargatzailea
@@ -81,6 +81,7 @@
 Comment[is]=Les skinn fyrir WinAmp
 Comment[it]=Caricatore di skin di Winamp
 Comment[ja]=Winampのスキンローダ
+Comment[lt]=Winamp apvalkalų įkėliklis
 Comment[mk]=Вчитувач на маски за Winamp 
 Comment[nb]=Laster WinAmp-drakt
 Comment[nl]=Een Winamp-skinlader
@@ -98,5 +99,4 @@
 Comment[ta]=வின் ஆம்ப் அலங்கார அமைப்பு ஏற்றி
 Comment[tr]=Winamp arayüz yükleyici
 Comment[uk]=Завантажувач жупанів Winamp
-Comment[xx]=xxA Winamp skin loaderxx
 Comment[zh_CN]=Winamp 外观载入器
Index: noatun/modules/winskin/mimetypes/interface/x-winamp-skin.desktop
===================================================================
--- noatun/modules/winskin/mimetypes/interface/x-winamp-skin.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/winskin/mimetypes/interface/x-winamp-skin.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -13,7 +13,7 @@
 Comment[cy]=Croen Winamp cywasgedig
 Comment[da]=Komprimeret Winamp-forside
 Comment[de]=Komprimierte Winamp-Oberfläche
-Comment[el]=Συμπιεσμένο Winamp Skin
+Comment[el]=Συμπιεσμένο θέμα Winamp
 Comment[es]=Piel comprimida de Winamp
 Comment[et]=Winampi pakitud kest (skin)
 Comment[eu]=Winamp azal konprimitua
@@ -25,6 +25,7 @@
 Comment[is]=Þjappað Winamp-skin
 Comment[it]=Skin di Winamp compressa
 Comment[ja]=圧縮されたWinampのスキン
+Comment[lt]=Suglaudintas Winamp apvalkalas
 Comment[mk]=Компресирана маска Winamp
 Comment[nb]=Komprimert Winamp-ham
 Comment[nl]=Gecomprimeerde Winamp-skin
@@ -43,5 +44,4 @@
 Comment[tg]=Намуди Фишурдашудаи Winamp
 Comment[tr]=Sıkıştırılmış Winamp Teması
 Comment[uk]=Стиснутий жупан Winamp
-Comment[xx]=xxCompressed Winamp Skinxx
 Comment[zh_CN]=压缩的 Winamp 皮肤
Index: noatun/modules/excellent/excellent.plugin
===================================================================
--- noatun/modules/excellent/excellent.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/excellent/excellent.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -47,7 +47,6 @@
 Name[uk]=Чудовий
 Name[ven]=Zwavhudi
 Name[xh]=Hle kwaphela
-Name[xx]=xxExcellentxx
 Name[zh_CN]=优秀的
 Name[zh_TW]=完美的
 Name[zu]=Kuhle kakhulu
@@ -103,7 +102,6 @@
 Comment[uk]=Дуже звичний, і тому дуже зручний, інтерфейс
 Comment[ven]=Zwithu zwazwo, zwo ralo zwa vhuthogwa, interface
 Comment[xh]=Eqheleke kakhulu, neluncedo kakhulu, injongano
-Comment[xx]=xxA very ordinary, and therefore very usable, interfacexx
 Comment[zh_CN]=非常普通，因而也非常有用的接口
 Comment[zh_TW]=非常普通但是很實用的介面
 Comment[zu]=Ejwayelekile ngakhoke esebenzisekayo,uxhumano olubhekeneyo
Index: noatun/modules/net/net.plugin
===================================================================
--- noatun/modules/net/net.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/net/net.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -59,7 +59,6 @@
 Name[uz]=Тармоқ интерфейси
 Name[ven]=Vhukwamani
 Name[xh]=Ujongano nomsebenzi womnatha
-Name[xx]=xxNetwork Interfacexx
 Name[zh_CN]=网络接口
 Name[zh_TW]=網路介面
 Name[zu]=Uxhumano Olubhekene loxhumaniso
@@ -115,7 +114,6 @@
 Comment[uk]=Дуже простий інтерфейс мережі для зчитування на порту 7539
 Comment[ven]=Vhukwamani ho leluwaho hau vhala kha port ya 7539
 Comment[xh]=Ufundo olulula kakhulu-lujongano lomsebenzi womnatha kuphela kwizibuko 7539
-Comment[xx]=xxA very simple read-only network interface on port 7539xx
 Comment[zh_CN]=简单的位于 7539 端口的只读网络接口
 Comment[zh_TW]=一個位於 7539 Port 上唯讀存取的簡易型網路介面
 Comment[zu]=Okulula ukufunda kuphela kuxhumaniso olubhekeneyo kwi port 7539
Index: noatun/modules/kjofol-skin/kjofolui.plugin
===================================================================
--- noatun/modules/kjofol-skin/kjofolui.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/kjofol-skin/kjofolui.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -11,7 +11,6 @@
 Name[pt_BR]=K-Jofol
 Name[ta]=K-Jofol
 Name[xh]=K-Jofol
-Name[xx]=xxK-Jöfolxx
 Comment=Skin loader for K-Jofol skins
 Comment[bg]=Зареждане на теми за K-Jofol
 Comment[bs]=Skin Loader za K-Jofol skinove
@@ -20,6 +19,7 @@
 Comment[cy]=Llwythydd croen ar gyfer crwyn K-Jofol
 Comment[da]=Forsideindlæser for K-Jöfol-forsider
 Comment[de]=Importprogramm für K-Jöfol-Optiken (Skins)
+Comment[el]=Φόρτωση θέματος για θέματα K-Jofol
 Comment[es]=Cargador de pieles de K-Jofol
 Comment[et]=K-Jöfoli rüüde laadija
 Comment[eu]=Azal kargatzailea K-Jöfol azalentzat
@@ -30,6 +30,7 @@
 Comment[is]=Hleður inn K-Jofol skinn
 Comment[it]=Caricatore di skin per K-Jöfol
 Comment[ja]=K-Jöfolスキンのローダ
+Comment[lt]=K-Jofol apvalkalų įkėliklis
 Comment[mk]=Вчитувач на маски за маски K-Jofol
 Comment[nb]=Drakthenter for K-Jöfol-drakt
 Comment[nl]=Skinlader voor K-Jofol-skins
@@ -47,5 +48,4 @@
 Comment[ta]=கே-ஜோபோல் அலங்கார அமைப்புக்கான ஏற்றி
 Comment[tr]=K-Jofol arayüzleri için yükleyici
 Comment[uk]=Завантажувач жупанів для K-Jofol
-Comment[xx]=xxSkin loader for K-Jofol skinsxx
 Comment[zh_CN]=K-Jofol 外观载入器
Index: noatun/modules/simple/simple.plugin
===================================================================
--- noatun/modules/simple/simple.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/simple/simple.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -57,7 +57,6 @@
 Name[ven]=Zwoleluwa
 Name[wa]=Simpe
 Name[xh]=Lula
-Name[xx]=xxSimplexx
 Name[zh_CN]=简单
 Name[zh_TW]=簡單
 Name[zu]=Okulula
@@ -106,7 +105,6 @@
 Comment[tr]=Basit arayüz (gömülü video)
 Comment[uk]=Простий інтерфейс (вмонтоване відео)
 Comment[xh]=GUI Elula (video ebekiweyo)
-Comment[xx]=xxSimple GUI (embedded video)xx
 Comment[zh_CN]=简单图形用户界面 (嵌入式视频)
 Comment[zh_TW]=簡單圖形使用者界面（嵌入式視訊）
 Comment[zu]=I-GUI Elula (ividiyo ehlanganiselwe)
Index: noatun/modules/infrared/infrared.plugin
===================================================================
--- noatun/modules/infrared/infrared.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/infrared/infrared.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -56,7 +56,6 @@
 Name[uk]=Керуванням інфрачервоним зв'язком
 Name[ven]=Vhulanguli ha Infrared
 Name[xh]=Ulawulo olwakhelwe ngezantsi
-Name[xx]=xxInfrared Controlxx
 Name[zh_CN]=红外线控制
 Name[zh_TW]=紅外線控制
 Name[zu]=Ulawulo Olunokubomvu
@@ -68,6 +67,7 @@
 Comment[cy]=Rheoli Noatun efo'ch Rheolydd Isgoch
 Comment[da]=Kontrollér Noatun med din fjernbetjening
 Comment[de]=Kontrollieren Sie Noatun mit Ihrer Infrarot-Fernbedienung
+Comment[el]=Έλεγχος του Noatun με το IR τηλεκοντρόλ σας
 Comment[es]=Controle Noatun con su mando a distancia
 Comment[et]=Noatun juhtimine IR puldi abil
 Comment[eu]=Kontrolatu Noatun urruneko infragorriekin
@@ -78,6 +78,7 @@
 Comment[is]=Stjórnaðu Nóatún með fjarstýringunni þinni
 Comment[it]=Controlla Noatun con il tuo telecomando
 Comment[ja]=赤外線リモコンでNoatunをコントロール
+Comment[lt]=Valdykite Noatun su Jūsų infraraudonųjų spindulių valdymo pultu
 Comment[mk]=Го контролира Noatun со вашиот инфрацрвен далечински управувач
 Comment[nb]=Styr Noatun med en infrerød fjernkontroll
 Comment[nl]=Bedien Noatun met uw infrarood afstandbediening
@@ -95,5 +96,4 @@
 Comment[ta]=உங்கள் IR கருவியால் Noatun இனைக் கட்டுப்படுத்தவும்
 Comment[tr]=Kızılötesi Uzaktan Kumanda ile Noatun'u Kontrol Edin
 Comment[uk]=Керує Noatun з віддаленого інфрачервоного пульта керування
-Comment[xx]=xxControl Noatun with your IR remotexx
 Comment[zh_CN]=使用红外线遥控 Noatun
Index: noatun/modules/kaiman/kaiman.plugin
===================================================================
--- noatun/modules/kaiman/kaiman.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/kaiman/kaiman.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -56,7 +56,6 @@
 Name[uz]=Kaiman интерфейси
 Name[ven]=Interface ya Kaiman
 Name[xh]=Ujongano lwe Kaiman
-Name[xx]=xxKaiman Interfacexx
 Name[zh_CN]=Kaiman 接口
 Name[zh_TW]=Kaiman 介面
 Name[zu]=Uxhumano olubhekeneyo lwe Kaiman
@@ -71,7 +70,7 @@
 Comment[cy]=Rhyngwyneb croen GQMpeg wedi'i droi o Kaiman
 Comment[da]=En GQMpeg-forsidegrænseflade porteret fra Kaiman
 Comment[de]=Eine Schnittstelle zur GQMpeg-Optik, aus Kaiman übernommen
-Comment[el]=Ένα περιβάλλον με βάση το skin GQMpeg προσαρμοσμένο από το Kaiman
+Comment[el]=Μια διασύνδεση βασισμένη στο θέμα GQMpeg προσαρμοσμένο από το Kaiman
 Comment[eo]=GQMpeg-etosinterfaco portita de Kajmano
 Comment[es]=Un interfaz de pieles GQMpeg portado de Kaiman
 Comment[et]=Kaimanist porditud GQMpeg skinnide toetus
@@ -86,7 +85,7 @@
 Comment[it]=Una skin per GQMpeg convertita da Kaiman
 Comment[ja]=Kaimanから移植したGQMpegスキンインターフェース
 Comment[ko]=Kaiman에서 가져가는 GQMpeg 모양새
-Comment[lt]=GQMpeg pavidalų sąsaja, pritaikyta nuo Kaiman
+Comment[lt]=GQMpeg apvalkalų sąsaja, pritaikyta nuo Kaiman
 Comment[lv]=GQMpeg ādu starpseja pārcelta no Kaimana
 Comment[mk]=Интерфејс GQMpeg за маски пренесен од Kaiman
 Comment[ms]=Kulit antaramuka GQMpeg dari Kaiman
@@ -111,7 +110,6 @@
 Comment[uk]=Інтерфейс жупанів GQMpeg, перенесено з Kaiman
 Comment[ven]=Lukanda lwa GQMpeg lu vhonwaho kha Kaiman
 Comment[xh]=GQMpeg wojongano nolusu olunezibuko olusuka kwi Kaiman
-Comment[xx]=xxA GQMpeg skin interface ported from Kaimanxx
 Comment[zh_CN]=从 Kaiman 移植的 GQMpeg 外观
 Comment[zh_TW]=從 Kaiman 移植的 GQMpeg 外表
 Comment[zu]=A GQMpeg uxhumano lwesikhumba ported from Kaiman
Index: noatun/modules/noatunui/noatunui.plugin
===================================================================
--- noatun/modules/noatunui/noatunui.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/noatunui/noatunui.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -44,7 +44,6 @@
 Name[uk]=Молочний шоколад
 Name[ven]=Tshokholeiti ya mafhi
 Name[xh]=Ubisi-ichocolate
-Name[xx]=xxMilk-Chocolatexx
 Name[zh_CN]=牛奶巧克力
 Name[zh_TW]=牛奶巧克力
 Name[zu]=Ushokolade Wobisi
@@ -100,7 +99,6 @@
 Comment[uk]=Простий графічний інтерфейс Noatun
 Comment[ven]=Noatun yo leluwaho ya GUI
 Comment[xh]=iGUI elula ye Noatun
-Comment[xx]=xxNoatun's simple GUIxx
 Comment[zh_CN]=Noatun 的简单界面
 Comment[zh_TW]=Noatun 簡單圖形界面
 Comment[zu]=I GUI elula ye Noatun
Index: noatun/modules/monoscope/monoscope.plugin
===================================================================
--- noatun/modules/monoscope/monoscope.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/monoscope/monoscope.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -30,7 +30,6 @@
 Name[tr]=Monoskop
 Name[uk]=Моноскоп
 Name[xh]=Isithuba esinye
-Name[xx]=xxMonoscopexx
 Name[zh_CN]=单像管
 Name[zh_TW]=單像管
 Name[zu]=Isithuba esinye
@@ -84,7 +83,6 @@
 Comment[uk]=Гарний аналізатор хвильових меж
 Comment[ven]=Mugudi neat waveform scope
 Comment[xh]=Umhlahleli wesithuba wendlela ecocekileyo yamaza
-Comment[xx]=xxA neat waveform scope analyzerxx
 Comment[zh_CN]=一个小巧的波形范围分析器
 Comment[zh_TW]=一個小巧的波形分析器
 Comment[zu]=Umhaziyi wesithuba wendlela ecehlanzekile
Index: noatun/modules/htmlexport/htmlexport.plugin
===================================================================
--- noatun/modules/htmlexport/htmlexport.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/htmlexport/htmlexport.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -22,6 +22,7 @@
 Name[is]=Útflutningur á HTML lagalista
 Name[it]=Esportazione HTML delle playlist
 Name[ja]=HTMLプレイリストのエクスポート
+Name[lt]=HTML grojaraščio eksportas
 Name[mk]=Испраќање на листа со нумери како HTML
 Name[nb]=Eksport av HTML-spilleliste
 Name[nl]=HTML-afspeellijst-export
@@ -40,7 +41,6 @@
 Name[ta]=HTML பாடல் பட்டியல் ஏற்றுமதி
 Name[tr]=HTML Çalma Listesi Dışarı Aktarma
 Name[uk]=Експорт списку композицій до HTML
-Name[xx]=xxHTML Playlist Exportxx
 Name[zh_CN]=HTML 播放列表导出
 Comment=Creates a HTML file from the playlist
 Comment[af]=Skep 'n Html lêer van die liedjielys
@@ -97,7 +97,6 @@
 Comment[uk]=Створює файл HTML зі списку композицій
 Comment[ven]=Itani faela ya HTML u bva kha mutevhe wa tshitambi
 Comment[xh]=Yenza ifayile ye HTML kuluhlu lomdlalo
-Comment[xx]=xxCreates a HTML file from the playlistxx
 Comment[zh_CN]=从播放列表创建 HTML 文件
 Comment[zh_TW]=從播放清單建立 HTML 文件檔案
 Comment[zu]=Yenza ifayela ye HTML kuluhlu lomdlalo
Index: noatun/modules/dcopiface/dcopiface.plugin
===================================================================
--- noatun/modules/dcopiface/dcopiface.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/dcopiface/dcopiface.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -58,7 +58,6 @@
 Name[uk]=Інтерфейс DCOP
 Name[uz]=DCOP интерфейси
 Name[xh]=Ujongano lwe DCOP
-Name[xx]=xxDCOP Interfacexx
 Name[zh_CN]=DCOP 接口
 Name[zh_TW]=DCOP 介面
 Name[zu]=Uxhumano olubhekeneyo lwe DCOP
@@ -115,7 +114,6 @@
 Comment[uz]=Жараёнлараро боғланиш учун DCOP интерфейси
 Comment[ven]=DCOP Interface ya tshitenwa tsha vhudavhudzani
 Comment[xh]=Ujongano lwe DCOP-lothungelwano lwangaphakathi oluqhubekayo
-Comment[xx]=xxDCOP Interface for Inter-Process Communicationxx
 Comment[zh_CN]=进程间通信的 DCOP 接口
 Comment[zh_TW]=程序程式間通訊的 DCOP 介面
 Comment[zu]=Uxhumano olubhekene lwe DCOP-lothungelwano lwangaphakathi oluqhubekayo
Index: noatun/modules/splitplaylist/splitplaylist.plugin
===================================================================
--- noatun/modules/splitplaylist/splitplaylist.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/splitplaylist/splitplaylist.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -54,7 +54,6 @@
 Name[uk]=Розбитий список композицій
 Name[ven]=Mutevhe wa tshitambi tshau phadalala
 Name[xh]=Chaka uluhlu lomdlalo
-Name[xx]=xxSplit Playlistxx
 Name[zh_CN]=分割播放列表
 Name[zh_TW]=分割播放清單
 Name[zu]=Qhekeza uluhlu lomdlalo
@@ -78,6 +77,7 @@
 Comment[is]=Lagalistinn með ónákvæma nafnið
 Comment[it]=Playlist con i titoli non accurati
 Comment[ja]=不正確なタイトルのプレイリスト(実際に分割はしません)
+Comment[lt]=Netiksliai pavadintas grojaraštis
 Comment[mk]=Неточно насловена листа со нумери
 Comment[nb]=Den unøyaktig navngitte spillelisten
 Comment[nl]=De inaccuraat getitelde afspeellijst
@@ -96,5 +96,4 @@
 Comment[tg]=Рӯйхати бозикуниҳои бетартибона номгузошташуда
 Comment[tr]=Düzensiz başlıklı çalma listesi
 Comment[uk]=Неохайно підписаний список композицій
-Comment[xx]=xxThe inaccurately titled playlistxx
 Comment[zh_CN]=命名不确切的播放列表
Index: noatun/modules/systray/systray.plugin
===================================================================
--- noatun/modules/systray/systray.plugin	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/modules/systray/systray.plugin	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -29,7 +29,6 @@
 Name[tr]=Genç Hickory
 Name[ven]=Hickory mutuku
 Name[xh]=iHickory encinane
-Name[xx]=xxYoung Hickoryxx
 Name[zh_CN]=小胡桃木
 Name[zh_TW]=小山胡桃
 Comment=A system tray interface
@@ -84,7 +83,6 @@
 Comment[uk]=Інтерфейс системного лотка
 Comment[ven]=Thirei ya sisitemu
 Comment[xh]=Ujongano lwendlela yetreyi
-Comment[xx]=xxA system tray interfacexx
 Comment[zh_CN]=一个系统托盘界面
 Comment[zh_TW]=System Tray的介面
 Comment[zu]=Isistimu yetreyi loxhumano olubhekene
Index: noatun/noatun.desktop
===================================================================
--- noatun/noatun.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ noatun/noatun.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -6,7 +6,6 @@
 Name[is]=Nóatún
 Name[pa]=ਨੌਟੋਮ
 Name[ta]=நோடன்
-Name[xx]=xxNoatunxx
 Exec=noatun %i %m -caption "%c" %U
 Icon=noatun
 Type=Application
@@ -63,7 +62,6 @@
 GenericName[uz]=Медиа плейер
 GenericName[ven]=Tshitambi tsha Media
 GenericName[xh]=Umdlali we Midia
-GenericName[xx]=xxMedia Playerxx
 GenericName[zh_CN]=媒体播放器
 GenericName[zh_TW]=媒體播放器
 GenericName[zu]=Umdlali Womculo

Property changes on: noatun/hi64-app-noatun.png
___________________________________________________________________
Name: svn:executable
   - *

Index: doc/kscd/kscd18.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd19.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/index.docbook
===================================================================
--- doc/kscd/index.docbook	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ doc/kscd/index.docbook	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -14,9 +14,15 @@
 <authorgroup>
 
 <author>
+<firstname>Mike</firstname>
+<surname>McBride</surname> 
+<affiliation><address>&Mike.McBride.mail;</address></affiliation>
+</author>
+
+<author>
 <firstname>Jonathan</firstname>
 <surname>Singer</surname>
-<affiliation><address><email>jsinger@leeta.net</email></address></affiliation>
+<affiliation><address>&Jonathan.Singer.mail;</address></affiliation>
 </author>
 
 <author>
@@ -30,7 +36,7 @@
 <firstname>Bernd</firstname>
 <othername>Johannes</othername>
 <surname>Wuebben</surname>
-<affiliation><address><email>wuebben@kde.org</email></address></affiliation>
+<affiliation><address>&Bernd.Johannes.Wuebben.mail;</address></affiliation>
 <contrib>Developer</contrib>
 </othercredit>
 
@@ -51,7 +57,7 @@
 <othercredit role="reviewer">
 <firstname>Lauri</firstname>
 <surname>Watts</surname>
-<affiliation><address><email>lauri@kde.org</email></address></affiliation>
+<affiliation><address>&Lauri.Watts.mail;</address></affiliation>
 <contrib>Reviewer</contrib>
 </othercredit>
 <!-- TRANS:ROLES_OF_TRANSLATORS -->
@@ -60,17 +66,22 @@
 <copyright>
 <year>2000</year><year>2004</year>
 <holder>J Singer</holder>
+
 </copyright>
+<copyright>
 
+<year>2005-2006</year>
+<holder>Mike McBride</holder>
+</copyright>
 <legalnotice>&FDLNotice;</legalnotice>
 
 
-<date>2002-10-07</date>
-<releaseinfo>1.4</releaseinfo>
+<date>2005-12-22</date>
+<releaseinfo>1.5</releaseinfo>
 
 <abstract>
 <para>&kscd; is a small, fast, <abbrev>CDDB</abbrev> enabled audio
-<abbrev>CD</abbrev> player for &UNIX; platforms.</para>
+<abbrev>&CD;</abbrev> player for &UNIX; platforms.</para>
 </abstract>
 
 <keywordset>
@@ -96,9 +107,9 @@
 
 <para>I hope you will enjoy this &CD; player.</para>
 
-<para>Bernd Johannes Wuebben</para>
+<para>&Bernd.Johannes.Wuebben;</para>
 
-<para><email>wuebben@kde.org</email></para>
+<para>&Bernd.Johannes.Wuebben.mail;</para>
 
 <sect1 id="supported-platforms">
 <title>Supported Platforms</title>
@@ -106,7 +117,7 @@
 <para>&kscd; explicitly supports the following platforms:</para>
 
 <itemizedlist>
-<listitem><para>Linux</para></listitem>
+<listitem><para>&Linux;</para></listitem>
 <listitem><para>FreeBSD</para></listitem>
 <listitem><para>NetBSD</para></listitem>
 <listitem><para>BSD386</para></listitem>
@@ -216,7 +227,7 @@
 <para>The menu provides several tools to help you search for information about the artist on the
 Internet. You can find out about performance dates, purchase information, and
 other information by pressing this button and choosing the appropriate option in
-the pop-up menu that appears.</para>
+the popup menu that appears.</para>
 <para>This menu also allows you to open this help document, report bugs, learn more 
 about &kscd; and &kde; and to quit &kscd;.</para>
 </sect2>
@@ -245,19 +256,18 @@
 
 
 <sect2>
-<title>The Volume button</title>
+<title>The Volume slider</title>
 
 <screenshot>
-<screeninfo>The Volume button</screeninfo>
+<screeninfo>The Volume slider</screeninfo>
 <mediaobject>
 <imageobject><imagedata fileref="kscd9.png" format="PNG"/></imageobject>
 <textobject><phrase>The Volume slider</phrase></textobject>
 </mediaobject>
 </screenshot>
 
-<para> This button pops up a slider which controls the volume of the audio output 
-of the &CD;. Right is
-louder, left is quieter. If you are playing your &CD; through your sound card,
+<para> This slider controls the volume of the audio output 
+of the &CD;. Moving it to the right makes the music louder, left makes it quieter. If you are playing your &CD; through your sound card,
 the sound card mixer will affect the playback volume as well.</para>
 </sect2>
 
@@ -273,8 +283,8 @@
 </mediaobject>
 </screenshot>
 	    
-<para>This combo box shows you the current track and lets you directly select
-a track to play. </para>
+<para>This combo box shows you the current track number, the name of the track and the time (in minutes and seconds).  You can use this drop down box to directly select
+any track on the &CD;.  </para>
 </sect2>
 
 </sect1>
@@ -285,31 +295,35 @@
 <sect1 id="configuration-intro">
 <title>The primary configuration window</title>
 
-<para>The primary configuration window for &kscd; is a tabbed dialog with three
+<para>You configure &kscd; by clicking on the <guibutton>Extras</guibutton> button.  This will bring up a menu, select 
+<guilabel>Configure &kscd;...</guilabel>.  This will open a new window.</para>
+<para>The primary configuration window for &kscd; is divided into two 
 major sections. </para>
 
 <itemizedlist>
 <listitem><para><link linkend="kscd-options-tab"><guilabel>CD
-Player</guilabel></link></para></listitem>
-<listitem><para><link linkend="freedb-tab"><guilabel>Freedb Lookup</guilabel></link></para></listitem>
-<listitem><para><link linkend="smtp-options"><guilabel>Freedb Submit</guilabel>
-</link></para></listitem>
+Player</guilabel></link> to determine the look and behavior of &kscd;.</para></listitem>
+<listitem><para><guilabel>CDDB</guilabel> which is used to configure the CDDB lookup features of &kscd;.</para></listitem>
 </itemizedlist>
+
+<para>You can switch between these two sections using the icons on the left side of the dialog.</para>
 </sect1>
 
 <sect1 id="kscd-options-tab">
-<title>The <guilabel>CD Player</guilabel> tab</title>
+<title>The <guilabel>CD Player</guilabel> dialog</title>
 
 <screenshot>
-<screeninfo>The <guilabel>CD Player</guilabel> tab</screeninfo>
+<screeninfo>The <guilabel>CD Player</guilabel> dialog</screeninfo>
 <mediaobject>
 <imageobject><imagedata fileref="kscd12.png" format="PNG"/></imageobject>
-<textobject><phrase>The <guilabel>KSCD Configuration</guilabel> tab</phrase></textobject>
+<textobject><phrase>The <guilabel>KSCD Configuration</guilabel> dialog</phrase></textobject>
 </mediaobject>
 </screenshot>
 
-<para>The <guilabel>LCD Color</guilabel> and <guilabel>Background
-Color</guilabel> fields show the color selected for the foreground and
+<para>The <guilabel>LCD font:</guilabel> text box lists the currently selected font to display all information in the &kscd; status display.  To change the font, click the <guibutton>Choose...</guibutton> button.</para>
+
+<para>The <guilabel>LCD color:</guilabel> and <guilabel>Background
+color:</guilabel> fields show the color selected for the foreground and
 background of the status display. Press the color bars to change
 these colors.</para>
 
@@ -323,7 +337,7 @@
 non-local systems if you want to submit <acronym>CDDB</acronym>
 entries, especially if you access the Internet through a dial-up
 connection. Check the documentation for your &Linux; distribution for
-details. Some Linux distributions that use sendmail to deliver e-mail
+details. Some Linux distributions that use sendmail to deliver email
 require only that you enter your mail host into the
 <option>&quot;Smart&quot; relay host</option> field in
 <filename>/etc/sendmail.cf</filename>. In addition, the
@@ -342,25 +356,35 @@
 <option><replaceable>openURL %s</replaceable></option></userinput>.</para>
 -->
 
-<para><guilabel>Show icon in system tray</guilabel> causes a &kscd; control to
+<para>Placing a mark in the checkbox labeled <guilabel>Show icon in system tray</guilabel> causes a &kscd; control to
 appear in the &kicker; panel.</para>
 
+<para>Placing a mark in the checkbox labeled <guilabel>Show track announcement</guilabel> causes a small information window to appear on 
+top of the kicker window each time the &CD; track changes.  This window will automatically disappear in 5 seconds.</para>
+
+<screenshot>
+<screeninfo>Sample track announcement</screeninfo>
+<mediaobject>
+<imageobject><imagedata fileref="kscdannounc.png" format="PNG"/></imageobject>
+<textobject><phrase>Sample track announcement</phrase></textobject>
+</mediaobject>
+</screenshot>
+
+
 <para>Set the <guilabel>Skip interval</guilabel> box to the desired number of 
 seconds to move ahead or behind when the <guibutton>forward skip</guibutton> 
 or <guibutton>reverse skip</guibutton> buttons in the Control Panel are pressed.</para>
 
-<para><guilabel>Autoplay when CD inserted</guilabel> causes &CD; play to
-start when the tray is closed, with no need to press the
+<para><guilabel>Autoplay when CD inserted</guilabel> causes &kscd; to start playing the &CD; 
+when the tray is closed, with no need to press the
 <guibutton>Play</guibutton> button.</para>
 
 <para><guilabel>Eject CD when finished playing</guilabel> causes the
-&CD; to be ejected when playback ends.</para>
+&CD; to be automatically ejected when playback ends.</para>
 
 <para><guilabel>Stop playing CD on exit</guilabel> causes &CD; playback to stop
 when &kscd; is closed.</para>
 
-
-
 <para>The <guilabel>CD-ROM Device</guilabel> field contains the name
 of the &CD-ROM; device to be used to play audio &CD;s. The default
 value is <filename>/dev/cdrom</filename>. The permissions on this
@@ -369,8 +393,30 @@
 superuser privileges and can be done from the command line, or in the
 Super User Mode of &konqueror;.</para>
 
+<note><para>Before we discuss the options that follow, it is important to understand that there are two 
+ways that personal computers can play a &CD;.</para>
+
+<para>The first method (which &kscd; refers to as direct digital playback), is performed by reading the digital data from the 
+&CD; using Digital Audio Extraction (DAE).  This data is sent to your machines CPU which converts the digital data to sound.  This method requires 
+a &CD; drive that is capable of DAE (most new drives are) and it requires some CPU processing time to generate the sounds you hear.</para>
+
+<para>The second method uses the internal circuitry available on most &CD; drives to read the data and generate the sounds you will hear 
+without using your computers CPU.  This data is transmitted by a dedicated cable directly to the sound card in your computer.  This method requires 
+less CPU proccessing time, but it does require that the dedicated cable be connected inside your computer.  Not all computers have this connection.</para></note>
+
+<para>The checkbox labeled <guilabel>Use direct digital playback</guilabel> determines which method &kscd; uses to read the audio tracts.  If there is a mark in the checkbox, the first method is used.  If there is no mark in the checkbox, the second method is utilized.</para>
+
+<para>If you have selected direct digital playback, a dropdown box labeled <guilabel>Select audio backend:</guilabel> will let you select which 
+sound backend the digital information should be sent to.  The contents of the dropdown box will vary depending on your system. 
+Most users should select <guilabel>arts</guilabel>.  You can also select the device the audio backend uses by entering the device location in 
+the text box labeled <guilabel>Select audio device:</guilabel>.  A full discussion of audio devices and audio backends is beyond the scope of this manual.</para>
+
+<para>If a mark is placed in the checkbox labeled <guilabel>Allow encoding selection</guilabel>, you can select the text encoding for the results of a CDDB request.</para>
+<tip><para>The standard describes CDDB results as being strictly Latin 1.  If you are not having problems with your CDDB information, leave this box unchecked.</para></tip>
+
+
 <para>The <guibutton>Help</guibutton> button opens the &kscd; help contents
-page. <guibutton>OK</guibutton> saves the current settings and exits;
+page. The <guibutton>Defaults</guibutton> button restores the default values of all entries in this dialog; <guibutton>OK</guibutton> saves the current settings and exits;
 <guibutton>Apply</guibutton> saves the current settings without exiting;
 <guibutton>Cancel</guibutton> exits without saving. </para>
 </sect1>
@@ -393,33 +439,27 @@
 are performed. Setting <guilabel>Cache only</guilabel> means that only information already 
 on your computer will be used. <guilabel>Cache and remote</guilabel> will look up 
 information you do not already have while <guilabel>Remote only</guilabel> looks up 
-every disc over the Internet.  The time allowed before the
-lookup attempt times out can be set.</para>
+every disc over the Internet.</para>
 
 
-<para>The <guilabel>CDDB Server:</guilabel> list box allows you to specify your 
-freedb server. Enter a server address and port number. Select an entry from this list and it will
-appear in the text field above the selection box. The form of connection (CDDB or HTTP) can also 
-be set. (You are unlikely to want to change any of this from the default.) The <guilabel>Cache 
-Folders:</guilabel> text field lets you choose the folder where you want 
-<acronym>CDDB</acronym> entries to be stored locally.</para>
+<para>The <guilabel>CDDB Server:</guilabel> section determines which CDDB mirror site is used by &kscd; to 
+get album information.  You can enter a server name, port number and protocol using the text boxes and drop 
+down boxes or you can click the <guibutton>Show Mirror List</guibutton> button.  Clicking this button will 
+open a new window with a list of CDDB mirrors and their locations.  Simply select the server you want from 
+the list and click <guibutton>OK</guibutton>.</para>
 
-<!--
-<para>The <guilabel>Send freedb submissions to:</guilabel> field contains the
-e-mail address to which to submit <abbrev>CDDB</abbrev> entries. The default address
-is <email>freedb-submit@freedb.org</email>. As of version 0.8,
-<acronym>CDDB</acronym> entries from &kscd; are accepted for inclusion in the
-database. Enter servers manually by entering the address in the upper box and hitting the
-<guiicon>+</guiicon> button. Hit the <guiicon>-</guiicon> button to delete the selected entry
-from the list. The <guibutton>Defaults</guibutton> button restores all settings
-to the default values.The <guibutton>Help</guibutton> button opens the &kscd;
-help home page (this document).</para>
+<para>The section labeled <guilabel>Cache locations</guilabel> lets you determine where &kscd; saves CDDB information 
+on your computer.  To add a folder, enter the folder location in the text box at the top of the section and click 
+<guibutton>Add</guibutton>.  You can also select a 
+folder by clicking on the blue file folder to the right of the text box. To delete a folder, click on the folder name 
+once with the &LMB; and click <guibutton>Remove</guibutton>. You can change the order that &kscd; searches the folders by 
+clicking on the folder name and clicking on the <guibutton>Move Up</guibutton> and <guibutton>Move Down</guibutton> buttons.</para>
 
 <para>The <guibutton>Help</guibutton> button opens the &kscd; help contents
-page. <guibutton>OK</guibutton> saves the current settings and exits;
+page. The <guibutton>Defaults</guibutton> button restores the default values of all entries in this dialog; <guibutton>OK</guibutton> saves the current settings and exits;
 <guibutton>Apply</guibutton> saves the current settings without exiting;
 <guibutton>Cancel</guibutton> exits without saving. </para>
--->
+
 </sect1>
 
 <sect1 id="smtp-options">
@@ -433,33 +473,40 @@
 </screenshot>
 
 <para>The freedb Submit tab sets up connection to a mail
-server to submit new <acronym>CDDB</acronym> entries. This is useful
-if you do not have your own system configured as a server. Check
-<guilabel>Enable submission via SMTP</guilabel> to use this
-feature.</para>
+server or a web server to submit new <acronym>CDDB</acronym> entries. This is useful
+if you do not have your own system configured as a server. </para>
 
-<para>You may choose to <guilabel>Use email addresses from control
- center</guilabel> if you wish.  If you would like to open the
- &kcontrol; module to configure this email address, click on the text
- labelled <guilabel>Open the email address control panel</guilabel>.
- Changing the address there will change the default address for all
- &kde; applications that use this setting, not just for &kscd;, so do
- this with caution.</para>
- 
-<para>Otherwise, provide your preferred email profile in the 
-<guilabel>Use the following email addresses</guilabel> box. Enter your 
-email address, a reply to address, if desired, and the address of the
-<acronym>SMTP</acronym> server server in the field labelled
-<guilabel>Host:</guilabel>. You may also need to provide a username for 
-authentication, and the port number (typically
-<userinput>25</userinput>) in the field labelled
-<guilabel>Port:</guilabel>.</para>
+<para>If you plan to submit a CDDB entry, first you must decide between submitting between HTTP 
+and submitting the entry as an email (via SMTP).  </para>
 
+<tip><para>It is simpler to submit new entries using &HTTP;.  Some firewalls block this traffic.  If your 
+firewall prevents you from sending new entries using &HTTP;, you can use SMTP.</para></tip>
 
+<para>First select either <guilabel>&HTTP;</guilabel> or <guilabel>SMTP (Email)</guilabel> to determine which 
+protocol to use.</para>
+
+<sect2 id="http-options">
+<title>Using &HTTP; to send CDDB information</title>
+<para>You can enter a server name or port number in the text boxes provided.  If 
+you want to send this information to the international servers, you do not need to 
+change anything.</para>
+</sect2>
+
+<sect2 id="smtp2-options">
+<title>Using SMTP (Email) to send CDDB information</title>
+<para>To prepare to submit information using email, enter your email address in the 
+textbox labeled <guilabel>Reply-To:</guilabel>, your email server in the textbox 
+labeled <guilabel>SMTP-server:</guilabel> and select the port number in the dropdown box 
+labeled <guilabel>Port:</guilabel>.</para>
+<para>If you need to use a password to send email using the email server, place a mark in the 
+checkbox labeled <guilabel>Server needs authentication</guilabel> and enter your 
+username in the textbox labeled <guilabel>Username:</guilabel>.</para>
+
 <para>The <guibutton>Help</guibutton> button opens the &kscd; help contents
-page. <guibutton>OK</guibutton> saves the current settings and exits;
+page. The <guibutton>Defaults</guibutton> button restores the default values of all entries in this dialog; <guibutton>OK</guibutton> saves the current settings and exits;
 <guibutton>Apply</guibutton> saves the current settings without exiting;
 <guibutton>Cancel</guibutton> exits without saving. </para>
+</sect2>
 </sect1>
 
 
@@ -469,10 +516,10 @@
 <title>The <guilabel>CD Database Editor</guilabel></title>
 
 <screenshot>
-<screeninfo>The CD Database Editor</screeninfo>
+<screeninfo>The &CD; Database Editor</screeninfo>
 <mediaobject>
 <imageobject><imagedata fileref="kscd13.png" format="PNG"/></imageobject>
-<textobject><phrase>The CD Database Editor</phrase></textobject>
+<textobject><phrase>The &CD; Database Editor</phrase></textobject>
 </mediaobject>
 </screenshot>
 
@@ -515,7 +562,7 @@
 linkend="freedb-tab"><guilabel>freedb</guilabel> tab</link> of the &kscd;
 Configuration window.</para>
 
-<para>The <guilabel>Total Time:</guilabel> display shows the total play time of
+<para>The <guilabel>Length:</guilabel> display shows the total play time of
 the &CD;.</para>
 
 <para>Press the <guibutton>Fetch Info</guibutton> button to download 
@@ -538,8 +585,7 @@
 </screenshot>
 
 <para>When the <guilabel>Show icon in system tray</guilabel> box is checked, a
-small &kscd; applet is also displayed in the <application>KDE
-panel</application>. Unlike the main &kscd; window, this applet is available on
+small &kscd; applet is also displayed in the &kicker;. Unlike the main &kscd; window, this applet is available on
 any desktop. <mousebutton>Right</mousebutton> click on the applet to pop up a
 menu to control &CD; playback. A <mousebutton>left</mousebutton> click on the
 applet hides the main &kscd; window. If the main window is hidden, a second
@@ -603,6 +649,160 @@
 
 </chapter>
 
+<chapter id="troubleshooting">
+<title>Troubleshooting the CD player</title>
+
+<para>This section of the manual provides a step by step guide to troubleshooting your CD drive if the CD player will not play an audio &CD;</para>
+
+<sect1 id="ts-begin">
+<title>Begin troubleshooting</title>
+<para>To begin, place an audio CD in your CD drive.  Close the CD drive door and press play on the &kscd; window.  Watch the CD drive on your computer and select the link below that best describes the problem.</para>
+<para>When I pressed <guilabel>Play</guilabel>:</para>
+<itemizedlist>
+<listitem><para><link linkend="ts-errorbox">An error box appeared</link></para></listitem>
+<listitem><para><link linkend="ts-playing">No error box appeared</link></para></listitem>
+</itemizedlist>
+</sect1>
+<sect1 id="ts-playing">
+<title>I did not get an error box, but no sound is coming out of my speakers</title>
+<para>First, we will check to make sure the volume is turned up in &kscd;.</para>
+<para>Near the upper right corner of the &kscd; window, locate the volume slider.  The volume slider looks like this:</para>
+<screenshot>
+<screeninfo>The Volume slider</screeninfo>
+<mediaobject>
+<imageobject><imagedata fileref="kscd9.png" format="PNG"/></imageobject>
+<textobject><phrase>The Volume slider</phrase></textobject>
+</mediaobject>
+</screenshot>
+<para>Click once on the vertical yellow bar and drag the bar all the way to the right end of the slider.</para>
+<para>If you can hear music now, the problem is solved.  If you still can not hear the music, click 
+<link linkend="ts-kmixlevels">here</link> to continue.</para>
+</sect1>
+<sect1 id="ts-kmixlevels">
+<title>Determining if the mixer volume levels are up</title>
+<para>The next step is to determine if &kmix; volume levels are appropriate.</para>
+<note><para>&kmix; is a sound mixer panel that is included in &kde;.  This mixer allows you to adjust the relative volume levels of many sound components.</para></note>
+<para>To start &kmix;, select 
+<menuchoice><guimenu>K-Button</guimenu><guimenuitem>Multimedia</guimenuitem>
+<guimenuitem>&kmix;</guimenuitem></menuchoice>.</para>
+<para>Once &kmix; has started, you will be presented with a new window with a number of volume sliders.  Depending on the configuration, the sliders may have lables, or the labels may be hidden.  If you do not see any labels for the sliders, you should make the labels visible before continuing.  To make the labels visible, select 
+<menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure &kmix;...</guimenuitem></menuchoice> from the &kmix; window.  This will open a small window with a few check boxes. To 
+turn the labels on, place a mark in the checkbox labeld <guilabel>Show labels</guilabel> and click <guibutton>OK</guibutton>.</para>
+<para>Each slider controls the volume of a different audio device.  There are two parts to each device that may need to be altered.  If you look at a slider, there is a green 
+light above each slider.  If you click on this light you can toggle between bright green and dark green.  If the light is dark green, that audio device is muted and will not produce any sound.  If the light is light green, the device is not muted.  Once you have verified that the device is not muted, you increase the volume of the device by draging the yellow bar up the slider.  The volume of an audio device is decreased by dragging the yellow bar down the slider.</para>
+<note><para>Some sliders will have a red light as well.  This light is not important for playback of compact discs so you can ignore them for now.</para></note>
+<para>Click on the tab labeled <guilabel>Output</guilabel>.</para>
+<para>Please make sure the sliders are not muted (bright green light) and that the yellow bar is all the way at the top of the slider for the following audio devices:</para>
+<itemizedlist>
+<listitem><para><guilabel>Master</guilabel></para></listitem>
+<listitem><para><guilabel>Master Mono</guilabel></para></listitem>
+<listitem><para><guilabel>PC Speaker</guilabel></para></listitem>
+<listitem><para><guilabel>PCM</guilabel></para></listitem>
+</itemizedlist>
+
+<para>If you still do not hear the &CD;, click on the tab labeled <guilabel>Input</guilabel></para>
+<para>Now make sure the slider labeled <guilabel>CD</guilabel> is not muted (bright green light) and that the yellow bar is all the way at the top of the slider.</para>
+<para>If you can hear the &CD; now, you can stop troubleshooting.  If not, click <link linkend="ts-othersounds">here</link> to continue</para>
+</sect1>
+<sect1 id="ts-othersounds">
+<title>Determine if other sounds are audible on my computer</title>
+<para>In this section, we are going to test to see if other types of sounds are audible on your computer. We will do this by playing a sound over the speakers that is stored on your hard drive.  </para>
+<para>First we must locate an appropriate test file.  This will be done using the command line.</para>
+<para>Select <menuchoice><guimenu>K-Button</guimenu><guimenuitem>System</guimenuitem>
+<guimenuitem>&konsole;</guimenuitem></menuchoice>.  A new window will appear with a command prompt.  At the prompt type:</para>
+<para><screen><prompt>$</prompt> <userinput><command>locate -n1 KDE_Window_Open.wav</command></userinput></screen></para>
+<para>When you press return, there will be a pause, and a single line with a file location will be printed below your typed command.</para>
+<para><screen><prompt>$</prompt> <userinput><command>locate -n1 KDE_Window_Open.wav</command></userinput>
+/usr/local/kde/share/sounds/KDE_Window_Open.wav</screen></para>
+
+<para>Now you are going to ask &kde; to play this short sound file. Type the text <command>noatun</command> followed by a space. Then copy the full location of the file you just located with the previous command.  For example: </para>
+<para><screen><prompt>$</prompt> <userinput><command>noatun /usr/local/kde/share/sounds/KDE_Window_Open.wav</command></userinput></screen></para>
+<para>If you heard a short sound, <link linkend="ts-othersoundsplay">click here</link>.</para>
+<para>If you did not hear a short sound, your sound system is not configured correctly.  Click <link linkend="ts-noothersounds">here</link> to proceed.</para>
+</sect1>
+
+<sect1 id="ts-noothersounds">
+<title>The test sound failed to play</title>
+<para>So far, we have verified that the volume on &kscd; and all the mixer levels in &kmix; are set correctly.  We have also sent a test sound and you could not hear the sound played.  This suggests the trouble is not with &kscd; but rather with your sound configuration.</para>
+<note><para>Please make sure the &CD; is still playing in your CD drive.</para></note>
+<para>First, we need to make sure your speakers are plugged in and that the volume of your speakers is set appropriately.  If you are using external speakers, please check the following:</para>
+<itemizedlist>
+<listitem><para>Please make sure the speakers are connected to your computer appropriatly (see your user manual if necessary).</para></listitem>
+<listitem><para>If your speakers require batteries, please replace the batteries with fresh batteries.</para></listitem>
+<listitem><para>If your external speakers plug into the wall, please make sure they are plugged in to the socket, the power cord is securly plugged into the back of the speakers and the wall outlet is working.</para></listitem>
+<listitem><para>If your speakers have a power button, please make sure the power is turned on.</para></listitem>
+<listitem><para>If your speakers have a volume knob, please make sure the volume is turned half way between off and maximum.</para></listitem>
+</itemizedlist>
+
+<para>If your speakers are part of you computers case, please check to see if your speakers have a volume knob. If they do make sure the volume is turned half way between off and maximum.</para>
+
+<para>If you have checked all of this, you probably need detailed help on getting the sound working on your computer. A full discussion of troubleshooting the sound system is beyond the scope of this manual and the user is referred to other internet sources. Some potential sources of information are:</para>
+
+<itemizedlist>
+<listitem><para><ulink url="http://www.tldp.org/HOWTO/Sound-HOWTO/index.html">Linux Sound HOWTO</ulink>.</para></listitem>
+<listitem><para>The website of your distribution will probably have a user forum for asking questions.</para></listitem>
+<listitem><para>Post a question to a Usenet newsgroup like comp.os.linux</para></listitem>
+<listitem><para>Use a search engine to locate others who have encountered similar problems as you.</para></listitem>
+</itemizedlist>
+</sect1>
+
+<sect1 id="ts-othersoundsplay">
+<title>The test sound played, but I can not hear the &CD;</title>
+<para>So far, we have verified that the volume on &kscd; and all the mixer levels in &kmix; are set correctly.  We have also played a test sound and you were able to  hear the sound played.  This suggests the trouble is limited to &kscd; or the &CD;.</para>
+<para>Check to make sure the &CD; is playable.  If this is a new &CD;, put it in another CD player (preferrably not located in a computer) and make sure the &CD; is playable in that device.  If it is playable in another device, continue <link linkend="ts-ddpback">here</link>.</para>
+</sect1>
+
+<sect1 id="ts-ddpback">
+<title>Try using direct digital playback</title>
+<para>There are two 
+ways that personal computers can play a &CD;.</para>
+
+<para>The first method (which &kscd; refers to as direct digital playback), is performed by reading the digital data from the 
+&CD; using Digital Audio Extraction (DAE).  This data is sent to your machines CPU which converts the digital data to sound.  This method requires 
+a &CD; drive that is capable of DAE (most new drives are) and it requires some CPU processing time to generate the sounds you hear.</para>
+
+<para>The second method uses the internal circuitry available on many &CD; drives to read the data and generate the sounds you will hear 
+without using your computers CPU.  This data is transmitted by a dedicated cable directly to the sound card in your computer.  This method requires 
+less CPU proccessing time, but it does require that the dedicated cable be connected inside your computer.  Not all computers have this connection.</para>
+
+<para>&kscd; defaults to the second method of playback.  The next step in troubleshooting your &CD; problems is to enable direct digital playback. To do this begin by clicking on the button labeled <guibutton>Stop</guibutton> on the &kscd; window. This will stop any attempt to play the &CD; for now.</para>
+
+<para>Now click on the button labeled <guibutton>Extras</guibutton>.  This will open a small menu.  Select <guilabel>Configure &kscd;...</guilabel>.  This will open a new dialog box.</para>
+<para>Click the icon labeled <guilabel>CD Player</guilabel> on the left side of the dialog box.</para>
+<para>Place a mark in the checkbox labeled <guilabel>Use direct digital playback</guilabel>.</para>
+<para>Click <guibutton>OK</guibutton>.  </para>
+<para>Now click <guibutton>Play</guibutton> in the &kscd; window and see if the &CD; begins to play correctly.</para>
+
+<para>If you still can not hear the music on the &CD;, your problem requires specific knowledge of your system and the problems you encounter.  The reader is referred to many good internet resources for this information.  Please consider finding help in one of the following ways:</para>
+
+<itemizedlist>
+<listitem><para>The website of your distribution will probably have a user forum for asking questions.</para></listitem>
+<listitem><para>Post a question to a Usenet newsgroup like comp.os.linux or an IRC channel for users of your operating system</para></listitem>
+<listitem><para>Use a search engine to locate others who have encountered similar problems as you.</para></listitem>
+</itemizedlist>
+
+</sect1>
+
+
+<sect1 id="ts-errorbox">
+<title>An error box appeared</title>
+<para>Probably the most common error boxes seen is this one:</para>
+<screenshot>
+<screeninfo>Error dialog</screeninfo>
+<mediaobject>
+<imageobject><imagedata fileref="kscd19.png" format ="PNG"/></imageobject>
+<textobject><phrase>Error dialog</phrase></textobject>
+</mediaobject>
+</screenshot>
+
+<para>Information about fixing this dialog box is available in the <link linkend="questions-and-answers">Questions and 
+answers</link> section of this manual.</para>
+
+<para>If you recieve another error box, you should post the text from the error box on a forum for your distribution or enter this text in a search engine such 
+as <ulink url="http://www.google.com">Google</ulink>.</para>
+</sect1>
+</chapter>
+
 <chapter id="questions-and-answers">
 <title>Questions and answers</title>
 
@@ -646,7 +846,7 @@
 </qandaentry>
 
 <qandaentry> 
-<question><para>I can't get the <acronym>CDDB</acronym> to work. Can I get any
+<question><para>I can not get the <acronym>CDDB</acronym> to work. Can I get any
 detailed information about what may be going wrong?</para></question> 
 <answer><para>If you experience trouble with the <acronym>CDDB</acronym>
 functionality try to starting &kscd; from the command line with the
@@ -658,8 +858,8 @@
 <chapter id="credits-and-license">
 <title>Credits and licenses</title>
 
-<para>&kscd; Copyright 1997,1998 Bernd Johannes Wuebben
-<email>wuebben@kde.org</email>wuebben></para>
+<para>&kscd; Copyright 1997,1998 &Bernd.Johannes.Wuebben; 
+&Bernd.Johannes.Wuebben.mail;</para>
 
 <para>&kscd; contains code from: </para>
 <itemizedlist>
@@ -667,6 +867,7 @@
 Steven Grimm <email>koreth@hyperion.com</email></para></listitem>
 </itemizedlist>
 
+
 <para>Special thanks to Ti Kan and Steve Scherf, the inventors of the
 <acronym>CDDB</acronym> database concept. Visit <ulink
 url="http://www.cddb.com/">http://ww.cddb.com</ulink> for more information on
@@ -675,8 +876,12 @@
 <para>A very special thank you also to David White who wrote the original &kscd;
 help documention. Great Job David!</para>
 
-<para>Documentation updated for KDE 2.0, and copyright by Jonathan Singer
-<email>jsinger@leeta.net.</email></para>
+<para>Documentation updated for KDE 2.0, and copyright by &Jonathan.Singer; 
+&Jonathan.Singer.mail;</para>
+
+<para>Documentation updated for KDE 3.4, and copyright by &Mike.McBride; 
+&Mike.McBride.mail;</para>
+
 <!-- TRANS:CREDIT_FOR_TRANSLATORS -->
 
 &underFDL;
@@ -699,8 +904,7 @@
 
 <para>In order to successfully compile &kscd;, you need the latest versions of
 the KDE libraries as well as the &Qt; C++ library.  All required libraries as
-well as &kscd; itself can be found at the &kde; &FTP; site, <ulink
-url="ftp://ftp.kde.org/pub/kde/">ftp://ftp.kde.org/pub/kde/</ulink>.</para>
+well as &kscd; itself can be found at the &kde; &FTP; site, &kde-ftp;.</para>
 
 </sect1> 
 
@@ -709,8 +913,8 @@
 
 &install.compile.documentation;
 	
-<para>Please inform the current maintainer, Dirk Foersterling, at
-<email>milliByte@gmlx.net</email> of any modification you had to undertake in
+<para>Please inform the current maintainer, Aaron Seigo, at
+&Aaron.J.Seigo.mail; of any modification you had to undertake in
 order to get &kscd; to compile on your platform.</para>
 
 </sect1>
Index: doc/kscd/kscdannounc.png
===================================================================
--- doc/kscd/kscdannounc.png	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 0)
+++ doc/kscd/kscdannounc.png	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -0,0 +1,10 @@
+PNG
+
+   IHDR  T   ,      bKGD      	pHYs        tIME*_  IDATxy\SWK^v%!"&Eں+mhkBU 8UZ\PPue-ԍjXܫ"lf!	-G $!K~wɹ߽LP B!@ ?@G H@ #$~?nܣGeU+2'
+=j͚+*_xݾ}õ[a4X:KьJ(4a` $bl%zxw{e䅻dM`&\X)?eXf[xD>k4H]nuUġ->sK衙8@X(@شw^SR~/?ގތԙfI PԑKT<*/jZDk-RyhimA``/r]Y@c
+yެ O!a/Jk suWKyopppnU   ށ)_)pDb4[E5Z&!p1	Z%UMcQ!B8Y74MI&k+]5/I|u[O{x_6}=.Ӿ^!{냏okuU_-M&=&!3*ʌ{soeu0o2iM^Ow@kߘ )z6?iRj!}C$R*-8JK,||B[OgД~e4Lƣ=eq\8%'BP(*K{9[s;om%_XZpX77[?zN9)#S:ϘnyKϪsK\]Ǥ y	cEC/ {fMuta'ZʸO)ӑ1Qƒ'jÍ9c]ՌGI5]6XrW}b{>iH$Ƚ_^U=^R&w^^>}RI픷de/mx:+-M*<v΍I"bEp_77YdjvLPuZŲ~^ed.7@{`H	7+IԢ[;{[W~;}A=hl␗%B.U;V;AKFx937K=#ӳZp-Yy\35vщm#Exj(7G;W@P*-oZU8=P5j'hThHtZGfR"*Wky:UFUrl Ǘ)36i^=wԧћlp(kVz^|"v)孈Zv<c
+ ^;mߚԁScS/VQye}S/:9}8aUWbG)}Y9j˭Vrdmh7RF.u_L9g:m/ީnH>)c
+l~;oNږtu^ClB$]M=}+y)ĝóTSw9ܙ֪]q?uulʼ_JWk&xtZ]Zk1Y\f0 p԰>Ǖba1 ;V Q=֓l `A; PU\\r&.w>y&F"x\c3t*zR Fx̺Z4ƅ dnS[)o|o)irf@gdUyA8yJX*t渦_K[ahw׊GZ1뀥PZ:[rd 'GGn|m]Z%XJ^9ǻg<yvwGnJ#:Uv:nNN7CᜣB+M~[Fpo,}{C㉡ elܕWvƴvuo٠ջ
+tLrkŰڙ# &]kvdM[IRŰY(hNmD6`kI#KOZxWlUǛ -n~Ѝ7f9R<f->|{<<-W'vF  {W2v< `lG'VֶcXBt/{M	WV[Ẇq浵oցvCqKkxyA;ȜMpD&
+7z>XBե޾tK ZQz;u3F[jUoNCd'D~iWu2·X~u{SKkuRuw Ŷ]kv=k4a3<Qh)~w4j~fSyQa 08g,bZqabO썱~Krl(FknqXRy=,E:qG8Ad$GoR:) `z9pO+V~{Cd"B93lȎL"]x3ewtEZ`I"R3	7eɑ3J&̧c^HJ:Y_ t!Kq;`I祿q.'ا>s\1V*"j1J-vs
+8, q-FE.uFH*KNRP"?g׭?TժTMXTo?n݇5%ݭWձX9oᬭEJ}0}"I+mwqݵu̹ڵfQ,9SBVP+]?ooI	JWpƖ",zkn:?cfɹ_I$jۢ5Iznٝ7"`>R6xa3ܦi*76?FȡS\bj=%Xw=>Ş2Rˋ)G=\=|zӨm-M3""y/鋲}:k^q}ܱ1+A;,§ïyN0.ϻ98oqʤHoC#n=;xeXi&^|%,	ǿLIw~(K.<jǦ+@Z/B3̝RcX"8r)b֊ڒ ֿ'Ǆ| K"H $IXIB fX _]b No  p6Nv0ʭcZkDp7>cߏY, 	Z  Uz`@O2%JE8\ΰֵ |U X ܅Z~ðQJBCS kT@4RnH(%lχ@tXk fBkd`f\\}^R1yY"t b*!/_?4@S hG}&dhޱ_w,6 P4U=$knkad@("#lXk X,;oZV	^1{WY 'iGxJL'&ChG +u?0p8 |6	g-EB.qzNr=yYGt֬_.>FeR5ONğ?@G H@ #$~ď@ w/ ,p    IENDB`
\ No newline at end of file
Index: doc/kscd/kscd2.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd3.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd5.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd6.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd9.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd11.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd12.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd13.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd14.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: doc/kscd/kscd16.png
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = image/png
Index: arts/tools/artscontrol.desktop
===================================================================
--- arts/tools/artscontrol.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ arts/tools/artscontrol.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -49,7 +49,6 @@
 Name[uz]=aRts бошқарув воситаси
 Name[ven]=Tshishumiswa tshau langula aRTs
 Name[xh]=Ulawulo Lwemizobo
-Name[xx]=xxaRts Control Toolxx
 Name[zh_CN]=aRts 控制工具
 Name[zh_TW]=aRts 控制工具
 Name[zu]=Ithuluazi Lokuphatha le aRts
@@ -103,7 +102,6 @@
 GenericName[ven]=Ndangulo ya siva ya mubvumo
 GenericName[wa]=Contrôle do sierveu di sons
 GenericName[xh]=Ulawulo Lomncedisi Wesandi
-GenericName[xx]=xxSound Server Controlxx
 GenericName[zh_CN]=声音服务器控制
 GenericName[zh_TW]=聲音伺服器控制器
 GenericName[zu]=Ukulawila Lomlekeleli Womsindo
Index: arts/tools/artscontrolapplet.desktop
===================================================================
--- arts/tools/artscontrolapplet.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ arts/tools/artscontrolapplet.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -10,11 +10,14 @@
 Comment[el]=Διαχείριση του εξυπηρετητή ήχου aRts
 Comment[es]=Controla el servidor de sonido aRts
 Comment[et]=aRts heliserveri juhtimine
+Comment[eu]=Kontrolatu aRts soinu-zerbitzaria
 Comment[fr]=Contrôlez le serveur de son aRts
 Comment[he]=שליטה בשרת הצליל של aRts
 Comment[hu]=Az aRts hangszolgáltatás kezelése
 Comment[is]=Stjórnaðu aRts hljóðþjóninum
 Comment[it]=Controlla il server sonoro aRts
+Comment[ja]=aRts サウンドサーバを制御
+Comment[lt]=Valdymo įrankiai aRts garsų serveriui
 Comment[nb]=Styr lydtjeneren aRts
 Comment[nl]=Bedien de aRts geluidsserver
 Comment[pl]=Sterowanie serwerem dźwięku aRts
@@ -25,7 +28,6 @@
 Comment[sr@Latn]=Kontroliše aRts zvučni server
 Comment[sv]=Styr ljudservern aRts
 Comment[uk]=Керує звуковим сервером aRts
-Comment[xx]=xxControl the aRts sound serverxx
 Comment[zh_CN]=控制 aRts 声音服务器
 Name=aRts Control
 Name[bn]=আর্ট্‌স নিয়ন্ত্রণ
@@ -67,7 +69,6 @@
 Name[tr]=aRts Kontol
 Name[uk]=Керування aRts
 Name[uz]=aRts бошқаруви
-Name[xx]=xxaRts Controlxx
 Name[zh_CN]=aRts 控制
 X-KDE-Library=libartscontrolapplet
 Icon=artscontrol
Index: arts/builder/artsbuilder.desktop
===================================================================
--- arts/builder/artsbuilder.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ arts/builder/artsbuilder.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -39,7 +39,6 @@
 Name[tr]=aRts Yapıcı
 Name[ven]=Mufhati wa aRts
 Name[xh]=Umakhi we aRts
-Name[xx]=xxaRts Builderxx
 Name[zh_CN]=aRts 构建程序
 Name[zu]=Umakhi We aRts
 GenericName=Audio Filter Designer
@@ -88,7 +87,6 @@
 GenericName[uk]=Дизайн аудіофільтрів
 GenericName[ven]=Muvhati wa filithara ino pfala
 GenericName[xh]=Umyili Wecebo lokucoca ulwelo Wesandi
-GenericName[xx]=xxAudio Filter Designerxx
 GenericName[zh_CN]=音频滤波器设计程序
 GenericName[zh_TW]=音效過濾器設計師
 GenericName[zu]=Umdwebi Wehluzo Lokuzwakalayo
Index: arts/builder/x-artsbuilder.desktop
===================================================================
--- arts/builder/x-artsbuilder.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ arts/builder/x-artsbuilder.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -45,7 +45,6 @@
 Comment[tr]=Arts Yapıcı
 Comment[ven]=Muiti wa zwavhutsila
 Comment[xh]=Umakhi wemizobo
-Comment[xx]=xxArts Builderxx
 Comment[zh_CN]=Arts 构建程序
 Comment[zu]=Umakhi Wezamasiko
 Icon=arts

Property changes on: arts/builder/pics/hi16-app-artscontrol.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: arts/builder/pics/hi16-app-artsbuilder.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kioslave/audiocd/plugins/vorbis/encodervorbis.cpp
===================================================================
--- kioslave/audiocd/plugins/vorbis/encodervorbis.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/vorbis/encodervorbis.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -311,8 +311,8 @@
   commentFields.append(CommentField("tracknumber", QString::number(track+1)));
   commentFields.append(CommentField("comment", comment));
 	
-  if (info.year > 0) {
-    QDateTime dt = QDate(info.year, 1, 1);
+  if (info.get("year").toInt() > 0) {
+    QDateTime dt(QDate(info.get("year").toInt(), 1, 1));
     commentFields.append(CommentField("date", dt.toString(Qt::ISODate).utf8().data()));
   }
 
Index: kioslave/audiocd/plugins/flac/encoderflac.cpp
===================================================================
--- kioslave/audiocd/plugins/flac/encoderflac.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/flac/encoderflac.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -169,7 +169,7 @@
 	                    Comment("Comment", comment),
 	    	    	    Comment("Date", QString::null )};
     if (info.get("Year").toInt() > 0) {
-    	QDateTime dt = QDate(info.get("Year").toInt(), 1, 1);
+    	QDateTime dt(QDate(info.get("Year").toInt(), 1, 1));
     	comments[6] = Comment("Date", dt.toString(Qt::ISODate));
     }
 
Index: kioslave/audiocd/plugins/audiocdencoder.cpp
===================================================================
--- kioslave/audiocd/plugins/audiocdencoder.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/audiocdencoder.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -21,33 +21,37 @@
 #include <kdebug.h>
 #include <qdir.h>
 #include <qregexp.h>
-#include <kstandarddirs.h> 
+#include <kstandarddirs.h>
 
 /**
  * Attempt to load a plugin and see if it has the symbol create_audiocd_encoders.
  * @param libFileName file to try to load.
  * @returns pointer to the symbol or NULL
- */  
-void* loadPlugin( const QString &libFileName ){
+ */
+void *loadPlugin(const QString &libFileName)
+{
 #ifdef DEBUG
-  kdDebug(7117) << "Trying to load library. File: \"" << libFileName.latin1() << "\"." << endl;
-#endif  
-  KLibLoader *loader = KLibLoader::self(); 
-  if( !loader ) return NULL;
+    kdDebug(7117) << "Trying to load library. File: \"" << libFileName.latin1() << "\"." << endl;
+#endif
+    KLibLoader *loader = KLibLoader::self();
+    if (!loader)
+        return NULL;
 #ifdef DEBUG
-  kdDebug(7117) << "We have a loader. File:  \"" << libFileName.latin1() << "\"." << endl;
-#endif  
-  KLibrary *lib = loader->library(libFileName.latin1());
-  if( !lib ) return NULL;
+    kdDebug(7117) << "We have a loader. File:  \"" << libFileName.latin1() << "\"." << endl;
+#endif
+    KLibrary *lib = loader->library(libFileName.latin1());
+    if (!lib)
+        return NULL;
 #ifdef DEBUG
-  kdDebug(7117) << "We have a library. File: \"" << libFileName.latin1() << "\"." << endl;
+    kdDebug(7117) << "We have a library. File: \"" << libFileName.latin1() << "\"." << endl;
 #endif
-  void *cplugin = lib->symbol("create_audiocd_encoders");
-  if( !cplugin ) return NULL;
+    void *cplugin = lib->symbol("create_audiocd_encoders");
+    if (!cplugin)
+        return NULL;
 #ifdef DEBUG
-  kdDebug(7117) << "We have a plugin. File:  \"" << libFileName.latin1() << "\"." << endl;
+    kdDebug(7117) << "We have a plugin. File:  \"" << libFileName.latin1() << "\"." << endl;
 #endif
-  return cplugin;
+    return cplugin;
 }
 
 /**
@@ -55,30 +59,37 @@
  * but I do know that this does work. :)  Feel free to improve the loading system,
  * there isn't much code anyway.
  */
-void AudioCDEncoder::find_all_plugins(KIO::SlaveBase *slave, QPtrList<AudioCDEncoder> &encoders){
-  KStandardDirs da;
+void AudioCDEncoder::findAllPlugins(KIO::SlaveBase *slave, QPtrList<AudioCDEncoder> &encoders){
+    QString foundEncoders;
 
-  QStringList fonts = da.findDirs("module", "");
-  for ( QStringList::Iterator it = fonts.begin(); it != fonts.end(); ++it ) {
-    QDir d(*it);
-    if(!d.exists()){
-      kdDebug(7117) << "Directory given by KStandardDirs: " << d.path().latin1() << " doesn't exists!" << endl;
-      continue;
+    KStandardDirs standardDirs;
+    QStringList dirs = standardDirs.findDirs("module", "");
+    for (QStringList::Iterator it = dirs.begin(); it != dirs.end(); ++it) {
+        QDir dir(*it);
+        if (!dir.exists()) {
+            kdDebug(7117) << "Directory given by KStandardDirs: " << dir.path() << " doesn't exists!" << endl;
+            continue;
+        }
+        dir.setFilter(QDir::Files | QDir::Hidden);
+  
+        QStringList list = dir.entryList( "libaudiocd_encoder_*.so");
+        kdDebug() << "list " << list << endl;
+        for (QStringList::ConstIterator it2 = list.begin(); it2 != list.end(); ++it2) 
+        {
+            QString fileName = *it2;
+            kdDebug() << fileName << endl;
+            if (foundEncoders.contains(fileName)) {
+                kdDebug(7117) << "Warning, encoder has been found twice!" << endl; 
+                continue;
+            }
+            foundEncoders.append(fileName);
+            fileName = fileName.mid(0, fileName.find('.'));
+            void *function = loadPlugin(fileName);
+            if(function){
+                void (*functionPointer)(KIO::SlaveBase *, QPtrList<AudioCDEncoder> &) = (void (*)(KIO::SlaveBase *slave, QPtrList<AudioCDEncoder> &encoders)) function;
+                functionPointer(slave, encoders);
+            }
+        } 
     }
-    d.setFilter( QDir::Files | QDir::Hidden );
-  
-    QStringList list = d.entryList( "libaudiocd_encoder_*.so");
-kdDebug() << "list " << list << endl;
-    for (QStringList::ConstIterator it2 = list.begin(); it2 != list.end(); ++it2) 
-    {
-        QString fileName = *it2;
-	fileName = fileName.mid(0, fileName.find('.'));
-        void *function = loadPlugin(fileName);
-        if(function){
-          void (*functionPointer)(KIO::SlaveBase *, QPtrList<AudioCDEncoder> &) = (void (*)(KIO::SlaveBase *slave, QPtrList<AudioCDEncoder> &encoders)) function;
-          functionPointer(slave, encoders);
-        }
-    } 
-  }
 }
 
Index: kioslave/audiocd/plugins/audiocdencoder.h
===================================================================
--- kioslave/audiocd/plugins/audiocdencoder.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/audiocdencoder.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -101,7 +101,7 @@
    * This function is most likly called many many times.
    * @param buf pointer to the audio that has been read in so far
    * @param frames the number of frames of audio that are in buf
-   * @return size of the data that was created by this function.
+   * @return size of the data that was created by this function, -1 on error.
    */
   virtual long read(int16_t * buf, int frames) = 0;
 
@@ -115,9 +115,14 @@
    * Returns a configure widget for the encoder
    */ 
   virtual QWidget* getConfigureWidget(KConfigSkeleton** manager) const
-                   { return NULL; }; 
+                   { Q_UNUSED(manager); return NULL; }; 
  
   /**
+   * Returns the last error message; called when e.g. read() returns -1.
+   */
+  virtual QString lastErrorMessage() const { return QString::null; }
+
+  /**
    * Helper function to load all of the AudioCD Encoders from libraries.
    * Uses KStandardDirs to find where libraries could be, opens all of the ones
    * that we might own audiocd_encoder_* and then uses the symbol 
@@ -125,7 +130,7 @@
    * @param slave ioslave needed if the plugin is going to be used to encode something.
    * @param encoders container for new encoders.
    */
-  static void find_all_plugins(KIO::SlaveBase *slave, QPtrList<AudioCDEncoder> &encoders);
+  static void findAllPlugins(KIO::SlaveBase *slave, QPtrList<AudioCDEncoder> &encoders);
 
 protected:
   /**
Index: kioslave/audiocd/plugins/lame/encoderlame.cpp
===================================================================
--- kioslave/audiocd/plugins/lame/encoderlame.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/lame/encoderlame.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -26,12 +26,13 @@
 #include <kprocess.h>
 #include <kdebug.h>
 
-#include <kglobal.h>  
+#include <kglobal.h>
 #include <klocale.h>
 #include <kapplication.h>
 #include <qfileinfo.h>
 #include <ktempfile.h>
 #include <kstandarddirs.h>
+#include "collectingprocess.h"
 
 extern "C"
 {
@@ -47,6 +48,9 @@
 public:
 	int bitrate;
 	bool waitingForWrite;
+	bool processHasExited;
+	QString lastErrorMessage;
+	QStringList genreList;
 	uint lastSize;
 	KProcess *currentEncodeProcess;
 	KTempFile *tempFile;
@@ -55,6 +59,7 @@
 EncoderLame::EncoderLame(KIO::SlaveBase *slave) : QObject(), AudioCDEncoder(slave) {
 	d = new Private();
 	d->waitingForWrite = false;
+	d->processHasExited = false;
 	d->lastSize = 0;
 	loadSettings();
 }
@@ -64,27 +69,51 @@
 }
 
 QWidget* EncoderLame::getConfigureWidget(KConfigSkeleton** manager) const {
-  (*manager) = Settings::self();
-  KGlobal::locale()->insertCatalogue("audiocd_encoder_lame");
-  EncoderLameConfig *config = new EncoderLameConfig();
-  config->cbr_settings->hide();
-  return config;
+	(*manager) = Settings::self();
+	KGlobal::locale()->insertCatalogue("audiocd_encoder_lame");
+	EncoderLameConfig *config = new EncoderLameConfig();
+	config->cbr_settings->hide();
+	return config;
 }
 
 bool EncoderLame::init(){
 	// Determine if lame is installed on the system or not.
-	KProcess proc;
-	proc << "which" << "lame";
-	proc.start(KProcess::Block);
-	if(proc.exitStatus() == 0)
+	if ( KStandardDirs::findExe( "lame" ).isEmpty() )
 		return false;
+
+	// Ask lame for the list of genres it knows; otherwise it barfs when doing
+	// e.g. lame --tg 'Vocal Jazz'
+    CollectingProcess proc;
+	proc << "lame" << "--genre-list";
+	proc.start(KProcess::Block, KProcess::Stdout);
+
+	if(proc.exitStatus() != 0)
+		return false;
+
+	const QByteArray data = proc.collectedStdout();
+	QString str;
+	if ( !data.isEmpty() )
+		str = QString::fromLocal8Bit( data, data.size() );
+
+	d->genreList = QStringList::split( '\n', str );
+	// Remove the numbers in front of every genre
+	for( QStringList::Iterator it = d->genreList.begin(); it != d->genreList.end(); ++it ) {
+		QString& genre = *it;
+		uint i = 0;
+		while ( i < genre.length() && ( genre[i].isSpace() || genre[i].isDigit() ) )
+			++i;
+		genre = genre.mid( i );
+
+	}
+	//kdDebug(7117) << "Available genres:" << d->genreList << endl;
+
 	return true;
 }
 
 void EncoderLame::loadSettings(){
 	// Generate the command line arguments for the current settings
 	args.clear();
- 
+
 	Settings *settings = Settings::self();
 
 	int quality = settings->quality();
@@ -92,7 +121,7 @@
 	if (quality > 9) quality = 9;
 
 	int method = settings->bitrate_constant() ? 0 : 1 ;
-  
+
 	if (method == 0) {
 		// Constant Bitrate Encoding
 		args.append("-b");
@@ -181,10 +210,12 @@
 
 long EncoderLame::readInit(long /*size*/){
 	// Create KProcess
-	d->currentEncodeProcess	= new KProcess(0,"encodeprocess");
+	d->currentEncodeProcess	= new KProcess(0);
 	QString prefix = locateLocal("tmp", "");
 	d->tempFile = new KTempFile(prefix, ".mp3");
 	d->tempFile->setAutoDelete(true);
+	d->lastErrorMessage = QString::null;
+	d->processHasExited = false;
 
 	// -x bitswap
 	// -r raw/pcm
@@ -197,17 +228,19 @@
 
 	// Read in stdin, output to the temp file
 	*d->currentEncodeProcess << "-" << d->tempFile->name().latin1();
-	
-	
+
+	//kdDebug(7117) << d->currentEncodeProcess->args() << endl;
+
+
 	connect(d->currentEncodeProcess, SIGNAL(receivedStdout(KProcess *, char *, int)),
-                         this, SLOT(receivedStdout(KProcess *, char *, int)));
+	                 this, SLOT(receivedStdout(KProcess *, char *, int)));
 	connect(d->currentEncodeProcess, SIGNAL(receivedStderr(KProcess *, char *, int)),
-                         this, SLOT(receivedStderr(KProcess *, char *, int)));
+	                 this, SLOT(receivedStderr(KProcess *, char *, int)));
 	connect(d->currentEncodeProcess, SIGNAL(wroteStdin(KProcess *)),
-                         this, SLOT(wroteStdin(KProcess *)));
+	                 this, SLOT(wroteStdin(KProcess *)));
 
 	connect(d->currentEncodeProcess, SIGNAL(processExited(KProcess *)),
-                         this, SLOT(processExited(KProcess *)));
+	                 this, SLOT(processExited(KProcess *)));
 
 	// Launch!
 	d->currentEncodeProcess->start(KProcess::NotifyOnExit, KShellProcess::All);
@@ -216,10 +249,14 @@
 
 void EncoderLame::processExited ( KProcess *process ){
 	kdDebug(7117) << "Lame Encoding process exited with: " << process->exitStatus() << endl;
+	d->processHasExited = true;
 }
 
 void EncoderLame::receivedStderr( KProcess * /*process*/, char *buffer, int /*buflen*/ ){
 	kdDebug(7117) << "Lame stderr: " << buffer << endl;
+	if ( !d->lastErrorMessage.isEmpty() )
+		d->lastErrorMessage += '\t';
+	d->lastErrorMessage += QString::fromLocal8Bit( buffer );
 }
 
 void EncoderLame::receivedStdout( KProcess * /*process*/, char *buffer, int /*length*/ ){
@@ -231,8 +268,10 @@
 }
 
 long EncoderLame::read(int16_t *buf, int frames){
-  if(!d->currentEncodeProcess)
+	if(!d->currentEncodeProcess)
 		return 0;
+        if (d->processHasExited)
+		return -1;
 
 	// Pipe the raw data to lame
 	char * cbuf = reinterpret_cast<char *>(buf);
@@ -281,7 +320,7 @@
 	delete d->currentEncodeProcess;
 	delete d->tempFile;
 	d->lastSize = 0;
-	
+
 	return 0;
 }
 
@@ -305,9 +344,18 @@
 	trackInfo.append("--tn");
 	trackInfo.append(QString("%1").arg(track+1));
 
-	trackInfo.append("--tg");
-	trackInfo.append(info.get("genre").toString());
+	const QString genre = info.get( "genre" ).toString();
+	if ( d->genreList.find( genre ) != d->genreList.end() )
+	{
+		trackInfo.append("--tg");
+		trackInfo.append(genre);
+	}
 }
 
 
+QString EncoderLame::lastErrorMessage() const
+{
+	return d->lastErrorMessage;
+}
+
 #include "encoderlame.moc"
Index: kioslave/audiocd/plugins/lame/collectingprocess.cpp
===================================================================
--- kioslave/audiocd/plugins/lame/collectingprocess.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 0)
+++ kioslave/audiocd/plugins/lame/collectingprocess.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -0,0 +1,134 @@
+/*
+    collectingprocess.cpp
+
+    This file is part of libkdepim.
+    Copyright (c) 2004 Ingo Kloecker <kloecker@kde.org>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU General Public License as
+    published by the Free Software Foundation; either version 2 of the
+    License, or (at your option) any later version.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
+
+    In addition, as a special exception, the copyright holders give
+    permission to link the code of this program with any edition of
+    the Qt library by Trolltech AS, Norway (or with modified versions
+    of Qt that use the same license as Qt), and distribute linked
+    combinations including the two.  You must obey the GNU General
+    Public License in all respects for all of the code used other than
+    Qt.  If you modify this file, you may extend this exception to
+    your version of the file, but you are not obligated to do so.  If
+    you do not wish to do so, delete this exception statement from
+    your version.
+*/
+
+#include "collectingprocess.h"
+
+#include <qvaluelist.h>
+
+#include <string.h>
+
+struct CollectingProcess::Private {
+  Private() : stdoutSize( 0 ), stderrSize( 0 )
+    {}
+
+  uint stdoutSize;
+  QValueList<QByteArray> stdoutBuffer;
+  uint stderrSize;
+  QValueList<QByteArray> stderrBuffer;
+};
+
+
+CollectingProcess::CollectingProcess( QObject * parent, const char * name )
+  : KProcess( parent, name )
+{
+  d = new Private();
+}
+
+CollectingProcess::~CollectingProcess() {
+  delete d; d = 0;
+}
+
+bool CollectingProcess::start( RunMode runmode, Communication comm ) {
+  // prevent duplicate connection
+  disconnect( this, SIGNAL( receivedStdout( KProcess *, char *, int ) ),
+              this, SLOT( slotReceivedStdout( KProcess *, char *, int ) ) );
+  if ( comm & Stdout ) {
+    connect( this, SIGNAL( receivedStdout( KProcess *, char *, int ) ),
+             this, SLOT( slotReceivedStdout( KProcess *, char *, int ) ) );
+  }
+  // prevent duplicate connection
+  disconnect( this, SIGNAL( receivedStderr( KProcess *, char *, int ) ),
+              this, SLOT( slotReceivedStderr( KProcess *, char *, int ) ) );
+  if ( comm & Stderr ) {
+    connect( this, SIGNAL( receivedStderr( KProcess *, char *, int ) ),
+             this, SLOT( slotReceivedStderr( KProcess *, char *, int ) ) );
+  }
+  return KProcess::start( runmode, comm );
+}
+
+void CollectingProcess::slotReceivedStdout( KProcess *, char *buf, int len )
+{
+  QByteArray b;
+  b.duplicate( buf, len );
+  d->stdoutBuffer.append( b );
+  d->stdoutSize += len;
+}
+
+void CollectingProcess::slotReceivedStderr( KProcess *, char *buf, int len )
+{
+  QByteArray b;
+  b.duplicate( buf, len );
+  d->stderrBuffer.append( b );
+  d->stderrSize += len;
+}
+
+QByteArray CollectingProcess::collectedStdout()
+{
+  if ( d->stdoutSize == 0 ) {
+    return QByteArray();
+  }
+
+  uint offset = 0;
+  QByteArray b( d->stdoutSize );
+  for ( QValueList<QByteArray>::const_iterator it = d->stdoutBuffer.begin();
+        it != d->stdoutBuffer.end();
+        ++it ) {
+    memcpy( b.data() + offset, (*it).data(), (*it).size() );
+    offset += (*it).size();
+  }
+  d->stdoutBuffer.clear();
+  d->stdoutSize = 0;
+
+  return b;
+}
+
+QByteArray CollectingProcess::collectedStderr()
+{
+  if ( d->stderrSize == 0 ) {
+    return QByteArray();
+  }
+
+  uint offset = 0;
+  QByteArray b( d->stderrSize );
+  for ( QValueList<QByteArray>::const_iterator it = d->stderrBuffer.begin();
+        it != d->stderrBuffer.end();
+        ++it ) {
+    memcpy( b.data() + offset, (*it).data(), (*it).size() );
+    offset += (*it).size();
+  }
+  d->stderrBuffer.clear();
+  d->stderrSize = 0;
+
+  return b;
+}
+
+#include "collectingprocess.moc"
Index: kioslave/audiocd/plugins/lame/encoderlame.h
===================================================================
--- kioslave/audiocd/plugins/lame/encoderlame.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/lame/encoderlame.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -26,7 +26,7 @@
 /**
  * MP3 encoder using the LAME encoder.
  * Go to http://lame.sourceforge.net/ for lots of information.
- */ 
+ */
 class EncoderLame : public QObject, public AudioCDEncoder {
 
 Q_OBJECT
@@ -45,7 +45,8 @@
 	virtual long readInit(long size);
 	virtual long read(int16_t * buf, int frames);
 	virtual long readCleanup();
-  
+	virtual QString lastErrorMessage() const;
+
 	virtual QWidget* getConfigureWidget(KConfigSkeleton** manager) const;
 
 protected slots:
Index: kioslave/audiocd/plugins/lame/collectingprocess.h
===================================================================
--- kioslave/audiocd/plugins/lame/collectingprocess.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 0)
+++ kioslave/audiocd/plugins/lame/collectingprocess.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -0,0 +1,72 @@
+/*  -*- mode: C++ -*-
+    collectingprocess.h
+
+    This file is a copy of the collectingprocess.h which is part of kdepim/libkdepim.
+    Copyright (c) 2004 Ingo Kloecker <kloecker@kde.org>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU General Public License as
+    published by the Free Software Foundation; either version 2 of the
+    License, or (at your option) any later version.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
+
+    In addition, as a special exception, the copyright holders give
+    permission to link the code of this program with any edition of
+    the Qt library by Trolltech AS, Norway (or with modified versions
+    of Qt that use the same license as Qt), and distribute linked
+    combinations including the two.  You must obey the GNU General
+    Public License in all respects for all of the code used other than
+    Qt.  If you modify this file, you may extend this exception to
+    your version of the file, but you are not obligated to do so.  If
+    you do not wish to do so, delete this exception statement from
+    your version.
+*/
+
+#ifndef __COLLECTINGPROCESS_H__
+#define __COLLECTINGPROCESS_H__
+
+#include <kprocess.h>
+
+/**
+ * @short An output collecting KProcess class.
+ *
+ * This class simplifies the usage of KProcess by collecting all output
+ * (stdout/stderr) of the process.
+ *
+ * @author Ingo Kloecker <kloecker@kde.org>
+ */
+class CollectingProcess : public KProcess {
+  Q_OBJECT
+public:
+  CollectingProcess( QObject * parent = 0, const char * name = 0 );
+  ~CollectingProcess();
+
+  /** Starts the process in NotifyOnExit mode and writes in to stdin of
+      the process.
+  */
+  bool start( RunMode runmode, Communication comm );
+
+  /** Returns the contents of the stdout buffer and clears it afterwards. */
+  QByteArray collectedStdout();
+  /** Returns the contents of the stderr buffer and clears it afterwards. */
+  QByteArray collectedStderr();
+
+private slots:
+  void slotReceivedStdout( KProcess *, char *, int );
+  void slotReceivedStderr( KProcess *, char *, int );
+
+private:
+  class Private;
+  Private * d;
+protected:
+};
+
+#endif // __COLLECTINGPROCESS_H__
Index: kioslave/audiocd/plugins/lame/Makefile.am
===================================================================
--- kioslave/audiocd/plugins/lame/Makefile.am	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/plugins/lame/Makefile.am	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -4,7 +4,7 @@
 
 kde_module_LTLIBRARIES = libaudiocd_encoder_lame.la
 
-libaudiocd_encoder_lame_la_SOURCES = audiocd_lame_encoder.kcfgc encoderlame.cpp encoderlameconfig.ui
+libaudiocd_encoder_lame_la_SOURCES = audiocd_lame_encoder.kcfgc encoderlame.cpp encoderlameconfig.ui collectingprocess.cpp
 
 libaudiocd_encoder_lame_la_LIBADD = $(LIB_KIO) ../libaudiocdplugins.la
 
Index: kioslave/audiocd/kcmaudiocd/audiocd.desktop
===================================================================
--- kioslave/audiocd/kcmaudiocd/audiocd.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/kcmaudiocd/audiocd.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -56,7 +56,6 @@
 Name[uz]=Аудио компакт-дисклар
 Name[ven]=CD ino thetsheleswa
 Name[xh]=CDs Zokuvakalayo
-Name[xx]=xxAudio CDsxx
 Name[zh_CN]=音频 CD
 Name[zh_TW]=音樂 CD
 Name[zu]=Ama-CD Okuzwakalayo
@@ -110,7 +109,6 @@
 Comment[uk]=Налаштування підлеглого В/В "Audiocd"
 Comment[ven]=Nzudzanyo Audiocd IO Slave
 Comment[xh]=Video-DVD IO Slave Uqwalaselo
-Comment[xx]=xxAudiocd IO Slave Configurationxx
 Comment[zh_CN]=音频 CD 输入输出从属模块配置
 Comment[zh_TW]=音樂 CD IO Slave 組態
 Comment[zu]=Inhlanganiselo ye-Audiocd IO Slave
@@ -129,8 +127,9 @@
 Keywords[ga]=CD Fuaime,CD,Ogg,Vorbis,Ionchódú,CDDA,Ráta Giotán
 Keywords[hi]=ऑडियो सीडी,सीडी,ऑग,वॉर्बिस,एनकोडिंग,सीडीडीए,बिटरेट
 Keywords[hu]=hang-CD,CD,Ogg,Vorbis,kódolás,CDDA,bitráta
-Keywords[it]=CD Audio,Ogg,Vorbis,Codifica,CDDA,Bitrate
+Keywords[it]=CD Audio,CD,Ogg,Vorbis,Codifica,CDDA,Bitrate
 Keywords[ja]=オーディオ CD,CD,Ogg,Vorbis,エンコーディング,CDDA,ビットレート
+Keywords[lt]=Audio CD,CD,Ogg,Vorbis,Encoding,CDDA,Bitrate,įkodavimas,perkodavimas,bitų dažnis
 Keywords[mk]=Аудио CD,CD,Ogg,Vorbis,Кодирање,CDDA,Брзина во битови
 Keywords[nb]=Audio CD,CD,Ogg,Vorbis,Koding,CDDA,Bitrate
 Keywords[nl]=Audio-cd,cd,Ogg,Vorbis,Encoding,CDDA,Bitrate
@@ -150,7 +149,6 @@
 Keywords[tg]=Диски Фишурдаи Садо,Диски Фишурда,Ogg,Vorbis,Рамзигузор,CDDA,Bitrate
 Keywords[tr]=Ses CD,CD,Ogg,Vorbis,Kodlama,CDDA,Bitrate
 Keywords[uk]=Аудіо-КД,КД,Ogg,Vorbis,кодування,CDDA,частота вибірки
-Keywords[xx]=xxAudio CD,CD,Ogg,Vorbis,Encoding,CDDA,Bitratexx
 Keywords[zh_CN]=音频 CD,CD,Ogg,Vorbis,编码,CDDA,Bitrate
 
 Categories=Qt;KDE;X-KDE-settings-sound;
Index: kioslave/audiocd/kcmaudiocd/kcmaudiocd.cpp
===================================================================
--- kioslave/audiocd/kcmaudiocd/kcmaudiocd.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/kcmaudiocd/kcmaudiocd.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -44,7 +44,7 @@
     config = new KConfig("kcmaudiocdrc");
 
     QPtrList<AudioCDEncoder> encoders;
-    AudioCDEncoder::find_all_plugins(0, encoders);
+    AudioCDEncoder::findAllPlugins(0, encoders);
     AudioCDEncoder *encoder;
     for ( encoder = encoders.first(); encoder; encoder = encoders.next() ){
       KConfigSkeleton *config = NULL;
@@ -64,7 +64,7 @@
     }
    
     //CDDA Options
-    connect(cd_autosearch_check,SIGNAL(clicked()),this,SLOT(slotConfigChanged()));
+    connect(cd_specify_device,SIGNAL(clicked()),this,SLOT(slotConfigChanged()));
     connect(ec_enable_check,SIGNAL(clicked()),this,SLOT(slotEcEnable()));
     connect(ec_skip_check,SIGNAL(clicked()),SLOT(slotConfigChanged()));
     connect(cd_device_string,SIGNAL(textChanged(const QString &)),SLOT(slotConfigChanged()));
@@ -99,7 +99,7 @@
 }
 
 void KAudiocdModule::defaults() {
-	cd_autosearch_check->setChecked(true);
+	cd_specify_device->setChecked(false);
 	cd_device_string->setText("/dev/cdrom");
 
 	ec_enable_check->setChecked(true);
@@ -124,7 +124,11 @@
   {
     KConfigGroupSaver saver(config, "CDDA");
 
-    config->writeEntry("autosearch",cd_autosearch_check->isChecked());
+    // autosearch is the name of the config option, which has the
+    // reverse sense of the current text of the configuration option,
+    // which is specify the device. Therefore, invert the value on write.
+    //
+    config->writeEntry("autosearch", !(cd_specify_device->isChecked()) );
     config->writeEntry("device",cd_device_string->text());
     config->writeEntry("disable_paranoia",!(ec_enable_check->isChecked()));
     config->writeEntry("never_skip",!(ec_skip_check->isChecked()));
@@ -156,7 +160,8 @@
   {
     KConfigGroupSaver saver(config, "CDDA");
 
-    cd_autosearch_check->setChecked(config->readBoolEntry("autosearch",true));
+    // Specify <=> not autosearch, as explained above in ::save()
+    cd_specify_device->setChecked( !(config->readBoolEntry("autosearch",true)) );
     cd_device_string->setText(config->readEntry("device","/dev/cdrom"));
     ec_enable_check->setChecked(!(config->readBoolEntry("disable_paranoia",false)));
     ec_skip_check->setChecked(!(config->readBoolEntry("never_skip",true)));
Index: kioslave/audiocd/kcmaudiocd/audiocdconfig.ui
===================================================================
--- kioslave/audiocd/kcmaudiocd/audiocdconfig.ui	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/kcmaudiocd/audiocdconfig.ui	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -149,13 +149,13 @@
                     </widget>
                     <widget class="QCheckBox" row="0" column="0" rowspan="1" colspan="2">
                         <property name="name">
-                            <cstring>cd_autosearch_check</cstring>
+                            <cstring>cd_specify_device</cstring>
                         </property>
                         <property name="text">
                             <string>&amp;Specify CD device:</string>
                         </property>
                         <property name="whatsThis" stdset="0">
-                            <string>Uncheck this if you want to specify a CD device different from the one autoprobed</string>
+                            <string>Check this to specify a CD device different from the one which is detected automatically</string>
                         </property>
                     </widget>
                     <widget class="QCheckBox" row="1" column="0" rowspan="1" colspan="3">
@@ -597,7 +597,7 @@
         <slot>setEnabled(bool)</slot>
     </connection>
     <connection>
-        <sender>cd_autosearch_check</sender>
+        <sender>cd_specify_device</sender>
         <signal>toggled(bool)</signal>
         <receiver>cd_device_string</receiver>
         <slot>setEnabled(bool)</slot>
Index: kioslave/audiocd/audiocd.cpp
===================================================================
--- kioslave/audiocd/audiocd.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kioslave/audiocd/audiocd.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -29,7 +29,7 @@
 	#include <cdda_interface.h>
 	#include <cdda_paranoia.h>
 	void paranoiaCallback(long, int);
-	
+
 	#include <kdemacros.h>
 	KDE_EXPORT int kdemain(int argc, char ** argv);
 }
@@ -104,14 +104,13 @@
 
 class AudioCDProtocol::Private {
 public:
-	Private() {
+	Private() : cd(KCompactDisc::Asynchronous) {
 		clearURLargs();
 		s_info = i18n("Information");
 		s_fullCD = i18n("Full CD");
 	}
 
 	void clearURLargs() {
-		discid = 0;
 		req_allTracks = false;
 		which_dir = Unknown;
 		req_track = -1;
@@ -129,7 +128,7 @@
 	QString device; // URL settable
 	int paranoiaLevel; // URL settable
 	bool reportErrors;
-	
+
 	// Directory strings, never change after init
 	QString s_info;
 	QString s_fullCD;
@@ -138,6 +137,7 @@
 	unsigned discid;
 	unsigned tracks;
 	bool trackIsAudio[100];
+	KCompactDisc cd; // keep it around so that we don't assume the disk changed between every stat()
 
 	// CDDB items
 	KCDDB::CDDB::Result cddbResult;
@@ -164,7 +164,7 @@
 	d = new Private;
 
 	// Add encoders
-	AudioCDEncoder::find_all_plugins(this, encoders);
+	AudioCDEncoder::findAllPlugins(this, encoders);
 	encoderTypeCDA = encoderFromExtension(".cda");
 	encoderTypeWAV = encoderFromExtension(".wav");
 	encoders.setAutoDelete(true);
@@ -213,28 +213,60 @@
 		return 0;
 
 	// Update our knowledge of the disc
-	KCompactDisc cd(KCompactDisc::Asynchronous);
 	// TODO which one is right?
 	// qDebug("\"%s\" \"%s\"", drive->cdda_device_name, drive->ioctl_device_name);
 #if defined(Q_OS_LINUX)
-	cd.setDevice(drive->cdda_device_name, 50, false);
+	d->cd.setDevice(drive->cdda_device_name, 50, false);
 #elif defined(Q_OS_FREEBSD)
-	cd.setDevice(drive->dev->device_path);
+	// FreeBSD's cdparanoia as of january 5th 2006 has rather broken
+	// support for non-SCSI devices. Although it finds ATA cdroms just
+	// fine, there is no straightforward way to discover the device
+	// name associated with the device, which throws the rest of audiocd
+	// for a loop.
+	//
+	if ( !(drive->dev) || (COOKED_IOCTL == drive->interface) )
+	{
+		// For ATAPI devices, we have no real choice. Use the
+		// user selected value, even if there is none.
+		//
+		kdWarning(7117) << "Found an ATAPI device, assuming it is the one specified by the user." << endl;
+		d->cd.setDevice( d->device );
+	}
+	else
+	{
+		kdDebug(7117) << "Found a SCSI or ATAPICAM device." << endl;
+		if ( strlen(drive->dev->device_path) > 0 )
+		{
+			d->cd.setDevice( drive->dev->device_path );
+		}
+		else
+		{
+			// But the device_path can be empty under some
+			// circumstances, so build a representation from
+			// the unit number and SCSI device name.
+			//
+			QString devname = QString::fromLatin1( "/dev/%1%2" )
+				.arg( drive->dev->given_dev_name )
+				.arg( drive->dev->given_unit_number ) ;
+			kdDebug(7117) << "  Using derived name " << devname << endl;
+			d->cd.setDevice( devname );
+		}
+	}
 #endif
-	
-	if (cd.discId() != d->discid && cd.discId() != cd.missingDisc){
-		d->discid = cd.discId();
-		d->tracks = cd.tracks();
-		for(uint i=0; i< cd.tracks(); i++)
-			d->trackIsAudio[i] = cd.isAudio(i+1);
 
+	if (d->cd.discId() != d->discid && d->cd.discId() != d->cd.missingDisc){
+		d->discid = d->cd.discId();
+		d->tracks = d->cd.tracks();
+		for(uint i=0; i< d->cd.tracks(); i++)
+			d->trackIsAudio[i] = d->cd.isAudio(i+1);
+
 		KCDDB::Client c;
-		d->cddbResult = c.lookup(cd.discSignature());
+		d->cddbResult = c.lookup(d->cd.discSignature());
 		d->cddbList = c.lookupResponse();
 		d->cddbBestChoice = c.bestLookupResponse();
 		generateTemplateTitles();
 	}
-	
+
 	// Determine what file or folder that is wanted.
 	d->fname = url.fileName(false);
 	QString dname = url.directory(true, false);
@@ -410,9 +442,9 @@
 	KCDDB::CDInfo info;
 	if(d->cddbResult == KCDDB::CDDB::Success){
 		info = d->cddbBestChoice;
-	
+
 		int track = d->req_track;
-		
+
 		QString trackName;
 		// hack
 		// do we rip the whole CD?
@@ -423,9 +455,6 @@
 		}
 		encoder->fillSongInfo(info, track, "");
 	}
-	else {
-		encoder->fillSongInfo(info, d->req_track, QString("CDDBDISCID=%1").arg(d->cddbBestChoice.id));
-	}
 	long totalByteCount = CD_FRAMESIZE_RAW * (lastSector - firstSector + 1);
 	long time_secs = (8 * totalByteCount) / (44100 * 2 * 16);
 
@@ -723,7 +752,7 @@
 			error(KIO::ERR_SLAVE_DEFINED, i18n("Device doesn't have write permissions for this account.  Check the write permissions on the device."));
 		else if(!fi.exists())
 			error(KIO::ERR_DOES_NOT_EXIST, d->device);
-		else error(KIO::ERR_SLAVE_DEFINED, 
+		else error(KIO::ERR_SLAVE_DEFINED,
 i18n("Unknown error.  If you have a cd in the drive try running cdparanoia -vsQ as yourself (not root). Do you see a track list? If not, make sure you have permission to access the CD device. If you are using SCSI emulation (possible if you have an IDE CD writer) then make sure you check that you have read and write permissions on the generic SCSI device, which is probably /dev/sg0, /dev/sg1, etc.. If it still does not work, try typing audiocd:/?device=/dev/sg0 (or similar) to tell kio_audiocd which device your CD-ROM is."));
 		return 0;
 	}
@@ -732,10 +761,10 @@
 	{
 		kdDebug(7117) << "cdda_open failed" << endl;
 		error(KIO::ERR_CANNOT_OPEN_FOR_READING, d->device);
-		cdda_close(drive); 
+		cdda_close(drive);
 		return 0;
 	}
-	
+
 	return drive;
 }
 
@@ -814,7 +843,11 @@
 		if(encoderProcessed == -1){
 			kdDebug(7117) << "Encoder processing error, stopping." << endl;
 			ok = false;
-			error( ERR_SLAVE_DEFINED, i18n( "Couldn't read %1: encoding failed" ).arg( fileName ) );
+			QString errMsg = i18n( "Couldn't read %1: encoding failed" ).arg( fileName );
+			QString details = encoder->lastErrorMessage();
+			if ( !details.isEmpty() )
+			    errMsg += "\n" + details;
+			error( ERR_SLAVE_DEFINED, errMsg );
 			break;
 		}
 		processed += encoderProcessed;
@@ -983,7 +1016,7 @@
 	// Tell the encoders to load their settings
 	AudioCDEncoder *encoder;
 	for ( encoder = encoders.first(); encoder; encoder = encoders.next() ){
-		encoder->init();
+		encoder->init(); // ### TODO check return value!
 		encoder->loadSettings();
 	}
 
Index: mpeglib/lib/mpegplay/mmxidct_asm.S
===================================================================
--- mpeglib/lib/mpegplay/mmxidct_asm.S	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ mpeglib/lib/mpegplay/mmxidct_asm.S	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -6,7 +6,7 @@
 */
 	
 IDCT_mmx_dummy:
-	
+	.section .note.GNU-stack,"",%progbits
 #endif		
 		
 		
@@ -731,7 +731,7 @@
 	ret
 .Lfe1:
 	.size	 IDCT_mmx,.Lfe1-IDCT_mmx
-	.section .note.GNU-stack,"",@progbits
+	.section .note.GNU-stack,"",%progbits
 
 
 #endif
Index: kscd/configWidgetUI.ui
===================================================================
--- kscd/configWidgetUI.ui	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/configWidgetUI.ui	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -119,7 +119,6 @@
                     </property>
                     <property name="font">
                         <font>
-                            <pointsize>10</pointsize>
                             <bold>1</bold>
                         </font>
                     </property>
@@ -250,17 +249,6 @@
                         <string>The CD-ROM device to use when playing CDs. This will typically look something like "/dev/cdrom". To have KsCD autodetect your CD-ROM, leave this field empty.</string>
                     </property>
                 </widget>
-                <widget class="QComboBox" row="2" column="2">
-                    <property name="name">
-                        <cstring>kcfg_AudioSystem</cstring>
-                    </property>
-                    <property name="insertionPolicy">
-                        <enum>NoInsertion</enum>
-                    </property>
-                    <property name="duplicatesEnabled">
-                        <bool>false</bool>
-                    </property>
-                </widget>
                 <widget class="QLabel" row="3" column="0">
                     <property name="name">
                         <cstring>textLabel5</cstring>
@@ -299,15 +287,23 @@
                     <property name="indent">
                         <number>0</number>
                     </property>
-                    <property name="buddy" stdset="0">
-                        <cstring>kcfg_AudioSystem</cstring>
-                    </property>
                 </widget>
                 <widget class="KURLRequester" row="3" column="1" rowspan="1" colspan="2">
                     <property name="name">
                         <cstring>kcfg_AudioDevice</cstring>
                     </property>
                 </widget>
+                <widget class="QFrame" row="2" column="2">
+                    <property name="name">
+                        <cstring>audioSystemFrame</cstring>
+                    </property>
+                    <property name="frameShape">
+                        <enum>NoFrame</enum>
+                    </property>
+                    <property name="frameShadow">
+                        <enum>Plain</enum>
+                    </property>
+                </widget>
             </grid>
         </widget>
         <widget class="QGroupBox">
@@ -447,7 +443,6 @@
     <tabstop>kcfg_StopExit</tabstop>
     <tabstop>kcfg_cdDevice</tabstop>
     <tabstop>kcfg_DigitalPlayback</tabstop>
-    <tabstop>kcfg_AudioSystem</tabstop>
     <tabstop>kcfg_AudioDevice</tabstop>
 </tabstops>
 <slots>
@@ -456,11 +451,12 @@
 </slots>
 <layoutdefaults spacing="6" margin="11"/>
 <includehints>
+    <includehint>kcolorbutton.h</includehint>
     <includehint>kfontrequester.h</includehint>
     <includehint>knuminput.h</includehint>
-    <includehint>klineedit.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>kcombobox.h</includehint>
     <includehint>kpushbutton.h</includehint>
     <includehint>klineedit.h</includehint>
-    <includehint>kpushbutton.h</includehint>
 </includehints>
 </UI>
Index: kscd/configWidget.cpp
===================================================================
--- kscd/configWidget.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/configWidget.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -28,6 +28,7 @@
 #include <kurlrequester.h>
 #include <qcheckbox.h>
 #include <kcombobox.h>
+#include <qlayout.h>
 
 #include <config.h>
 extern "C" {
@@ -41,6 +42,22 @@
 #include "kscd.h"
 #include "prefs.h"
 
+class SpecialComboBox : public KComboBox
+{
+public:
+  SpecialComboBox(QWidget* parent, const char* name)
+   : KComboBox(parent, name)
+   {}
+
+  // QComboBox::setCurrentText replaces the current text if
+  // the list doesn't contain text, while
+  // KComboBox::setCurrentItem doesn't
+  void setCurrentText(const QString& text)
+  {
+    setCurrentItem(text);
+  }
+} ;
+
 /*
  *  Constructs a configWidget which is a child of 'parent', with the
  *  name 'name' and widget flags set to 'f'.
@@ -60,20 +77,16 @@
     kcfg_cdDevice->comboBox()->setEditable(true);
     kcfg_cdDevice->comboBox()->insertItem(DEFAULT_CD_DEVICE);
     getMediaDevices();
+
+    (new QVBoxLayout(audioSystemFrame))->setAutoAdd(true);
+    kcfg_AudioSystem = new SpecialComboBox(audioSystemFrame, "kcfg_AudioSystem");
+    textLabel4->setBuddy(kcfg_AudioSystem);
     
 #if defined(BUILD_CDDA)
     kcfg_DigitalPlayback_toggled(Prefs::digitalPlayback());
     
     // fill ComboBox audioBackend
     kcfg_AudioSystem->insertStringList(mPlayer->audioSystems());
-
-    int t = kcfg_AudioSystem->listBox()->index(kcfg_AudioSystem->listBox()->findItem(Prefs::audioSystem()));
-    if(t != -1)
-        kcfg_AudioSystem->setCurrentItem(t);
-
-    kcfg_AudioDevice->lineEdit()->setText(Prefs::audioDevice());
-    
-    kcfg_DigitalPlayback->setChecked(Prefs::digitalPlayback());
 #else
     kcfg_DigitalPlayback_toggled(false);
     
@@ -127,10 +140,4 @@
     kcfg_SelectedEncoding->setEnabled(toggle);
 }
 
-void configWidget::configDone()
-{
-    Prefs::setAudioSystem(kcfg_AudioSystem->currentText());
-}
-
-
 #include "configWidget.moc"
Index: kscd/xmcd.desktop
===================================================================
--- kscd/xmcd.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/xmcd.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -58,7 +58,6 @@
 Comment[ven]=CD ya databeizi ya faela 
 Comment[wa]=Båze di dnêyes des plakes
 Comment[xh]=Ifayile yesiseko sedata ye CD
-Comment[xx]=xxCD Database Filexx
 Comment[zh_CN]=CD 数据库文件
 Comment[zh_TW]=CD 資料庫檔案
 Comment[zu]=Ifayela yesiseko sedata ye CD
Index: kscd/kscd.cpp
===================================================================
--- kscd/kscd.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/kscd.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -29,6 +29,7 @@
 #include <qvbox.h>
 #include <qapplication.h>
 #include <qgroupbox.h>
+#include <qsqlpropertymap.h>
 
 #include <dcopclient.h>
 #include <kaboutdata.h>
@@ -130,6 +131,9 @@
   // the volume slider
   volumeIcon->setPixmap(SmallIcon("player_volume"));
   volumeSlider->setValue(Prefs::volume());
+  QString str;
+  str = QString::fromUtf8( QCString().sprintf(i18n("Vol: %02d%%").utf8(), Prefs::volume()) );
+  volumelabel->setText(str);
   connect(volumeSlider, SIGNAL(valueChanged(int)), SLOT(volChanged(int)));
 
   /* FIXME check for return value */
@@ -137,6 +141,7 @@
   connect(m_cd, SIGNAL(trackPlaying(unsigned, unsigned)), this, SLOT(trackUpdate(unsigned, unsigned)));
   connect(m_cd, SIGNAL(trackPaused(unsigned, unsigned)), this, SLOT(trackUpdate(unsigned, unsigned)));
   connect(m_cd, SIGNAL(trackChanged(unsigned, unsigned)), this, SLOT(trackChanged(unsigned, unsigned)));
+  connect(m_cd, SIGNAL(discStopped()), this, SLOT(discStopped()));
   connect(m_cd, SIGNAL(discChanged(unsigned)), this, SLOT(discChanged(unsigned)));
   connect( &queryledtimer, SIGNAL(timeout()),  SLOT(togglequeryled()) );
   connect( &titlelabeltimer, SIGNAL(timeout()),  SLOT(titlelabeltimeout()) );
@@ -186,6 +191,10 @@
   m_actions->readShortcutSettings("Shortcuts");
   
   m_actions->action( "options_configure_globals" )->setText( i18n( "Configure &Global Shortcuts..." ) );
+
+  kapp->installKDEPropertyMap();
+  QSqlPropertyMap *map = QSqlPropertyMap::defaultMap();
+  map->insert("KComboBox", "currentText");
   
   initGlobalShortcuts();
   
@@ -377,8 +386,6 @@
 
     if (!m_cd->isPlaying())
     {
-        setLEDs(0);
-        resetTimeSlider(true);
         kapp->processEvents();
         kapp->flushX();
 
@@ -389,6 +396,9 @@
         }
         else
         {
+            setLEDs(0);
+            resetTimeSlider(true);
+
             if(Prefs::randomPlay())
             {
                 make_random_list();
@@ -424,6 +434,9 @@
 {
     if (shuffle == 2) {
         if(Prefs::randomPlay() && m_cd->tracks() > 0) {
+            shufflePB->blockSignals(true);
+            shufflePB->setOn(true);
+            shufflePB->blockSignals(false);
             make_random_list(); /* koz: Build a unique, once, random list */
             if(m_cd->isPlaying())
                 nextClicked();
@@ -459,7 +472,7 @@
 
     if (Prefs::randomPlay()) {
         track = prev_randomtrack();
-        if (track == 0) {
+        if (track == -1) {
             return;
         }
     } else {
@@ -476,7 +489,7 @@
 
     kapp->processEvents();
     kapp->flushX();
-    m_cd->play(track, playlist.isEmpty() ? 0 : track);
+    m_cd->play(track, 0, playlist.isEmpty() ? 0 : track);
 } // prevClicked()
 
 bool KSCD::nextClicked()
@@ -504,7 +517,7 @@
 
     kapp->processEvents();
     kapp->flushX();
-    m_cd->play(track, playlist.isEmpty() ? 0 : track + 1);
+    m_cd->play(track, 0, Prefs::randomPlay() || !playlist.isEmpty() ? track + 1 : 0);
     return true;
 } // nextClicked()
 
@@ -554,25 +567,25 @@
 } //trackChanged(int track)
 
 
-void KSCD::jumpToTime(int seconds, bool forcePlay)
+void KSCD::jumpToTime(int ms, bool forcePlay)
 {
     kapp->processEvents();
     kapp->flushX();
 
     int track = m_cd->track();
     if ((m_cd->isPlaying() || forcePlay) &&
-        seconds < (int)m_cd->trackLength())
+        ms < (int)m_cd->trackLength())
     {
         if(Prefs::randomPlay() || !playlist.isEmpty())
         {
-            m_cd->play(track, seconds, track + 1);
+            m_cd->play(track, ms, track + 1);
         }
         else
         {
-            m_cd->play(track, seconds);
+            m_cd->play(track, ms);
         }
     }
-} // jumpToTime(int seconds)
+} // jumpToTime(int ms)
 
 void KSCD::timeSliderPressed()
 {
@@ -751,7 +764,6 @@
 
     updateConfigDialog(confWidget);
 
-    connect(configDialog, SIGNAL(settingsChanged()), confWidget, SLOT(configDone()));
     connect(configDialog, SIGNAL(settingsChanged()), this, SLOT(configDone()));
     configDialog -> show();
 } // showConfig()
@@ -783,21 +795,14 @@
 void KSCD::setDevicePaths()
 {
     if (!m_cd->setDevice(Prefs::cdDevice(), Prefs::volume(), Prefs::digitalPlayback(),
-		Prefs::audioSystem(), Prefs::audioDevice()))
+                         Prefs::audioSystem(), Prefs::audioDevice()))
     {
         // This device did not seem usable.
         QString str = i18n("CD-ROM read or access error (or no audio disc in drive).\n"\
                             "Please make sure you have access permissions to:\n%1").arg(
-			      KCompactDisc::urlToDevice(Prefs::cdDevice()));
+                             KCompactDisc::urlToDevice(Prefs::cdDevice()));
         KMessageBox::error(this, str, i18n("Error"));
     }
-    else
-    {
-        if (Prefs::autoplay() && !m_cd->isPlaying())
-        {
-            playClicked();
-        }
-    }
 } // setDevicePath()
 
 void KSCD::setDocking(bool dock)
@@ -854,7 +859,7 @@
 void KSCD::volChanged( int vol )
 {
     QString str;
-    str = QString::fromUtf8( QCString().sprintf(i18n("Vol: %02d%%").utf8(), Prefs::volume()) );
+    str = QString::fromUtf8( QCString().sprintf(i18n("Vol: %02d%%").utf8(), vol) );
     volumelabel->setText(str);
     m_cd->setVolume(vol);
     Prefs::setVolume(vol);
@@ -930,7 +935,6 @@
     {
         if(!Prefs::looping())
         {
-            m_cd->stop();
             return -1;
         }
         else
@@ -1000,6 +1004,11 @@
     //totaltimelabel->clear();
     totaltimelabel->lower();
 
+    if (Prefs::autoplay() && !m_cd->isPlaying())
+    {
+        playClicked();
+    }
+
     // We just populated the GUI with what we got from the CD. Now look for
     // more from the Internet...
     lookupCDDB();
@@ -1007,12 +1016,31 @@
 
 void KSCD::discStopped()
 {
-    statuslabel->setText(i18n("Stopped"));
     if (Prefs::ejectOnFinish() && !stoppedByUser && (m_cd->discId() != KCompactDisc::missingDisc))
     {
         ejectClicked();
     }
 
+    if (!stoppedByUser)
+    {
+      if (Prefs::randomPlay())
+      {
+        // If nextClicked returns false, it was the last
+        // random track, and the player should be stopped
+        if (nextClicked())
+          return;
+      }
+      else if (Prefs::looping())
+      {
+        playClicked();
+        return;
+      }
+    }
+    
+    statuslabel->setText(i18n("Stopped"));
+    playPB->setText(i18n("Play"));
+    playPB->setIconSet(SmallIconSet("player_play"));
+
     /* reset to initial value, only stopclicked() sets this to true */
     stoppedByUser = false;
 
@@ -1332,10 +1360,13 @@
         tmp = trackPosition;
         break;
     }
-    setLEDs(tmp);
-    timeSlider->blockSignals(true);
-    timeSlider->setValue(trackPosition);
-    timeSlider->blockSignals(false);
+    if (updateTime)
+    {
+      setLEDs(tmp);
+      timeSlider->blockSignals(true);
+      timeSlider->setValue(trackPosition);
+      timeSlider->blockSignals(false);
+    }
 }
 
 void KSCD::cycleplaytimemode()
Index: kscd/audiocd_play.desktop
===================================================================
--- kscd/audiocd_play.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/audiocd_play.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -20,6 +20,7 @@
 Name[hu]=Lejátszás
 Name[is]=Spila
 Name[it]=Riproduci
+Name[lt]=Groti
 Name[mk]=Пушти
 Name[nb]=Spill
 Name[nl]=Afspelen
@@ -33,7 +34,6 @@
 Name[sv]=Spela
 Name[ta]=தொடங்கு
 Name[uk]=Пуск
-Name[xx]=xxPlayxx
 Name[zh_CN]=播放
 Exec=kscd -s -caption "%c" %i %m %u
 Icon=kscd
Index: kscd/libwm/cdrom.c
===================================================================
--- kscd/libwm/cdrom.c	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/libwm/cdrom.c	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -344,7 +344,7 @@
     return -1;
   } else {
     wm_lib_message(WM_MSG_LEVEL_DEBUG|WM_MSG_CLASS,
-      "gen_det_drive_status returns status %s, track %i, frame %i\n",
+      "gen_get_drive_status returns status %s, track %i, frame %i\n",
       gen_status(mode), thiscd.curtrack, cur_frame);
   }
 
@@ -508,8 +508,8 @@
   
   cur_firsttrack = start;
   cur_lasttrack = end;
-    
-  wm_cd_play_chunk(thiscd.trk[CARRAY(start)].start + pos * 75, end = thiscd.ntracks ?
+
+  wm_cd_play_chunk(thiscd.trk[CARRAY(start)].start + pos * 75, end == thiscd.ntracks ?
     thiscd.length * 75 : thiscd.trk[CARRAY(end)].start - 1, thiscd.trk[CARRAY(start)].start);
   /* So we don't update the display with the old frame number */
   wm_cd_status();
Index: kscd/libwm/plat_linux_cdda.c
===================================================================
--- kscd/libwm/plat_linux_cdda.c	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/libwm/plat_linux_cdda.c	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -68,8 +68,7 @@
 /* Address of next block to read. */
 static int current_position;
 
-/* Address of first and last blocks to read. */
-static int starting_position;
+/* Address of last block to read. */
 static int ending_position;
 
 static struct cdrom_read_audio cdda;
@@ -163,7 +162,6 @@
 {
     current_position = start;
     ending_position = end;
-    starting_position = realstart;
 
     return 0;
 }
@@ -187,7 +185,7 @@
     }
 
     cdda.addr_format = CDROM_LBA;
-    cdda.addr.lba = current_position;
+    cdda.addr.lba = current_position - CD_MSF_OFFSET;
     if (ending_position && current_position + pdev->frames_at_once > ending_position)
         cdda.nframes = ending_position - current_position;
     else

Property changes on: kscd/hi128-app-kscd.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kscd/kcompactdisc.cpp
===================================================================
--- kscd/kcompactdisc.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/kcompactdisc.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -70,6 +70,7 @@
 #include "libwm/include/wm_cdtext.h"
 #include "libwm/include/wm_config.h"
 #include "libwm/include/wm_cdinfo.h"
+#include "libwm/include/wm_helpers.h"
 
 // Sun, Ultrix etc. have a canonical CD device specified in the
 // respective plat_xxx.c file. On those platforms you need not
@@ -109,7 +110,7 @@
     m_infoMode(infoMode)
 {
     // Debug.
-    // wm_cd_set_verbosity(0xffff);
+    // wm_cd_set_verbosity(WM_MSG_LEVEL_DEBUG | WM_MSG_CLASS_ALL );
     m_trackArtists.clear();
     m_trackTitles.clear();
     m_trackStartFrames.clear();
@@ -134,12 +135,12 @@
 {
     if (NO_DISC || !m_tracks)
         return 0;
-    return FRAMES_TO_MS(m_trackStartFrames[m_tracks - 1] - m_trackStartFrames[0]);
+    return FRAMES_TO_MS(m_trackStartFrames[m_tracks+1] - m_trackStartFrames[0]);
 }
 
 unsigned KCompactDisc::discPosition() const
 {
-    return cur_pos_abs * 1000;
+    return cur_pos_abs * 1000 - FRAMES_TO_MS(m_trackStartFrames[0]);
 }
 
 QString KCompactDisc::discStatus(int status)
@@ -217,7 +218,7 @@
 
 bool KCompactDisc::isPlaying() const
 {
-    return WM_CDS_DISC_PLAYING(m_status) && (m_status != WM_CDM_PAUSED);
+    return WM_CDS_DISC_PLAYING(m_status) && (m_status != WM_CDM_PAUSED) && (m_status != WM_CDM_TRACK_DONE);
 }
 
 void KCompactDisc::pause()
@@ -243,12 +244,12 @@
         if (!reply.isValid() || properties.count() < 6)
         {
             kdError() << "Invalid reply from mediamanager" << endl;
-	    return defaultDevice;
+            return defaultDevice;
         }
         else
         {
             kdDebug() << "Reply from mediamanager " << properties[5] << endl;
-	    return properties[5];
+            return properties[5];
         }
     }
 
@@ -293,10 +294,13 @@
         // Init CD-ROM and display.
         setVolume(volume);
     }
+
+    m_previousStatus = m_status = wm_cd_status();
+    
     if (m_infoMode == Asynchronous)
         timerExpired();
     else
-	timer.start(1000, true);
+        timer.start(1000, true);
     return m_device != QString::null;
 }
 
@@ -373,6 +377,7 @@
 void KCompactDisc::timerExpired()
 {
     m_status = wm_cd_status();
+
     if (WM_CDS_NO_DISC(m_status) || (m_device == QString::null))
     {
         if (m_previousStatus != m_status)
@@ -445,14 +450,13 @@
         }
         if (isPlaying())
         {
+            m_previousStatus = m_status;
             // Update the current playing position.
             emit trackPlaying(m_track, trackPosition());
         }
         else
         if (m_previousStatus != m_status)
         {
-            m_previousStatus = m_status;
-
             // If we are not playing, then we are either paused, or stopped.
             switch (m_status)
             {
@@ -463,9 +467,15 @@
                 emit trayOpening();
                 break;
             default:
-                emit discStopped();
+                if (m_previousStatus == WM_CDM_PLAYING || m_previousStatus == WM_CDM_PAUSED
+                      && m_status == WM_CDM_STOPPED)
+                {
+                    emit discStopped();
+                }
                 break;
             }
+
+            m_previousStatus = m_status;
         }
     }
 
Index: kscd/kscd.desktop
===================================================================
--- kscd/kscd.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/kscd.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -53,7 +53,6 @@
 GenericName[ven]=Tshitambi tsha CD
 GenericName[wa]=Djoweu di plakes lazer
 GenericName[xh]=Umdlali We CD
-GenericName[xx]=xxCD Playerxx
 GenericName[zh_CN]=CD 播放器
 GenericName[zh_TW]=CD 播放器
 GenericName[zu]=Umdlali we CD
@@ -65,7 +64,6 @@
 Name[sv]=Kscd
 Name[ta]=Ksகுறுந்தகடு
 Name[tg]=KsДиски Фишурда
-Name[xx]=xxKsCDxx
 Exec=kscd -caption "%c" %i %m
 DocPath=kscd/index.html
 Icon=kscd

Property changes on: kscd/hi64-app-kscd.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kscd/configWidget.h
===================================================================
--- kscd/configWidget.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kscd/configWidget.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -26,6 +26,7 @@
 #include "configWidgetUI.h"
 
 class KSCD;
+class SpecialComboBox;
 
 class configWidget : public configWidgetUI
 {
@@ -37,11 +38,11 @@
 
    protected:
         KSCD* mPlayer;
+        SpecialComboBox* kcfg_AudioSystem;
 
    public slots:
        virtual void kcfg_DigitalPlayback_toggled(bool);
        virtual void kcfg_SelectEncoding_toggled(bool);
-       virtual void configDone();
    private:
        void getMediaDevices();
 };
Index: krec/krec_exportwave.desktop
===================================================================
--- krec/krec_exportwave.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/krec_exportwave.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -20,6 +20,7 @@
 Name[is]=Wave útflutningur
 Name[it]=Esporta-Wave
 Name[ja]=Wave エクスポート
+Name[lt]=Eksportavimas į wave
 Name[mk]=Wave-изнесување
 Name[nb]=Wave-eksport
 Name[nl]=Wave-export
@@ -39,7 +40,6 @@
 Name[tr]=Wave Aktarma
 Name[uk]=Експорт Wave
 Name[uz]=Wave экспорт
-Name[xx]=xxWave-Exportxx
 Name[zh_CN]=声波-导出
 X-KDE-Library=libkrecexport_wave
 ServiceTypes=KRec/exportplugin
Index: krec/kcm_krec.desktop
===================================================================
--- krec/kcm_krec.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/kcm_krec.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -27,6 +27,7 @@
 Name[is]=Algilt
 Name[it]=Globale
 Name[ja]=グローバル
+Name[lt]=Globalinė
 Name[mk]=Општо
 Name[nl]=Globaal
 Name[pa]=ਗਲੋਬਲ
@@ -41,11 +42,11 @@
 Name[tr]=Evrensel
 Name[uk]=Глобальні
 Name[uz]=Глобал
-Name[xx]=xxGlobalxx
 Name[zh_CN]=全局
 Comment=Global Configuration
 Comment[bg]=Общи настройки
 Comment[bn]=গ্লোবাল কনফিগারেশন
+Comment[br]=Kefluniadur hollek
 Comment[bs]=Globalne postavke
 Comment[ca]=Configuració global
 Comment[cs]=Globální nastavení
@@ -63,6 +64,7 @@
 Comment[is]=Algildar stillingar
 Comment[it]=Configurazione globale
 Comment[ja]=グローバル設定
+Comment[lt]=Globalinė konfigūracija
 Comment[mk]=Глобална конфигурација
 Comment[nb]=Globalt oppsett
 Comment[nl]=Globale configuratie
@@ -81,6 +83,5 @@
 Comment[ta]=KRec இன் உலகலாவிய வடிவமைப்பு
 Comment[tr]=Genel Yapılandırma
 Comment[uk]=Глобальні налаштування
-Comment[xx]=xxGlobal Configurationxx
 Comment[zh_CN]=全局配置
 
Index: krec/kcm_krec_files.desktop
===================================================================
--- krec/kcm_krec_files.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/kcm_krec_files.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -34,6 +34,7 @@
 Name[is]=Nýjar skrár
 Name[it]=Nuovi file
 Name[ja]=新規ファイル
+Name[lt]=Naujos bylos
 Name[mk]=Нови датотеки
 Name[nb]=Nye filer
 Name[nl]=Nieuwe bestanden
@@ -55,7 +56,6 @@
 Name[uk]=Нові файли
 Name[uz]=Янги файллар
 Name[wa]=Noveas fitchîs
-Name[xx]=xxNew Filesxx
 Name[zh_CN]=新建文件
 Comment=Default Properties for New Files
 Comment[bg]=Настройки на създаване на нови файлове
@@ -77,6 +77,7 @@
 Comment[is]=Sjálfgefnir eiginleikar nýrra skráa
 Comment[it]=Impostazioni predefinite per i nuovi file
 Comment[ja]=新規ファイルのデフォルト設定
+Comment[lt]=Numatytos naujų bylų savybės
 Comment[mk]=Почетни својства за новите датотеки
 Comment[nb]=Standard egenskaper for nye filer
 Comment[nl]=Standaardeigenschappen voor nieuwe bestanden
@@ -97,6 +98,5 @@
 Comment[tr]=Yeni Dosyalar İçin Öntanımlı Özellikler
 Comment[uk]=Типові властивості для нових файлів
 Comment[uz]=Янги файлларнинг андоза хоссалари
-Comment[xx]=xxDefault Properties for New Filesxx
 Comment[zh_CN]=新文件的默认属性
 
Index: krec/krec_exportitem.desktop
===================================================================
--- krec/krec_exportitem.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/krec_exportitem.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -3,6 +3,7 @@
 X-KDE-ServiceType=KRec/exportplugin
 Comment=Exportplugin for KRec
 Comment[bg]=Приставка за KRec
+Comment[br]=Lugent ezporh evit KRec
 Comment[bs]=Exportplugin za KRec
 Comment[ca]=Connector d'exportació per a KRec
 Comment[cs]=Exportní modul pro KRec
@@ -22,6 +23,7 @@
 Comment[is]=Útflutningsíforrit fyrir KRec
 Comment[it]=Plugin di esportazione per KRec
 Comment[ja]=KRecのエクスポートプラグイン
+Comment[lt]=Eksporto priedas, skirtas KRec
 Comment[mk]=Приклучок за изнесување за KRec
 Comment[nb]=Tilleggsprogram for eksport i KRec
 Comment[nl]=Exportplugin voor KRec
@@ -41,7 +43,6 @@
 Comment[tr]=KRec için aktarma eklentisi
 Comment[uk]=Втулок експорту для KRec
 Comment[uz]=KRec учун экспорт плагини
-Comment[xx]=xxExportplugin for KRecxx
 Comment[zh_CN]=KRec 导出插件
 
 [PropertyDef::X-KDE-ExportSuffix]
Index: krec/ogg_export/krec_exportogg.desktop
===================================================================
--- krec/ogg_export/krec_exportogg.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/ogg_export/krec_exportogg.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -22,6 +22,7 @@
 Name[is]=OGG útflutningur
 Name[it]=Esporta-OGG
 Name[ja]=OGG エクスポート
+Name[lt]=Eksportavimas į OGG
 Name[mk]=OGG-изнесување
 Name[nb]=OGG-eksport
 Name[nl]=OGG-export
@@ -42,7 +43,6 @@
 Name[tr]=OGG Aktarımı
 Name[uk]=Експорт OGG
 Name[uz]=OGG экспорт
-Name[xx]=xxOGG-Exportxx
 Name[zh_CN]=OGG 导出
 X-KDE-Library=libkrecexport_ogg
 ServiceTypes=KRec/exportplugin
Index: krec/krec.desktop
===================================================================
--- krec/krec.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/krec.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -53,7 +53,6 @@
 GenericName[ven]=Tshishumiswa tshau rekhoda
 GenericName[wa]=Usteye eredjîstresse di sons
 GenericName[xh]=Isixhobo Sokubhala phantsi
-GenericName[xx]=xxRecording Toolxx
 GenericName[zh_CN]=录音工具
 GenericName[zh_TW]=錄製工具
 GenericName[zu]=Ithuluzi Lokuqopha
@@ -62,7 +61,6 @@
 Name[hi]=के-रेक
 Name[sv]=Krec
 Name[tg]=KСабт
-Name[xx]=xxKRecxx
 X-KDE-StartupNotify=true
 X-DCOP-ServiceType=Multi
 Categories=Qt;KDE;AudioVideo;
Index: krec/mp3_export/krec_exportmp3.desktop
===================================================================
--- krec/mp3_export/krec_exportmp3.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ krec/mp3_export/krec_exportmp3.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -21,7 +21,7 @@
 Name[is]=MP3 útflutningur
 Name[it]=Esporta-MP3
 Name[ja]=MP3 エクスポート
-Name[lt]=MP3 eksportas
+Name[lt]=Eksportavimas į MP3
 Name[mk]=MP3-изнесување
 Name[nb]=MP3-eksport
 Name[nl]=MP3-export
@@ -42,7 +42,6 @@
 Name[tr]=MP3 Aktarımı
 Name[uk]=Експорт MP3
 Name[uz]=MP3 экспорт
-Name[xx]=xxMP3-Exportxx
 Name[zh_CN]=MP3-导出
 X-KDE-Library=libkrecexport_mp3
 ServiceTypes=KRec/exportplugin
Index: kmid/kmid.desktop
===================================================================
--- kmid/kmid.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmid/kmid.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -7,7 +7,6 @@
 Name[hi]=के-मिड
 Name[sv]=Kmid
 Name[th]=มิดี้ - K
-Name[xx]=xxKMidxx
 Name[zh_TW]=KMidi
 Name[zu]=KMidi
 MimeType=audio/x-karaoke;audio/x-midi;audio/midi
@@ -63,7 +62,6 @@
 GenericName[uz]=Midi/Караоки плейер
 GenericName[ven]=Midi/Tshitambi tsha Karaoke
 GenericName[xh]=Umdlali we Midi/Karaoke
-GenericName[xx]=xxMidi/Karaoke Playerxx
 GenericName[zh_CN]=Midi/卡拉 OK 播放器
 GenericName[zh_TW]=Midi/Karaoke 播放器
 GenericName[zu]=Umdlali weMidi/Karaoke
Index: kmid/x-karaoke.desktop
===================================================================
--- kmid/x-karaoke.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmid/x-karaoke.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -27,6 +27,7 @@
 Comment[hu]=Karaoke-fájl
 Comment[is]=Karaoke skrá
 Comment[ja]=カラオケファイル
+Comment[lt]=Karaoke byla
 Comment[mk]=Karaoke датотека
 Comment[nb]=Karaokefil
 Comment[nl]=Karaoke-bestand
@@ -46,5 +47,4 @@
 Comment[tr]=Karaoke Dosyası
 Comment[uk]=Файл Karaoke
 Comment[uz]=Караоки файли
-Comment[xx]=xxKaraoke Filexx
 Comment[zh_CN]=卡拉 OK 文件
Index: juk/playlist.cpp
===================================================================
--- juk/playlist.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/playlist.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -438,7 +438,7 @@
     // Since this method gets a lot of traffic, let's optimize for such.
 
     if(!m_addTime.isEmpty()) {
-	for(QValueList<PlaylistItem::Pointer>::ConstIterator it = m_addTime.begin();
+	for(PlaylistItemList::ConstIterator it = m_addTime.begin();
 	    it != m_addTime.end(); ++it)
 	{
 	    if(*it)
@@ -449,7 +449,7 @@
     }
 
     if(!m_subtractTime.isEmpty()) {
-	for(QValueList<PlaylistItem::Pointer>::ConstIterator it = m_subtractTime.begin();
+	for(PlaylistItemList::ConstIterator it = m_subtractTime.begin();
 	    it != m_subtractTime.end(); ++it)
 	{
 	    if(*it)
@@ -574,6 +574,8 @@
     m_search.clearItem(item);
 
     m_history.remove(item);
+    m_addTime.remove(item);
+    m_subtractTime.remove(item);
 
     delete item;
     if(emitChanged)
@@ -1291,12 +1293,19 @@
 
 void Playlist::insertItem(QListViewItem *item)
 {
+    // Because we're called from the PlaylistItem ctor, item may not be a
+    // PlaylistItem yet (it would be QListViewItem when being inserted.  But,
+    // it will be a PlaylistItem by the time it matters, but be careful if
+    // you need to use the PlaylistItem from here.
+
     m_addTime.append(static_cast<PlaylistItem *>(item));
     KListView::insertItem(item);
 }
 
 void Playlist::takeItem(QListViewItem *item)
 {
+    // See the warning in Playlist::insertItem.
+
     m_subtractTime.append(static_cast<PlaylistItem *>(item));
     KListView::takeItem(item);
 }
Index: juk/juk.h
===================================================================
--- juk/juk.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/juk.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -48,7 +48,6 @@
     void setupActions();
     void setupSystemTray();
     void setupGlobalAccels();
-    void processArgs();
     void createDirs();
 
     void keyPressEvent(QKeyEvent *);
@@ -74,6 +73,7 @@
     void slotConfigureFileRenamer();
     void slotUndo();
     void slotCheckAlbumNextAction(bool albumRandomEnabled);
+    void slotProcessArgs();
 
 private:
     PlaylistSplitter *m_splitter;

Property changes on: juk/hi128-app-juk.png
___________________________________________________________________
Name: svn:executable
   - *

Index: juk/akodeplayer.h
===================================================================
--- juk/akodeplayer.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/akodeplayer.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -59,6 +59,7 @@
 
 private:
     aKode::Player *m_player;
+    float m_volume;
 };
 
 #endif
Index: juk/juk.desktop
===================================================================
--- juk/juk.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/juk.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -6,13 +6,11 @@
 Icon=juk
 DocPath=juk/index.html
 Comment=
-Comment[xx]=xxxx
 Terminal=false
 Name=JuK
 Name[bn]=জুক
 Name[hi]=ज्यूक
 Name[sv]=Juk
-Name[xx]=xxJuKxx
 GenericName=Music Player
 GenericName[bg]=Плеър за музикални файлове
 GenericName[br]=C'hoarier ar sonerezh
@@ -56,6 +54,6 @@
 GenericName[tr]=Müzik Yürütücüsü
 GenericName[uk]=Програвач музики
 GenericName[uz]=Мусиқа плейер
-GenericName[xx]=xxMusic Playerxx
 GenericName[zh_CN]=音乐播放器
+MimeType=application/x-ogg;audio/mpeg;audio/mpegurl;audio/vorbis;audio/x-adpcm;audio/x-flac;audio/x-matroska;audio/x-mp2;audio/x-mp3;audio/x-mpegurl;audio/x-musepack;audio/x-oggflac;audio/x-speex;audio/x-vorbis;audio/x-wav;
 Categories=Qt;KDE;AudioVideo;
Index: juk/jukservicemenu.desktop
===================================================================
--- juk/jukservicemenu.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/jukservicemenu.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,6 +5,7 @@
 [Desktop Action addToCollection]
 Name=Add to JuK Collection
 Name[bn]=জুক সংকলনে যোগ করো 
+Name[br]=Ouzhpennañ d'an dastumad JuK
 Name[bs]=Dodaj u JuK kolekciju
 Name[ca]=Afegeix a la col·lecció JuK
 Name[cs]=Přidat do JuK kolekce
@@ -45,7 +46,6 @@
 Name[tr]=JuK Koleksiyonu Ekle
 Name[uk]=Додати до збірки JuK
 Name[uz]=JuK тўпламига қўшиш
-Name[xx]=xxAdd to JuK Collectionxx
 Name[zh_CN]=添加到 JuK 收藏
 Icon=juk
 Exec=dcop juk Player openFile %u
Index: juk/playlist.h
===================================================================
--- juk/playlist.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/playlist.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -647,8 +647,8 @@
     bool m_disableColumnWidthUpdates;
 
     mutable int m_time;
-    mutable QValueList<PlaylistItem::Pointer> m_addTime;
-    mutable QValueList<PlaylistItem::Pointer> m_subtractTime;
+    mutable PlaylistItemList m_addTime;
+    mutable PlaylistItemList m_subtractTime;
 
     /**
      * The average minimum widths of columns to be used in balancing calculations.
Index: juk/akodeplayer.cpp
===================================================================
--- juk/akodeplayer.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/akodeplayer.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -32,7 +32,8 @@
 ////////////////////////////////////////////////////////////////////////////////
 
 aKodePlayer::aKodePlayer() : Player(),
-                             m_player(0)
+                             m_player(0),
+                             m_volume(1.0)
 {}
 
 aKodePlayer::~aKodePlayer()
@@ -61,6 +62,7 @@
     else {
         m_player = new aKode::Player();
         m_player->open("auto");
+        m_player->setVolume(m_volume);
     }
 
     if (m_player->load(filename.local8Bit().data()))
@@ -84,16 +86,15 @@
 
 void aKodePlayer::setVolume(float volume)
 {
+    m_volume = volume;
+
     if (m_player)
-        m_player->setVolume(volume);
+        m_player->setVolume(m_volume);
 }
 
 float aKodePlayer::volume() const
 {
-    if (m_player)
-        return m_player->volume();
-    // 1.0 is full volume
-    return 1.0;
+    return m_volume;
 }
 
 /////////////////////////////////////////////////////////////////////////////////

Property changes on: juk/hi64-app-juk.png
___________________________________________________________________
Name: svn:executable
   - *

Index: juk/juk.cpp
===================================================================
--- juk/juk.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ juk/juk.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -68,11 +68,11 @@
     readConfig();
     setupSystemTray();
     setupGlobalAccels();
-    processArgs();
     createDirs();
 
     SplashScreen::finishedLoading();
     QTimer::singleShot(0, CollectionList::instance(), SLOT(slotCheckCache()));
+    QTimer::singleShot(0, this, SLOT(slotProcessArgs()));
 
     m_sliderAction->slotUpdateOrientation();
 }
@@ -244,7 +244,7 @@
     m_accel->updateConnections();
 }
 
-void JuK::processArgs()
+void JuK::slotProcessArgs()
 {
     KCmdLineArgs *args = KCmdLineArgs::parsedArgs();
     QStringList files;
@@ -252,8 +252,7 @@
     for(int i = 0; i < args->count(); i++)
         files.append(args->arg(i));
 
-    // TODO: make this work again
-    // m_splitter->open(files);
+    CollectionList::instance()->addFiles(files);
 }
 
 void JuK::createDirs()

Property changes on: juk
___________________________________________________________________
Name: svn:ignore
   - Makefile
juk
.deps
juk_meta_unload.cpp
.libs
juk.moc.cpp
taggerwidget.moc.cpp
filelistitem.moc.cpp
slideraction.moc.cpp
filelist.moc.cpp
customaction.moc.cpp
Makefile.in


   + Makefile
juk
.deps
juk_meta_unload.cpp
.libs
juk.moc.cpp
taggerwidget.moc.cpp
filelistitem.moc.cpp
slideraction.moc.cpp
filelist.moc.cpp
customaction.moc.cpp
Makefile.in
exampleoptions.moc
advancedsearchdialog.moc
exampleoptionsbase.cpp
k3bexporter.moc
slideraction.moc
historyplaylist.moc
playlistsplitter.moc
coverdialogbase.cpp
filerenameroptionsbase.cpp
dynamicplaylist.moc
exampleoptionsbase.h
playlistcollection.moc
statuslabel.moc
nowplaying.moc
filerenamerbase.cpp
keydialog.moc
playlistbox.moc
systemtray.moc
exampleoptionsbase.moc
trackpickerdialogbase.cpp
tageditor.moc
searchplaylist.moc
tracksequencemanager.moc
coverdialogbase.moc
coverdialog.moc
filerenameroptionsbase.moc
coverdialogbase.h
jukIface_skel.cpp
filerenamerconfigdlg.moc
searchwidget.moc
filerenamerbase.moc
jukIface.kidl
googlefetcherdialog.moc
filerenameroptionsbase.h
trackpickerdialogbase.moc
viewmode.moc
trackpickerdialog.moc
deletedialogbase.h
collectionlist.moc
directorylist.moc
gstreamerplayer.moc
tagtransactionmanager.moc
filerenameroptions.moc
filerenamer.moc
juk.moc
folderplaylist.moc
tagguesserconfigdlg.moc
playlist.moc
directorylistbase.h
deletedialogbase.cpp
tagguesserconfigdlgwidget.cpp
directorylistbase.cpp
googlefetcher.moc
artsplayer.moc
tagguesserconfigdlgwidget.h
treeviewitemplaylist.moc
deletedialogbase.moc
deletedialog.moc
trackpickerdialogbase.h
playermanager.moc
tagguesserconfigdlgwidget.moc
directorylistbase.moc
filerenamerbase.h
akodeplayer.moc


Index: kappfinder-data/muse.desktop
===================================================================
--- kappfinder-data/muse.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/muse.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -4,7 +4,6 @@
 Name=MusE
 Name[sv]=Muse
 Name[ta]=Mபயன்
-Name[xx]=xxMusExx
 Icon=
 GenericName=Music Sequencer
 GenericName[bg]=Музикален синтезатор
@@ -13,6 +12,7 @@
 GenericName[cy]=Dilyniannydd Cerdd
 GenericName[da]=Musik sequencer
 GenericName[de]=Musiksequenzer
+GenericName[el]=Sequencer μουσικής
 GenericName[es]=Secuenciador de música
 GenericName[et]=Sekventser
 GenericName[eu]=Musika sekuentziadorea
@@ -41,7 +41,6 @@
 GenericName[tg]=Тартибгузори Мусиқӣ
 GenericName[tr]=Müzik Sıralayıcısı
 GenericName[uk]=Програвач музики
-GenericName[xx]=xxMusic Sequencerxx
 GenericName[zh_CN]=音乐音序器
 Type=Application
 Categories=Music;AudioVideo;
Index: kappfinder-data/freebirth.desktop
===================================================================
--- kappfinder-data/freebirth.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/freebirth.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=FreeBirth
 Name[sv]=Freebirth
 Name[ta]=ஃப்ரீபர்த்
-Name[xx]=xxFreeBirthxx
 GenericName=Drum Machine
 GenericName[bg]=Барабан
 GenericName[bs]=Ritam mašina
@@ -14,6 +13,7 @@
 GenericName[cy]=Peiriant Drymiau
 GenericName[da]=Trommemaskine
 GenericName[de]=Schlagzeugcomputer
+GenericName[el]=Μηχανή κρουστών
 GenericName[es]=Caja de ritmos
 GenericName[et]=Trummimasin
 GenericName[eu]=Tanbor-makina
@@ -23,6 +23,7 @@
 GenericName[hu]=Dobgép
 GenericName[is]=Trommuheili
 GenericName[ja]=ドラムマシーン
+GenericName[lt]=Būgnų mašina
 GenericName[mk]=Ритам машина
 GenericName[nb]=Trommemaskin
 GenericName[nl]=Drummachine
@@ -41,7 +42,6 @@
 GenericName[tg]=Мошинаи Таблак
 GenericName[tr]=Davul Makinası
 GenericName[uk]=Барабани
-GenericName[xx]=xxDrum Machinexx
 GenericName[zh_CN]=鼓机
 StartupNotify=true
 Type=Application
Index: kappfinder-data/mixxx.desktop
===================================================================
--- kappfinder-data/mixxx.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/mixxx.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -4,7 +4,6 @@
 Icon=
 Name=Mixxx
 Name[ta]=மிக்ஸ்
-Name[xx]=xxMixxxxx
 GenericName=DJ-Mixer and Player
 GenericName[bg]=Диско миксер и плеър
 GenericName[bs]=DJ-Mixer i Player
@@ -43,7 +42,6 @@
 GenericName[tg]=DJ-Омехтакунак ва Бозингар
 GenericName[tr]=DJ-Karıştırıcı ve Çalıcı
 GenericName[uk]=Мікшер та програвач DJ
-GenericName[xx]=xxDJ-Mixer and Playerxx
 GenericName[zh_CN]=DJ-Mixer 和播放器
 StartupNotify=true
 Type=Application
Index: kappfinder-data/hydrogen.desktop
===================================================================
--- kappfinder-data/hydrogen.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/hydrogen.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -9,7 +9,6 @@
 Name[pa]=ਹਾਈਡਰੋਜਨ
 Name[ta]=ஹைட்ரோஜன்
 Name[tg]=Гидроген
-Name[xx]=xxHydrogenxx
 GenericName=Drum Machine
 GenericName[bg]=Барабан
 GenericName[bs]=Ritam mašina
@@ -18,6 +17,7 @@
 GenericName[cy]=Peiriant Drymiau
 GenericName[da]=Trommemaskine
 GenericName[de]=Schlagzeugcomputer
+GenericName[el]=Μηχανή κρουστών
 GenericName[es]=Caja de ritmos
 GenericName[et]=Trummimasin
 GenericName[eu]=Tanbor-makina
@@ -27,6 +27,7 @@
 GenericName[hu]=Dobgép
 GenericName[is]=Trommuheili
 GenericName[ja]=ドラムマシーン
+GenericName[lt]=Būgnų mašina
 GenericName[mk]=Ритам машина
 GenericName[nb]=Trommemaskin
 GenericName[nl]=Drummachine
@@ -45,7 +46,6 @@
 GenericName[tg]=Мошинаи Таблак
 GenericName[tr]=Davul Makinası
 GenericName[uk]=Барабани
-GenericName[xx]=xxDrum Machinexx
 GenericName[zh_CN]=鼓机
 StartupNotify=true
 Type=Application
Index: kappfinder-data/ams.desktop
===================================================================
--- kappfinder-data/ams.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/ams.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -4,7 +4,6 @@
 Icon=
 Name=ams
 Name[sv]=AMS
-Name[xx]=xxamsxx
 GenericName=Alsa Modular Synthesizer
 GenericName[bg]=Модулен синтезатор на ALSA
 GenericName[ca]=Sintetitzador modular ALSA
@@ -40,7 +39,6 @@
 GenericName[tg]=Ҳамзамонсози Alsa Modular
 GenericName[tr]=Alsa Sentezleyici
 GenericName[uk]=Модульний синтезатор ALSA
-GenericName[xx]=xxAlsa Modular Synthesizerxx
 GenericName[zh_CN]=Alsa 模块化波表器
 StartupNotify=true
 Type=Application
Index: kappfinder-data/galan.desktop
===================================================================
--- kappfinder-data/galan.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/galan.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -4,7 +4,6 @@
 Icon=
 Name=gAlan
 Name[sv]=Galan
-Name[xx]=xxgAlanxx
 GenericName=Modular Synth
 GenericName[bg]=Модулен синтезатор
 GenericName[bs]=Modularni sintisajzer
@@ -40,7 +39,6 @@
 GenericName[ta]= மாடுலர் சிந்த்
 GenericName[tg]=Ҳамзамонсози Модулӣ
 GenericName[uk]=Модульний синтезатор
-GenericName[xx]=xxModular Synthxx
 GenericName[zh_CN]=模块波表
 StartupNotify=true
 Type=Application
Index: kappfinder-data/djplay.desktop
===================================================================
--- kappfinder-data/djplay.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/djplay.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -6,7 +6,6 @@
 Name[pt_BR]=DjPlay
 Name[sv]=DJplay
 Name[ta]=டிஜேதொடங்கு
-Name[xx]=xxDJPlayxx
 GenericName=DJ-Mixer and Player
 GenericName[bg]=Диско миксер и плеър
 GenericName[bs]=DJ-Mixer i Player
@@ -45,7 +44,6 @@
 GenericName[tg]=DJ-Омехтакунак ва Бозингар
 GenericName[tr]=DJ-Karıştırıcı ve Çalıcı
 GenericName[uk]=Мікшер та програвач DJ
-GenericName[xx]=xxDJ-Mixer and Playerxx
 GenericName[zh_CN]=DJ-Mixer 和播放器
 StartupNotify=true
 Type=Application
Index: kappfinder-data/amsynth.desktop
===================================================================
--- kappfinder-data/amsynth.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/amsynth.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -6,13 +6,13 @@
 Name[pt_BR]=Sint. do Alsa Mixer
 Name[sv]=Amsynt
 Name[ta]=ஆம்சின்த்
-Name[xx]=xxamSynthxx
 GenericName=Retro Analog - Modeling Softsynth
 GenericName[bg]=Аналогов синтезатор
 GenericName[cs]=Retro analogový softwarový syntetizátor
 GenericName[cy]=Synth Meddal Modelu Analog Retro
 GenericName[da]=En retro-analog - modelerende softsynth
 GenericName[de]=Ein retro-analoger Software-Synthesizer
+GenericName[el]=Αναλογικό ρετρό - Σύνθεση Softsynth
 GenericName[en_GB]=Retro Analogue - Modelling Softsynth
 GenericName[es]=Sintetizador analógico retro por software
 GenericName[et]=Retro analoog tarkvaraline süntesaator
@@ -34,7 +34,6 @@
 GenericName[sv]=Programvarusynt med gammaldags analogmodellering
 GenericName[ta]=ரெட்ரோ அனலாக் -  மாடலிங் சாஃப்ட்சின்த்
 GenericName[uk]=Програмний синтезатор - старі аналогові схеми
-GenericName[xx]=xxRetro Analog - Modeling Softsynthxx
 GenericName[zh_CN]=火箭模拟 - 模式软波表
 StartupNotify=true
 Type=Application
Index: kappfinder-data/vkeybd.desktop
===================================================================
--- kappfinder-data/vkeybd.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/vkeybd.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=vkeybd
 Name[sv]=Vkeybd
 Name[ta]=வி விசைப்பலகை
-Name[xx]=xxvkeybdxx
 GenericName=Virtual MIDI Keyboard
 GenericName[bg]=Виртуална клавиатура за MIDI
 GenericName[bs]=Virtualna MIDI klavijatura
@@ -25,6 +24,7 @@
 GenericName[is]=Sýndar-MIDI-lyklaborð
 GenericName[it]=Tastiera MIDI virtuale
 GenericName[ja]=仮想MIDIキーボード
+GenericName[lt]=Virtuali MIDI klaviatūra
 GenericName[mk]=Виртуелна MIDI клавијатура
 GenericName[nb]=Virtuelt MIDI-tastatur
 GenericName[nl]=Virtueel MIDI klavier
@@ -44,7 +44,6 @@
 GenericName[tg]=Забонаки Маҷозии MIDI
 GenericName[tr]=Görsel MIDI Klavye
 GenericName[uk]=Віртуальна MIDI клавіатура
-GenericName[xx]=xxVirtual MIDI Keyboardxx
 GenericName[zh_CN]=虚拟 MIDI 键盘
 StartupNotify=false
 Type=Application
Index: kappfinder-data/jack-rack.desktop
===================================================================
--- kappfinder-data/jack-rack.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/jack-rack.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -7,7 +7,6 @@
 Name[pa]=ਜੈਕ-ਰੈਕ
 Name[sv]=Jack-rack
 Name[ta]=ஜாக்-ராக்
-Name[xx]=xxJack-Rackxx
 GenericName=Jack Effectrack
 GenericName[bg]=Визуални ефекти
 GenericName[bs]=Jack rack sa efektima
@@ -30,7 +29,6 @@
 GenericName[sv]=Effektbord för Jack
 GenericName[ta]=ஜாக் ஒலி அமைப்பு பாதை
 GenericName[uk]=Доріжка ефектів Jack
-GenericName[xx]=xxJack Effectrackxx
 StartupNotify=true
 Type=Application
 Categories=Music;AudioVideo;
Index: kappfinder-data/qsynth.desktop
===================================================================
--- kappfinder-data/qsynth.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/qsynth.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -6,7 +6,6 @@
 Name[bn]=কিউ-সিন্থ
 Name[sv]=Qsynth
 Name[ta]=வரிசை தொகுப்பு
-Name[xx]=xxQSynthxx
 GenericName=Control for FluidSynth
 GenericName[bg]=Контрол на FluidSynth
 GenericName[bs]=Kontrola za FluidSynth
@@ -44,7 +43,6 @@
 GenericName[tg]=Идора барои FluidSynth
 GenericName[tr]=FluidSynth için Kontrol
 GenericName[uk]=Керування для FluidSynth
-GenericName[xx]=xxControl for FluidSynthxx
 GenericName[zh_CN]=FluidSynth 的控制
 Type=Application
 Categories=Qt;Music;AudioVideo;
Index: kappfinder-data/rezound.desktop
===================================================================
--- kappfinder-data/rezound.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/rezound.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=reZound
 Name[sv]=Rezound
 Name[ta]=ரிசவுண்டு
-Name[xx]=xxreZoundxx
 GenericName=Audio Editor
 GenericName[bg]=Аудио редактор
 GenericName[bn]=অডিও সম্পাদক
@@ -29,6 +28,7 @@
 GenericName[is]=Hljóðritill
 GenericName[it]=Editor audio
 GenericName[ja]=オーディオエディタ
+GenericName[lt]=Audio rengyklė
 GenericName[mk]=Уредник на звук
 GenericName[nb]=Lydredigerer
 GenericName[nl]=Audio-editor
@@ -50,7 +50,6 @@
 GenericName[tr]=Ses Düzenleyicisi
 GenericName[uk]=Аудіо редактор
 GenericName[uz]=Аудио таҳрирчи
-GenericName[xx]=xxAudio Editorxx
 GenericName[zh_CN]=音频编辑器
 StartupNotify=true
 Type=Application
Index: kappfinder-data/ecamegapedal.desktop
===================================================================
--- kappfinder-data/ecamegapedal.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/ecamegapedal.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=EcaMegaPedal
 Name[sv]=Ecamegapedal
 Name[ta]=எகாமெகாபெடல்
-Name[xx]=xxEcaMegaPedalxx
 GenericName=Ecasound Effektrack
 GenericName[cs]=Ecasound effektrack
 GenericName[et]=Ecasound efektiräkk
@@ -18,7 +17,6 @@
 GenericName[sr@Latn]=Ecasound traka sa efektima
 GenericName[sv]=Ecasound-effektspår
 GenericName[ta]=எகாஒலி எபெஸ்பாதை
-GenericName[xx]=xxEcasound Effektrackxx
 StartupNotify=true
 Type=Application
 Categories=Music;AudioVideo;
Index: kappfinder-data/meterbridge.desktop
===================================================================
--- kappfinder-data/meterbridge.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/meterbridge.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -41,13 +41,11 @@
 GenericName[tg]=Маҷрои Дучанди VU-Meter
 GenericName[tr]=İki Kanallı Ses Göstergesi
 GenericName[uk]=Двоканальний VU-лічильник
-GenericName[xx]=xxDual Channel VU-Meterxx
 GenericName[zh_CN]=双声道 VU 衡量器
 Name=Meterbridge
 Name[bn]=মিটার-ব্রিজ
 Name[nl]=Meterbrug
 Name[ta]=மீட்டர்பிரிட்ஜ்
-Name[xx]=xxMeterbridgexx
 X-KDE-StartupNotify=false
 X-DCOP-ServiceType=Multi
 Categories=Music;AudioVideo;
Index: kappfinder-data/freqtweak.desktop
===================================================================
--- kappfinder-data/freqtweak.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/freqtweak.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=FreqTweak
 Name[sv]=Freqtweak
 Name[ta]=பர்க்டீவீக்
-Name[xx]=xxFreqTweakxx
 GenericName=Effects for Jack
 GenericName[bg]=Визуални ефекти за Jack
 GenericName[bs]=Efekti za Jack
@@ -43,7 +42,6 @@
 GenericName[tg]=Натиҷаҳо барои Jack
 GenericName[tr]=Jack için Efektler
 GenericName[uk]=Ефекти для Jack
-GenericName[xx]=xxEffects for Jackxx
 GenericName[zh_CN]=Jack 的效果
 StartupNotify=true
 Type=Application
Index: kappfinder-data/ardour.desktop
===================================================================
--- kappfinder-data/ardour.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/ardour.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -4,7 +4,6 @@
 Icon=
 Name=Ardour
 Name[ta]=ஆர்டோர்
-Name[xx]=xxArdourxx
 GenericName=Multitrack Audio Studio
 GenericName[bg]=Аудио студио
 GenericName[ca]=Estudi d'àudio multipista
@@ -41,7 +40,6 @@
 GenericName[tg]=Студияи Садоии Бисёршиора
 GenericName[tr]=Multitrack Sers Stüdyosu
 GenericName[uk]=Аудіостудія з багатьма доріжками
-GenericName[xx]=xxMultitrack Audio Studioxx
 GenericName[zh_CN]=多音轨音频工作室
 StartupNotify=true
 Type=Application
Index: kappfinder-data/qjackctl.desktop
===================================================================
--- kappfinder-data/qjackctl.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/qjackctl.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=QJackCtl
 Name[sv]=Qjackctl
 Name[ta]=வரிசை ஜாக் கட்டுப்பாடு
-Name[xx]=xxQJackCtlxx
 GenericName=Control for Jack
 GenericName[bg]=Управление на Jack
 GenericName[bs]=Kontrola za Jack
@@ -44,7 +43,6 @@
 GenericName[tg]=Идора барои Jack
 GenericName[tr]=Jack için Kontrol
 GenericName[uk]=Керування для Jack
-GenericName[xx]=xxControl for Jackxx
 GenericName[zh_CN]=Jack 的控制
 Type=Application
 Categories=Qt;Music;AudioVideo;
Index: kappfinder-data/jamin.desktop
===================================================================
--- kappfinder-data/jamin.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/jamin.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=Jamin
 Name[bn]=জ্যামিন
 Name[ta]=ஜாமின்
-Name[xx]=xxJaminxx
 GenericName=Jack Mastering Tool
 GenericName[bg]=Управление на Jack
 GenericName[ca]=Eina de codificació Jack
@@ -13,6 +12,7 @@
 GenericName[cy]=Erfyn meistroli Jack
 GenericName[da]=Jack master-værktøj
 GenericName[de]=Werkzeug zur Audio-Endbearbeitung
+GenericName[el]=Εργαλείο εγγραφής Jack
 GenericName[es]=Herramienta de masterización de JACK
 GenericName[et]=Jacki masterdamise rakendus
 GenericName[eu]=Jack erabiltzeko tresna
@@ -36,7 +36,6 @@
 GenericName[sv]=Jack-inspelningsverktyg
 GenericName[tr]=Jack Yönetim Aracı 
 GenericName[uk]=Засіб керування Jack
-GenericName[xx]=xxJack Mastering Toolxx
 GenericName[zh_CN]=Jack 管理工具
 StartupNotify=true
 Type=Application
Index: kappfinder-data/zynaddsubfx.desktop
===================================================================
--- kappfinder-data/zynaddsubfx.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/zynaddsubfx.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -5,7 +5,6 @@
 Name=ZynaddsubFX
 Name[sv]=Zynaddsubfx
 Name[ta]=சயண்டன்சப்பெஸ்
-Name[xx]=xxZynaddsubFXxx
 GenericName=Soft Synth
 GenericName[bg]=Софтуерен синтезатор
 GenericName[bs]=Softverski sintisajzer
@@ -36,7 +35,6 @@
 GenericName[ta]=மென்மையான சிந்த்
 GenericName[tr]=Yumuşak Sentez
 GenericName[uk]=Програмний синтезатор
-GenericName[xx]=xxSoft Synthxx
 GenericName[zh_CN]=软波表
 StartupNotify=false
 Type=Application
Index: kappfinder-data/kde-multimedia-music.directory
===================================================================
--- kappfinder-data/kde-multimedia-music.directory	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kappfinder-data/kde-multimedia-music.directory	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -14,6 +14,8 @@
 Name[hu]=Zene
 Name[is]=Tónlist
 Name[it]=Musica
+Name[ja]=音楽
+Name[lt]=Muzika
 Name[nb]=Musikk
 Name[nl]=Muziek
 Name[nn]=Musikk
@@ -27,7 +29,6 @@
 Name[sv]=Musik
 Name[tr]=Muzik
 Name[uk]=Музика
-Name[xx]=xxMusicxx
 Name[zh_CN]=音乐
 GenericName=Professional Audio
 GenericName[bg]=Професионално аудио
@@ -44,6 +45,8 @@
 GenericName[hu]=Professzinonális minőségű hanganyag
 GenericName[is]=Atvinnumannahljóð
 GenericName[it]=Audio professionale
+GenericName[ja]=プロフェッショナルオーディオ
+GenericName[lt]=Profesionalus audio
 GenericName[nb]=Profesjonell lyd
 GenericName[nl]=Professionele audio
 GenericName[nn]=Profesjonell lydhandsaming
@@ -57,7 +60,6 @@
 GenericName[sr@Latn]=Profesionalni zvuk
 GenericName[sv]=Professionellt ljud
 GenericName[uk]=Професійне аудіо
-GenericName[xx]=xxProfessional Audioxx
 GenericName[zh_CN]=专业音频
 Icon=package
 
Index: kaudiocreator/audiocd_extract.desktop
===================================================================
--- kaudiocreator/audiocd_extract.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaudiocreator/audiocd_extract.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -13,13 +13,16 @@
 Name[el]=Εξαγωγή και κωδικοποίηση Κομματιών ήχου
 Name[es]=Extrae y codifica pistas de audio
 Name[et]=Ekstrakti ja kodeeri audiorajad
+Name[eu]=Erauzi eta kodetu audio pistak
 Name[fr]=Extrait et encode des pistes audio
 Name[he]=הוצאה וקידוד רצועות שמע
 Name[hu]=Hangsávok kinyerése és tömörítése
 Name[is]=Afrita og kóða hljóðspor
 Name[it]=Estrai e comprimi le tracce audio
+Name[ja]=オーディオトラックを取りだしエンコード
+Name[lt]=Nuskaityti ir įkoduoti audio takelius
 Name[nb]=Pakk ut og dekod lydfiler
-Name[nl]=Ript en codeert audiogracks
+Name[nl]=Audio-tracks rippen en coderen
 Name[pa]=ਆਡੀਓ ਟਰੈਕ ਖੋਲੋ ਅਤੇ ਇੰਕੋਡ
 Name[pl]=Odzyskaj i przekoduj ścieżki audio
 Name[pt]=Extracção e Codificação de Faixas de Áudio
@@ -29,7 +32,6 @@
 Name[sr@Latn]=Izdvaja i kodira audio staze
 Name[sv]=Hämta och koda ljudspår
 Name[uk]=Витягає і кодує звукові доріжки
-Name[xx]=xxExtract and Encode Audio Tracksxx
 Name[zh_CN]=提取并编码音轨
 Exec=kaudiocreator %u
 Icon=kaudiocreator
Index: kaudiocreator/tracksimp.cpp
===================================================================
--- kaudiocreator/tracksimp.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaudiocreator/tracksimp.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -243,24 +243,15 @@
 		CDInfoList cddb_info = cddb->lookupResponse();
 		CDInfoList::iterator it;
 		QStringList list;
-		uint defaultChoice = 0;
-		uint maxrev = 0;
-		uint c = 0;
 		for ( it = cddb_info.begin(); it != cddb_info.end(); ++it  ) {
 			list.append( QString("%1, %2, %3").arg((*it).artist).arg((*it).title)
 			  .arg((*it).genre));
-			KCDDB::CDInfo cinfo = *it;
-			if ( ( *it ).revision >= maxrev ) {
-				maxrev = info.revision;
-				defaultChoice = c;
-			}
-			c++;
 		}
 
 		bool ok(false); 
 		QString res = KInputDialog::getItem(
 						i18n("Select CDDB entry"),
-						i18n("Select a CDDB entry:"), list, defaultChoice, false, &ok,
+						i18n("Select a CDDB entry:"), list, 0, false, &ok,
 						this );
 		if ( ok ) {
 			// The user selected and item and pressed OK
@@ -470,14 +461,27 @@
 	emit(hasTracks(false));
 
 	KCDDB::TrackInfoList t = cddbInfo.trackInfoList;
+
+	bool isSampler = true;
 	for (unsigned i = 0; i < t.count(); i++)
 	{
+	    if (t[i].title.find(" / ") == -1)
+	    {
+		isSampler = false;
+		break;
+	    }
+	}
+
+	for (unsigned i = 0; i < t.count(); i++)
+	{
 		QString trackArtist;
 		QString title;
-		
-		// Support for multiple artists stripping.
-		int delimiter = t[i].title.find(" / ");
-		if (delimiter != -1) {
+
+		if (isSampler)
+		{
+			// Support for multiple artists stripping.
+			int delimiter = t[i].title.find(" / ");
+			Q_ASSERT(delimiter != -1);
 			trackArtist = t[i].title.left(delimiter);
 			title = t[i].title.mid(delimiter + 3);
 		}
Index: kaudiocreator/eventsrc
===================================================================
--- kaudiocreator/eventsrc	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaudiocreator/eventsrc	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -7,7 +7,6 @@
 Comment[pa]=ਕੇ-ਆਡੀਓ-ਨਿਰਮਾਤਾ
 Comment[sv]=Kaudiocreator
 Comment[tg]=KОфарандаи Садо
-Comment[xx]=xxKAudioCreatorxx
 
 [no jobs left]
 Name=All jobs finished
@@ -19,11 +18,14 @@
 Name[el]=Όλες οι εργασίες ολοκληρώθηκαν
 Name[es]=Todos los trabajos finalizados
 Name[et]=Kõik tööd lõpetatud
+Name[eu]=Lan guztiak amaituta
 Name[fr]=Toutes les tâches sont terminées
 Name[he]=כל העבודות הסתיימו
 Name[hu]=Az összes feladat befejeződött
 Name[is]=Öllum verkum lokið
 Name[it]=Tutti i processi sono terminati
+Name[ja]=全ジョブ完了
+Name[lt]=Visi darbai užbaigti
 Name[nb]=Alle jobbene er utført
 Name[nl]=Alle taken voltooid
 Name[pa]=ਸਭ ਕੰਮ ਖਤਮ
@@ -35,7 +37,6 @@
 Name[sr@Latn]=Svi poslovi završeni
 Name[sv]=Alla jobb är klara
 Name[uk]=Всі задачі виконано
-Name[xx]=xxAll jobs finishedxx
 Name[zh_CN]=全部任务都已完成
 Comment=All of the jobs in the queue have been finished
 Comment[bg]=Всички задачи в опашката завършиха
@@ -46,11 +47,14 @@
 Comment[el]=Όλες οι εργασίες της ουράς ολοκληρώθηκαν
 Comment[es]=Se han terminado todos los trabajos de la cola
 Comment[et]=Kõik järjekorras olnud tööd on lõpetatud
+Comment[eu]=Ilarako lan guztiak amaitu dira
 Comment[fr]=Toutes les tâches dans la file d'attente sont terminées
 Comment[he]=כל העבודות בתור הסתיימו
 Comment[hu]=A sorban várakozó feladatok befejeződtek
 Comment[is]=Öllum verkum í biðröð hefur verið lokið
 Comment[it]=Tutti i processi in coda sono terminati
+Comment[ja]=キューにある全ジョブが終了
+Comment[lt]=Visi eilėje buvę darbai užbaigti
 Comment[nb]=Alle jobbene i køen er utført
 Comment[nl]=Alle taken in de wachtrij zijn voltooid
 Comment[pa]=ਕਤਾਰ ਵਿੱਚ ਸਭ ਕੰਮਾਂ ਨੂੰ ਖਤਮ ਕਰ ਦਿੱਤਾ ਗਿਆ ਹੈ
@@ -62,7 +66,6 @@
 Comment[sr@Latn]=Svi poslovi iz redosleda su završeni
 Comment[sv]=Alla jobb i kön är klara
 Comment[uk]=Закінчено всі задачі в черзі
-Comment[xx]=xxAll of the jobs in the queue have been finishedxx
 Comment[zh_CN]=队列中的全部任务都已完成
 
 [track ripped]
@@ -85,6 +88,7 @@
 Name[is]=Lag afritað
 Name[it]=Track compressa
 Name[ja]=トラックリッピング
+Name[lt]=Takelio nuskaitymas baigtas
 Name[mk]=Спуштена песна
 Name[nb]=Spor innlest
 Name[nl]=Track geript
@@ -102,7 +106,6 @@
 Name[tg]=Шиор Канда шудааст
 Name[tr]=Parça Dönüştürüldü
 Name[uk]=Витягнута доріжка
-Name[xx]=xxTrack Rippedxx
 Name[zh_CN]=音轨已抓取
 Comment=Track finished ripping
 Comment[bg]=Завършване на запис на пътечка
@@ -124,6 +127,7 @@
 Comment[is]=Afritun lags lauk
 Comment[it]=Estrazione traccia terminata
 Comment[ja]=トラックのリッピングが終了しました
+Comment[lt]=Takelio nuskaitymas baigtas
 Comment[mk]=Крај на спуштањето на песната
 Comment[nb]=Spor ferdig innlest
 Comment[nl]=Klaar met rippen van track
@@ -140,7 +144,6 @@
 Comment[ta]=தடம் பிரித்தலை முடித்தது
 Comment[tr]=Parçanın dönüştürülmesi tamamlandı
 Comment[uk]=Витягування доріжки закінчено
-Comment[xx]=xxTrack finished rippingxx
 Comment[zh_CN]=音轨抓取完成
 
 [cd ripped]
@@ -164,6 +167,7 @@
 Name[is]=Diskur afritaður
 Name[it]=CD estratto
 Name[ja]=CD リッパー
+Name[lt]=CD nuskaitytas
 Name[mk]=CD-то е спуштено 
 Name[nb]=CD innlest
 Name[nl]=CD geript
@@ -183,7 +187,6 @@
 Name[tr]=CD Dönüştürüldü
 Name[uk]=Витягнутий музичний КД
 Name[uz]=Компакт-диск риппер
-Name[xx]=xxCD Rippedxx
 Name[zh_CN]=CD 已抓取
 Comment=CD finished ripping
 Comment[bg]=Завършване на запис на аудио диск
@@ -205,6 +208,7 @@
 Comment[is]=Afritun disks lauk
 Comment[it]=Estrazione CD terminata
 Comment[ja]=CDのリッピングが終了しました
+Comment[lt]=CD nuskaitymas baigtas
 Comment[mk]=Крај на спуштањето на CD
 Comment[nb]=CD ferdig innlest
 Comment[nl]=Klaar met rippen van cd
@@ -222,7 +226,6 @@
 Comment[ta]=CD பிரித்தல் முடிந்தது
 Comment[tr]=CD'nin dönüştürülmesi tamamlandı
 Comment[uk]=Видирання КД завершено
-Comment[xx]=xxCD finished rippingxx
 Comment[zh_CN]=CD 抓取完成
 
 [track encoded]
@@ -246,6 +249,7 @@
 Name[is]=Lag kóðað
 Name[it]=Traccia codificata
 Name[ja]=トラックエンコード
+Name[lt]=Takelis įkoduotas
 Name[mk]=Кодирање на песната
 Name[nb]=Spor koda
 Name[nl]=Track gecodeerd
@@ -265,7 +269,6 @@
 Name[tg]=Шиор Рамзӣ кунонида шудааст
 Name[tr]=Parça Dönüştürücü
 Name[uk]=Закодована доріжка
-Name[xx]=xxTrack Encodedxx
 Name[zh_CN]=音轨已编码
 Comment=Track finished encoding
 Comment[bg]=Завършване на кодиране на пътечка
@@ -287,6 +290,7 @@
 Comment[is]=Kóðun lags lauk
 Comment[it]=Codifica traccia terminata
 Comment[ja]=トラックのエンコードが終了しました
+Comment[lt]=Takelio įkodavimas baigtas
 Comment[mk]=Заврши кодирањето на песната
 Comment[nb]=Spor ferdig koda
 Comment[nl]=Klaar met coderen van track
@@ -304,7 +308,6 @@
 Comment[ta]=தடம் மறையாக்கத்தை முடித்தது
 Comment[tr]=Parça kodlama bitirildi
 Comment[uk]=Кодування доріжки закінчене
-Comment[xx]=xxTrack finished encodingxx
 Comment[zh_CN]=音轨编码完成
 
 [cd encoded]
@@ -328,6 +331,7 @@
 Name[is]=Diskur kóðaður
 Name[it]=CD codificato
 Name[ja]=CDエンコード
+Name[lt]=CD įkoduotas
 Name[mk]=Кодирано CD
 Name[nb]=CD koda
 Name[nl]=CD gecodeerd
@@ -347,7 +351,6 @@
 Name[tg]=Диски Фишурда Рамзӣ кунонида шудааст
 Name[tr]=CD Dönüştürücü
 Name[uk]=Закодовано КД
-Name[xx]=xxCD Encodedxx
 Name[zh_CN]=CD 已编码
 Comment=CD finished encoding
 Comment[bg]=Завършване на кодиране на аудио диск
@@ -369,6 +372,7 @@
 Comment[is]=Kóðun disks lauk
 Comment[it]=Codifica CD terminata
 Comment[ja]=CDのエンコードが終了しました
+Comment[lt]=CD įkodavimas baigtas
 Comment[mk]=Заврши кодирањето на CD-то
 Comment[nb]=CD ferdig koda
 Comment[nl]=Klaar met coderen van cd
@@ -386,7 +390,6 @@
 Comment[ta]=CD மறையாக்கத்தை முடித்தது.
 Comment[tr]=CD çözümleyici sonlandırıldı
 Comment[uk]=Кодування КД закінчено
-Comment[xx]=xxCD finished encodingxx
 Comment[zh_CN]=CD 编码完成
 default_presentation=17
 default_sound=KDE_ClockChime.wav
Index: kaudiocreator/kaudiocreator.desktop
===================================================================
--- kaudiocreator/kaudiocreator.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kaudiocreator/kaudiocreator.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -10,6 +10,7 @@
 Comment[cy]=Blaen i greu ffeiliau sain
 Comment[da]=Grænseflade til at lave lydfiler
 Comment[de]=Oberfläche zur Erstellung von Audio-Dateien
+Comment[el]=Σύστημα υποστήριξης χρήστη για δημιουργία αρχείου ήχου
 Comment[eo]=Fasado por kreado de sonordosieroj
 Comment[es]=Un interfaz para la creación de archivos audio
 Comment[et]=Rippimisprogrammide kasutajaliides
@@ -48,7 +49,6 @@
 Comment[tr]=Ses dosyası oluşturmak için bir önyüz
 Comment[uk]=Зовнішній інтерфейс створення аудіо-файлів
 Comment[ven]=Zwo vhewa phanda uitela nyito ya faela ya zwipfiwa
-Comment[xx]=xxFrontend for audio file creationxx
 Comment[zh_CN]=音频文件创建前端
 Comment[zh_TW]=製作聲音檔案的前端
 Comment[zu]=Isiqalo sesiphelo sokuzwakalayo kwefayela lokludala
@@ -64,7 +64,6 @@
 Name[ta]=கேஒலிஉருவாக்கி
 Name[tg]=KОфарандаи Садо
 Name[ven]=MuitiwazwamibvumoyaK
-Name[xx]=xxKAudioCreatorxx
 GenericName=CD Ripper
 GenericName[bg]=Кодиране на аудио дискове
 GenericName[bn]=সিডি রিপার
@@ -104,7 +103,6 @@
 GenericName[tr]=CD Aktarıcı
 GenericName[uk]=Видирання з КД
 GenericName[uz]=Компакт-диск риппер
-GenericName[xx]=xxCD Ripperxx
 GenericName[zh_CN]=CD 提取器
 MimeType=
 Exec=kaudiocreator
Index: kmix/mdwslider.h
===================================================================
--- kmix/mdwslider.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/mdwslider.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -27,6 +27,7 @@
 
 #include <qvaluelist.h>
 #include <qwidget.h>
+#include <qlabel.h>
 #include <qptrlist.h>
 #include <qpixmap.h>
 #include <qrangecontrol.h>
@@ -72,6 +73,7 @@
     void setLabeled( bool value );
     void setTicks( bool ticks );
     void setIcons( bool value );
+    void setValueStyle( ValueStyle valueStyle );
     void setColors( QColor high, QColor low, QColor back );
     void setMutedColors( QColor high, QColor low, QColor back );
     QSize sizeHint() const;
@@ -108,8 +110,10 @@
     QPixmap icon( int icontype );
     void setIcon( int icontype );
     void createWidgets( bool showMuteLED, bool showRecordLED );
+    void updateValue( QLabel *value, Volume::ChannelID chid );
 
     bool m_linked;
+    ValueStyle m_valueStyle;
     QLabel *m_iconLabel;
     KLedButton *m_muteLED;
     KLedButton *m_recordLED;
@@ -117,6 +121,8 @@
     QBoxLayout *_layout;
     QPtrList<QWidget> m_sliders;
     QValueList<Volume::ChannelID> _slidersChids;
+    QPtrList<QLabel> _numbers;
+  //    QValueList<Volume::ChannelID> _numbersChids;
 };
 
 #endif
Index: kmix/kmixerwidget.h
===================================================================
--- kmix/kmixerwidget.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixerwidget.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -83,6 +83,7 @@
    void setTicks( bool on );
    void setLabels( bool on );
    void setIcons( bool on );
+   void setValueStyle( int vs );
    void toggleMenuBarSlot();
 
    void saveConfig( KConfig *config, const QString &grp );
@@ -107,6 +108,7 @@
    bool _iconsEnabled;
    bool _labelsEnabled;
    bool _ticksEnabled;
+   int _valueStyle;
    MixDevice::DeviceCategory m_categoryMask;
 
    void createLayout(ViewBase::ViewFlags vflags);
Index: kmix/volume.h
===================================================================
--- kmix/volume.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/volume.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -27,8 +27,7 @@
                   CUSTOM1  = 8, CUSTOM2   = 9, CHIDMAX  = 9 };
 
 
-  Volume( ChannelMask chmask = MALL, long maxVolume = 100, long minVolume=0 );
-  Volume( ChannelMask chmask, long maxVolume, long minVolume, long maxVolumeRec, long minVolumeRec );
+  Volume( ChannelMask chmask = MALL, long maxVolume = 100, long minVolume=0, bool isCapture=false );
   Volume( const Volume &v );
   Volume( int channels, long maxVolume );
 
@@ -52,6 +51,7 @@
 
   void setMuted( bool val ) { _muted = val; };
   bool isMuted()      { return _muted; };
+  bool isCapture() { return _isCapture; };
 
   friend std::ostream& operator<<(std::ostream& os, const Volume& vol);
   friend kdbgstream& operator<<(kdbgstream& os, const Volume& vol);
@@ -60,15 +60,14 @@
     // access it, when private. Strange, as operator<<() is declared friend.
   static int _channelMaskEnum[10];
   bool          _muted;
+  bool          _isCapture; // true, when the Volume represents capture/record levels
   long          _chmask;
   long          _volumes[CHIDMAX+1];
   long          _maxVolume;
   long          _minVolume;
-  long          _maxVolumeRec;
-  long          _minVolumeRec;
 
 private:
-  void init( ChannelMask chmask, long, long, long, long );
+  void init( ChannelMask chmask, long, long, bool );
 
   long volrange( int vol );
   long volrangeRec( int vol );
Index: kmix/kmixprefdlg.h
===================================================================
--- kmix/kmixprefdlg.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixprefdlg.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -59,6 +59,9 @@
    QCheckBox *m_onLogin;
    QRadioButton *_rbVertical;
    QRadioButton *_rbHorizontal;
+   QRadioButton *_rbNone;
+   QRadioButton *_rbAbsolute;
+   QRadioButton *_rbRelative;
 };
 
 #endif
Index: kmix/mixdevicewidget.h
===================================================================
--- kmix/mixdevicewidget.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/mixdevicewidget.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -56,6 +56,8 @@
       Q_OBJECT
 
 public:
+    enum ValueStyle { NNONE = 0, NABSOLUTE = 1, NRELATIVE = 2 } ;
+
       MixDeviceWidget( Mixer *mixer, MixDevice* md,
                        bool small, Qt::Orientation orientation,
                        QWidget* parent = 0, ViewBase* mw = 0, const char* name = 0);
@@ -75,6 +77,7 @@
     virtual void setStereoLinked( bool ) {};
     virtual void setLabeled( bool );
     virtual void setTicks( bool ) {};
+    virtual void setValueStyle( ValueStyle ) {};
 
     virtual KGlobalAccel *keys(void);
 
Index: kmix/kmixerwidget.cpp
===================================================================
--- kmix/kmixerwidget.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixerwidget.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -61,7 +61,9 @@
    : QWidget( parent, name ), _mixer(mixer), m_balanceSlider(0),
      m_topLayout(0),
      m_id( _id ),
-     _iconsEnabled( true ), _labelsEnabled( false ), _ticksEnabled( false )
+     _iconsEnabled( true ), _labelsEnabled( false ), _ticksEnabled( false ),
+     _valueStyle ( -1 ) // this definitely does not correspond to the 'default value display' style,
+			// so the style will be set by a later call to setValueStyle()
 
 {
     m_categoryMask = categoryMask;
@@ -201,7 +203,19 @@
     }
 }
 
+void KMixerWidget::setValueStyle( int vs )
+{
+    if ( _valueStyle!=vs ) {
+		// value was changed
+		_valueStyle = vs;
+		for ( std::vector<ViewBase*>::iterator it = _views.begin(); it != _views.end();  it++) {
+			ViewBase* mixerWidget = *it;
+		    KMixToolBox::setValueStyle(mixerWidget->_mdws, vs);
+		} // for all tabs
+    }
+}
 
+
 /**
  *  @todo : Is the view list already filled, when loadConfig() is called?
  */
Index: kmix/volume.cpp
===================================================================
--- kmix/volume.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/volume.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -34,27 +34,22 @@
       MCUSTOM1, MCUSTOM2
     };
 
-Volume::Volume( ChannelMask chmask, long maxVolume, long minVolume )
+Volume::Volume( ChannelMask chmask, long maxVolume, long minVolume, bool isCapture  )
 {
-  init(chmask, maxVolume, minVolume, maxVolume, minVolume);
+  init(chmask, maxVolume, minVolume, isCapture);
 }
 
 
-Volume::Volume( ChannelMask chmask, long maxVolume, long minVolume, long maxVolumeRec, long minVolumeRec )
-{
-  init(chmask, maxVolume, minVolume, maxVolumeRec, minVolumeRec);
-}
-
 // @ compatiblity constructor
 Volume::Volume( int channels, long maxVolume ) {
    if (channels == 1 ) {
-       init(Volume::MLEFT, maxVolume, 0, maxVolume, 0);
+       init(Volume::MLEFT, maxVolume, 0, false);
    }
    else if (channels == 2) {
-      init(ChannelMask(Volume::MLEFT|Volume::MRIGHT), maxVolume, 0, maxVolume, 0);
+      init(ChannelMask(Volume::MLEFT|Volume::MRIGHT), maxVolume, 0, false );
    }
    else {
-     init(ChannelMask(Volume::MLEFT|Volume::MRIGHT), maxVolume, 0, maxVolume, 0);
+     init(ChannelMask(Volume::MLEFT|Volume::MRIGHT), maxVolume, 0, false );
      kdError(67100) << "Warning: Multi-channel Volume object created with old constructor - this will not work fully\n";
    }
 }
@@ -64,14 +59,14 @@
     _chmask     = v._chmask;
     _maxVolume  = v._maxVolume;
     _minVolume  = v._minVolume;
-    _maxVolumeRec  = v._maxVolumeRec;
-    _minVolumeRec  = v._minVolumeRec;
     _muted      = v._muted;
+    _isCapture  = v._isCapture;
     setVolume(v, (ChannelMask)v._chmask);
+
     //    kdDebug(67100) << "Volume::copy-constructor initialized " << v << "\n";
 }
 
-void Volume::init( ChannelMask chmask, long maxVolume, long minVolume, long maxVolumeRec, long minVolumeRec )
+void Volume::init( ChannelMask chmask, long maxVolume, long minVolume, bool isCapture )
 {
     for ( int i=0; i<= Volume::CHIDMAX; i++ ) {
 	_volumes[i] = 0;
@@ -79,8 +74,7 @@
     _chmask     = chmask;
     _maxVolume  = maxVolume;
     _minVolume  = minVolume;
-    _maxVolumeRec  = maxVolumeRec;
-    _minVolumeRec  = minVolumeRec;
+    _isCapture = isCapture;
     _muted      = false;
 }
 
Index: kmix/kmix.cpp
===================================================================
--- kmix/kmix.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmix.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -258,6 +258,13 @@
       config->writeEntry( "MasterMixerDevice", mdMaster->getPK() );
    }
 
+   if ( m_valueStyle == MixDeviceWidget::NABSOLUTE )
+      config->writeEntry( "ValueStyle", "Absolute");
+   else if ( m_valueStyle == MixDeviceWidget::NRELATIVE )
+      config->writeEntry( "ValueStyle", "Relative");
+   else 
+     config->writeEntry( "ValueStyle", "None" );
+
    if ( m_toplevelOrientation  == Qt::Vertical )
       config->writeEntry( "Orientation","Vertical" );
    else
@@ -286,6 +293,7 @@
    m_hideOnClose = config->readBoolEntry("HideOnClose", true);
    m_showTicks = config->readBoolEntry("Tickmarks", true);
    m_showLabels = config->readBoolEntry("Labels", true);
+   const QString& valueStyleString = config->readEntry("ValueStyle", "None");
    m_onLogin = config->readBoolEntry("startkdeRestore", true );
    m_startVisible = config->readBoolEntry("Visible", true);
    m_multiDriverMode = config->readBoolEntry("MultiDriver", false);
@@ -297,6 +305,12 @@
    QString masterDev = config->readEntry( "MasterMixerDevice", "" );
    Mixer::setMasterCardDevice(masterDev);
 
+   if ( valueStyleString == "Absolute" )
+       m_valueStyle = MixDeviceWidget::NABSOLUTE;
+   else if ( valueStyleString == "Relative" )
+       m_valueStyle = MixDeviceWidget::NRELATIVE;
+   else 
+       m_valueStyle = MixDeviceWidget::NNONE;
 
    if ( orientationString == "Vertical" )
        m_toplevelOrientation  = Qt::Vertical;
@@ -368,6 +382,7 @@
 
 		mw->setTicks( m_showTicks );
 		mw->setLabels( m_showLabels );
+		mw->setValueStyle ( m_valueStyle );
 		// !! I am still not sure whether this works 100% reliably - chris
 		mw->show();
 	}
@@ -412,6 +427,9 @@
       m_prefDlg->m_onLogin->setChecked( m_onLogin );
       m_prefDlg->_rbVertical  ->setChecked( m_toplevelOrientation == Qt::Vertical );
       m_prefDlg->_rbHorizontal->setChecked( m_toplevelOrientation == Qt::Horizontal );
+      m_prefDlg->_rbNone->setChecked( m_valueStyle == MixDeviceWidget::NNONE );
+      m_prefDlg->_rbAbsolute->setChecked( m_valueStyle == MixDeviceWidget::NABSOLUTE );
+      m_prefDlg->_rbRelative->setChecked( m_valueStyle == MixDeviceWidget::NRELATIVE );
 
       m_prefDlg->show();
    }
@@ -475,6 +493,14 @@
    m_showLabels = prefDlg->m_showLabels->isChecked();
    m_onLogin = prefDlg->m_onLogin->isChecked();
 
+   if ( prefDlg->_rbNone->isChecked() ) {
+     m_valueStyle = MixDeviceWidget::NNONE;
+   } else if ( prefDlg->_rbAbsolute->isChecked() ) {
+     m_valueStyle = MixDeviceWidget::NABSOLUTE;
+   } else if ( prefDlg->_rbRelative->isChecked() ) {
+     m_valueStyle = MixDeviceWidget::NRELATIVE;
+   }
+
    bool toplevelOrientationHasChanged =
         ( prefDlg->_rbVertical->isChecked()   && m_toplevelOrientation == Qt::Horizontal )
      || ( prefDlg->_rbHorizontal->isChecked() && m_toplevelOrientation == Qt::Vertical   );
@@ -500,6 +526,7 @@
    {
       mw->setTicks( m_showTicks );
       mw->setLabels( m_showLabels );
+      mw->setValueStyle ( m_valueStyle );
       mw->mixer()->readSetFromHWforceUpdate(); // needed, as updateDocking() has reconstructed the DockWidget
    }
 
Index: kmix/kmixapplet.cpp
===================================================================
--- kmix/kmixapplet.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixapplet.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -273,9 +273,9 @@
     _colors.low = cfg->readColorEntry("ColorLow", &lowColor);
     _colors.back = cfg->readColorEntry("ColorBack", &backColor);
 
-    _colors.mutedHigh = cfg->readColorEntry("MutedColorHigh", &mutedHighColor);
-    _colors.mutedLow = cfg->readColorEntry("MutedColorLow", &mutedLowColor);
-    _colors.mutedBack = cfg->readColorEntry("MutedColorBack", &mutedBackColor);
+    _colors.mutedHigh = cfg->readColorEntry("ColorMutedHigh", &mutedHighColor);
+    _colors.mutedLow = cfg->readColorEntry("ColorMutedLow", &mutedLowColor);
+    _colors.mutedBack = cfg->readColorEntry("ColorMutedBack", &mutedBackColor);
 
     loadConfig( cfg, "Widget");
 }
Index: kmix/kmixtoolbox.h
===================================================================
--- kmix/kmixtoolbox.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixtoolbox.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -19,6 +19,7 @@
     static void setIcons  (QPtrList<QWidget> &mdws, bool on );
     static void setLabels (QPtrList<QWidget> &mdws, bool on );
     static void setTicks  (QPtrList<QWidget> &mdws, bool on );
+    static void setValueStyle  (QPtrList<QWidget> &mdws, int vs );
     static void loadConfig(QPtrList<QWidget> &mdws, KConfig *config, const QString &grp, const QString &viewPrefix  );
     static void saveConfig(QPtrList<QWidget> &mdws, KConfig *config, const QString &grp, const QString &viewPrefix  );
 };
Index: kmix/viewdockareapopup.cpp
===================================================================
--- kmix/viewdockareapopup.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/viewdockareapopup.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -63,7 +63,7 @@
 
 
 
-void ViewDockAreaPopup::mousePressEvent(QMouseEvent *me)
+void ViewDockAreaPopup::mousePressEvent(QMouseEvent *)
 {
 //	kdDebug() << "Teste pres mouse" << endl;
     /**
Index: kmix/kmix.desktop
===================================================================
--- kmix/kmix.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmix.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -62,7 +62,6 @@
 GenericName[ven]=Tshitanganisi tsha mubvumo
 GenericName[wa]=Maxheu d' sons
 GenericName[xh]=Umxubi WokuvakalayoU
-GenericName[xx]=xxSound Mixerxx
 GenericName[zh_CN]=混音器
 GenericName[zh_TW]=音效混音器
 GenericName[zu]=Umxubi Womsindo
@@ -77,7 +76,6 @@
 Name[ta]=கேமிக்ஸ்
 Name[tg]=KОмезиш
 Name[ven]=U tanganisa ha K
-Name[xx]=xxKMixxx
 X-KDE-StartupNotify=true
 X-DCOP-ServiceType=Unique
 Categories=Qt;KDE;AudioVideo;AudioMixer;
Index: kmix/kmixapplet.desktop
===================================================================
--- kmix/kmixapplet.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixapplet.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -45,7 +45,6 @@
 Name[uk]=Аудіомікшер
 Name[uz]=Аудио миксер
 Name[wa]=Maxheu d' sons
-Name[xx]=xxSound Mixerxx
 Name[zh_CN]=混音器
 
 Comment=Volume and sound channel mixer control
@@ -54,13 +53,17 @@
 Comment[cs]=Ovládání hlasitosti a zvukových kanálů
 Comment[da]=Mikserkontrol for lydstyrke og lydkanal
 Comment[de]=Kontrolle der Lautstärke
+Comment[el]=Στοιχείο μείκτη ήχων και έντασης καναλιών
 Comment[es]=Control del volumen y los canales de sonido del mezclador
 Comment[et]=Helitugevuse ja helikanalite seadistamine
+Comment[eu]=Bolumena eta soinu-kanalen nahasketarako kontrola
 Comment[fr]=Contrôle du volume et des canaux de la console de mixage
 Comment[he]=שינוי הגדרות עוצמת קול של כרטיס הקול
 Comment[hu]=Hangerőbeállító és keverő
 Comment[is]=Stjórnun á styrk og hljóðrása blöndun
 Comment[it]=Controllo del volume e del mixer sonoro
+Comment[ja]=ボリュームおよびサウンドチャンネルミキサー制御
+Comment[lt]=Garso lygio ir kanalų mikserio valdymas
 Comment[nb]=Miksekontroll for lydnivået og lydkanalene
 Comment[nl]=Bedieningspaneel voor het regelen van het volume en de geluidskanalen
 Comment[pl]=Sterowanie mikserem dźwięku i kanałów
@@ -71,7 +74,6 @@
 Comment[sr@Latn]=Kontrola jačine i mikseta zvučnih kanala
 Comment[sv]=Volymkontroll och ljudkanalmixer
 Comment[uk]=Керування гучністю і міксером звукових каналів
-Comment[xx]=xxVolume and sound channel mixer controlxx
 Comment[zh_CN]=音量和声道混音器控制
 
 Icon=kmix
Index: kmix/mixer_alsa9.cpp
===================================================================
--- kmix/mixer_alsa9.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/mixer_alsa9.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -203,6 +203,7 @@
 
 	bool canRecord = false;
 	bool canMute = false;
+	bool canCapture = false;
 	long maxVolumePlay= 0, minVolumePlay= 0;
 	long maxVolumeRec = 0, minVolumeRec = 0;
 	validDevice = true;
@@ -224,11 +225,12 @@
 
 		//kdDebug() << "--- Loop: name=" << snd_mixer_selem_id_get_name( sid ) << " , mixerIdx=" << mixerIdx << "------------" << endl;
 
-	    Volume* vol = 0;
+	    Volume* volPlay = 0, *volCapture = 0;
 	    QPtrList<QString> enumList;
 	    if ( snd_mixer_selem_is_enumerated(elem) ) {
 		cc = MixDevice::ENUM;
-		vol = new Volume(); // Dummy, unused
+		volPlay = new Volume(); // Dummy, unused
+		volCapture = new Volume();
 		mixer_elem_list.append( elem );
 		mixer_sid_list.append( sid );
 
@@ -261,21 +263,24 @@
 				? Volume::MLEFT : (Volume::ChannelMask)(Volume::MLEFT | Volume::MRIGHT);
 			chn = (Volume::ChannelMask) (chn | chnTmp);
 			cc = MixDevice::SLIDER;
+			volPlay = new Volume( chn, maxVolumePlay, minVolumePlay );
+		} else {
+			volPlay = new Volume();
 		}
-		else if ( snd_mixer_selem_has_capture_volume(elem) ) {
+		if ( snd_mixer_selem_has_capture_volume(elem) ) {
 			//kdDebug(67100) << "has_capture_volume()" << endl;
 			chnTmp = snd_mixer_selem_is_capture_mono( elem )
 				? Volume::MLEFT : (Volume::ChannelMask)(Volume::MLEFT | Volume::MRIGHT );
 			chn = (Volume::ChannelMask) (chn | chnTmp);
 			cc = MixDevice::SLIDER;
-			// We can have Playback OR Capture. Not both at same time
-			// It's not best coding ever, anyway
-			snd_mixer_selem_get_capture_volume_range( elem, &minVolumePlay, &maxVolumePlay );
+			canCapture = true;
+			volCapture = new Volume( chn, maxVolumeRec, minVolumeRec, true );
+		} else {
+			volCapture = new Volume();
 		}
 
 		/* Create Volume object. If there is no volume on this device,
 		 * it will be created with maxVolume == 0 && minVolume == 0 */
-		vol = new Volume( chn, maxVolumePlay, minVolumePlay, maxVolumeRec, minVolumeRec );
 		mixer_elem_list.append( elem );
 		mixer_sid_list.append( sid );
 
@@ -301,20 +306,35 @@
 		}
 	    } // is ordinary mixer element (NOT an enum)
 
-		MixDevice* md =
-		    new MixDevice( mixerIdx,
-				   *vol,
+		MixDevice* md = new MixDevice( mixerIdx,
+				   *volPlay,
 					canRecord,
 				   canMute,
 				   snd_mixer_selem_id_get_name( sid ),
 				   ct,
 				   cc );
-        if (!masterChosen && ct==MixDevice::VOLUME) {
-           // Determine a nicer MasterVolume
-           m_recommendedMaster = md;
-           masterChosen = true;
-        }
 
+			m_mixDevices.append( md );
+
+
+		if (!masterChosen && ct==MixDevice::VOLUME) {
+		// Determine a nicer MasterVolume
+		m_recommendedMaster = md;
+		masterChosen = true;
+		}
+
+		if ( canCapture && !canRecord ) {
+			MixDevice *mdCapture =
+		    	new MixDevice( mixerIdx,
+				   *volCapture,
+					true,
+				   canMute,
+				   snd_mixer_selem_id_get_name( sid ),
+				   ct,
+				   cc );
+			m_mixDevices.append( mdCapture );
+		}
+
 		if ( enumList.count() > 0 ) {
 		  int maxEnumId= enumList.count();
 		  QPtrList<QString>& enumValuesRef = md->enumValues(); // retrieve a ref
@@ -324,18 +344,24 @@
 		    enumValuesRef.append(enumList.at(i) );
 		  }
 		}
-		m_mixDevices.append( md );
 		//kdDebug(67100) << "ALSA create MDW, vol= " << *vol << endl;
-		delete vol;
+		delete volPlay;
+		delete volCapture;
 	    } // virginOpen
 	    else
 	    {
-		MixDevice* md = m_mixDevices.at( mixerIdx );
-		if( !md )
-		{
-		    return Mixer::ERR_INCOMPATIBLESET;
-		}
-		writeVolumeToHW( mixerIdx, md->getVolume() );
+			MixDevice* md;
+			bool found = false;
+    		for ( md = m_mixDevices.first(); md != 0; md = m_mixDevices.next() ) {
+				if ( md->num() == mixerIdx ) {
+					found = true;
+					writeVolumeToHW( mixerIdx, md->getVolume() );
+				}
+			}
+			if( !found )
+			{
+				return Mixer::ERR_INCOMPATIBLESET;
+			}
 	    } // !virginOpen
     } // for all elems
 
@@ -681,7 +707,7 @@
 
 
 	// *** READ PLAYBACK VOLUMES *************
-	if ( snd_mixer_selem_has_playback_volume( elem ) )
+	if ( snd_mixer_selem_has_playback_volume( elem ) && !volume.isCapture() )
 	{
 		int ret = snd_mixer_selem_get_playback_volume( elem, SND_MIXER_SCHN_FRONT_LEFT, &left );
                 if ( ret != 0 ) kdDebug(67100) << "readVolumeFromHW(" << mixerIdx << ") [has_playback_volume,R] failed, errno=" << ret << endl;
@@ -697,7 +723,7 @@
                 }
 	}
 	else
-	if ( snd_mixer_selem_has_capture_volume ( elem ) )
+	if ( snd_mixer_selem_has_capture_volume ( elem ) && volume.isCapture() )
 	{
             int ret = snd_mixer_selem_get_capture_volume ( elem, SND_MIXER_SCHN_FRONT_LEFT, &left );
             if ( ret != 0 ) kdDebug(67100) << "readVolumeFromHW(" << mixerIdx << ") [get_capture_volume,L] failed, errno=" << ret << endl;
@@ -740,12 +766,12 @@
 	left = volume[ Volume::LEFT ];
 	right = volume[ Volume::RIGHT ];
 
-	if (snd_mixer_selem_has_playback_volume( elem ) ) {
+	if (snd_mixer_selem_has_playback_volume( elem ) && !volume.isCapture() ) {
 		snd_mixer_selem_set_playback_volume ( elem, SND_MIXER_SCHN_FRONT_LEFT, left );
 		if ( ! snd_mixer_selem_is_playback_mono ( elem ) )
 			snd_mixer_selem_set_playback_volume ( elem, SND_MIXER_SCHN_FRONT_RIGHT, right );
 	}
-	else if ( snd_mixer_selem_has_capture_volume( elem ) ) {
+	else if ( snd_mixer_selem_has_capture_volume( elem ) && volume.isCapture() ) {
 		snd_mixer_selem_set_capture_volume ( elem, SND_MIXER_SCHN_FRONT_LEFT, left );
 		if ( ! snd_mixer_selem_is_playback_mono ( elem ) )
 			snd_mixer_selem_set_capture_volume ( elem, SND_MIXER_SCHN_FRONT_RIGHT, right );
Index: kmix/kmix.h
===================================================================
--- kmix/kmix.h	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmix.h	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -48,6 +48,7 @@
 class Mixer;
 
 #include "mixer.h"
+#include "mixdevicewidget.h"
 
 
 class 
@@ -100,6 +101,7 @@
    bool m_hideOnClose;
    bool m_showTicks;
    bool m_showLabels;
+   MixDeviceWidget::ValueStyle m_valueStyle;             // No numbers by default
    bool m_onLogin;
    bool m_startVisible;
    bool m_showMenubar;

Property changes on: kmix/pics/hi64-app-kmix.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: kmix/pics/hi128-app-kmix.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kmix/kmixtoolbox.cpp
===================================================================
--- kmix/kmixtoolbox.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixtoolbox.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -70,6 +70,15 @@
     }
 }
 
+void KMixToolBox::setValueStyle(QPtrList<QWidget> &mdws, int vs ) {
+    QWidget *qmdw;
+    for ( qmdw=mdws.first(); qmdw != 0; qmdw=mdws.next() ) {
+	if ( qmdw->inherits("MixDeviceWidget") ) { // -<- in reality it is only in MDWSlider
+	  static_cast<MixDeviceWidget*>(qmdw)->setValueStyle( (MixDeviceWidget::ValueStyle) vs );
+	}
+    }
+}
+
 void KMixToolBox::loadConfig(QPtrList<QWidget> &mdws, KConfig *config, const QString &grp, const QString &viewPrefix) {
     int n = 0;
     config->setGroup( grp );
Index: kmix/mdwslider.cpp
===================================================================
--- kmix/mdwslider.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/mdwslider.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -252,7 +252,8 @@
 		 volLayout->setAlignment(Qt::AlignHCenter);
 	 }
 
-	 // Sliders
+	 // Sliders and volume number indication
+	 QBoxLayout *slinumLayout;
 	 for( int i = 0; i < m_mixdevice->getVolume().count(); i++ )
     {
 		 Volume::ChannelID chid = Volume::ChannelID(i);
@@ -262,6 +263,29 @@
 		 int maxvol = m_mixdevice->getVolume().maxVolume();
 		 int minvol = m_mixdevice->getVolume().minVolume();
 
+		 if ( _orientation == Qt::Vertical ) {
+		   slinumLayout = new QVBoxLayout( volLayout );
+		   slinumLayout->setAlignment(Qt::AlignHCenter);
+		 }
+		 else {
+		   slinumLayout = new QHBoxLayout( volLayout );
+		   slinumLayout->setAlignment(Qt::AlignVCenter);
+		 }
+
+		 // create labels to hold volume values (taken from qamix/kamix)
+		 QLabel *number = new QLabel( this );
+		 slinumLayout->addWidget( number );
+		 QFontMetrics *qfm = new QFontMetrics( number->font() );
+		 number->setFrameStyle( QFrame::Panel | QFrame::Sunken );
+		 number->setMinimumWidth( qfm->width("MMM", 3) );
+		 number->setLineWidth( 3 );
+		 number->setPaletteBackgroundColor( QColor(190, 250, 190) );
+		 delete qfm;
+		 // don't show the value by default
+		 number->hide();
+		 updateValue( number, chid );
+		 _numbers.append( number );
+
 		 QWidget* slider;
 		 if ( m_small ) {
 			 slider = new KSmallSlider( minvol, maxvol, maxvol/10,
@@ -280,8 +304,9 @@
 		 if( i>0 && isStereoLinked() ) {
 			 // show only one (the first) slider, when the user wants it so
 			 slider->hide();
+			 number->hide();
 		 }
-		 volLayout->addWidget( slider );  // add to layout
+		 slinumLayout->addWidget( slider );  // add to layout
 		 m_sliders.append ( slider );   // add to list
 		 _slidersChids.append(chid);        // Remember slider-chid association
 		 connect( slider, SIGNAL(valueChanged(int)), SLOT(volumeChange(int)) );
@@ -428,6 +453,8 @@
    m_linked = value;
 
    QWidget *slider = m_sliders.first();
+   QLabel *number = _numbers.first();
+   QString qs = number->text();
 
    /***********************************************************
       Remember value of first slider, so that it can be copied
@@ -446,9 +473,10 @@
       firstSliderValueValid = true;
    }
 
-   for( slider=m_sliders.next(); slider!=0 ; slider=m_sliders.next() ) {
+   for( slider=m_sliders.next(), number=_numbers.next();  slider!=0 && number!=0; slider=m_sliders.next(), number=_numbers.next() ) {
       if ( m_linked ) {
          slider->hide();
+	 number->hide();
       }
       else {
          // When splitting, make the next sliders show the same value as the first.
@@ -467,6 +495,9 @@
             }
          }
          slider->show();
+	 number->setText(qs);
+         if (m_valueStyle != NNONE)
+	     number->show();
       }
    }
 
@@ -522,6 +553,27 @@
 }
 
 void
+MDWSlider::setValueStyle( ValueStyle valueStyle )
+{
+    m_valueStyle = valueStyle;
+
+    int i = 0;
+    QValueList<Volume::ChannelID>::Iterator it = _slidersChids.begin();
+    for(QLabel *number = _numbers.first(); number!=0; number = _numbers.next(), ++i, ++it) {
+        Volume::ChannelID chid = *it;
+        switch ( m_valueStyle ) {
+	case NNONE: number->hide(); break;
+	default: 
+	    if ( !isStereoLinked() || (i == 0)) {
+	      updateValue( number, chid );
+	      number->show();
+	    }
+	}
+    }
+    layout()->activate();
+}
+
+void
 MDWSlider::setIcons(bool value)
 {
     if ( m_iconLabel != 0 ) {
@@ -554,7 +606,19 @@
     }
 }
 
+void 
+MDWSlider::updateValue( QLabel *value, Volume::ChannelID chid ) {
+    QString qs;
+    Volume& vol = m_mixdevice->getVolume();
 
+    if (m_valueStyle == NABSOLUTE )
+      qs.sprintf("%3d",  (int) vol.getVolume( chid ) );
+    else
+        qs.sprintf("%3d", (int)( vol.getVolume( chid ) / (double)vol.maxVolume() * 100 ) );
+    value->setText(qs);
+}
+
+
 /** This slot is called, when a user has changed the volume via the KMix Slider */
 void MDWSlider::volumeChange( int )
 {
@@ -598,11 +662,14 @@
       else {
          kdDebug(67100) << "MDWSlider::volumeChange(), unknown chid " << chid << endl;
       }
+
+      updateValue( _numbers.first(), Volume::LEFT );
    } // joined
    else {
       int n = 0;
       QValueList<Volume::ChannelID>::Iterator it = _slidersChids.begin();
-      for( QWidget *slider=m_sliders.first(); slider!=0; slider=m_sliders.next(), ++it )
+      QLabel *number = _numbers.first();
+      for( QWidget *slider=m_sliders.first(); slider!=0 && number!=0; slider=m_sliders.next(), number=_numbers.next(), ++it )
       {
           Volume::ChannelID chid = *it;
 	  if ( slider->inherits( "KSmallSlider" ) )
@@ -620,6 +687,7 @@
 				else
 					vol.setVolume( chid, bigSlider->value() );
 	  }
+	  updateValue( number, chid );
 	  n++;
       }
    }
@@ -754,6 +822,7 @@
 			}
 		} // big slider
 
+		updateValue( _numbers.first(), Volume::LEFT );
 		slider->blockSignals( false );
 	} // only 1 slider (stereo-linked)
 	else {
@@ -790,6 +859,8 @@
 				}
 			}
 
+			updateValue( _numbers.at ( i ), chid );
+
 			slider->blockSignals( false );
 		} // for all sliders
 	} // more than 1 slider
Index: kmix/kmixprefdlg.cpp
===================================================================
--- kmix/kmixprefdlg.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixprefdlg.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -68,6 +68,24 @@
    m_onLogin = new QCheckBox( i18n("Restore volumes on login"), m_generalTab );
    layout->addWidget( m_onLogin );
 
+   QBoxLayout *numbersLayout = new QHBoxLayout( layout );
+   QButtonGroup *numbersGroup = new QButtonGroup( 3, Qt::Horizontal, i18n("Numbers"), m_generalTab );
+   numbersGroup->setRadioButtonExclusive(true);
+   QLabel* qlbl = new QLabel(  i18n("Volume Values"), m_generalTab );
+   _rbNone = new QRadioButton( i18n("&None"), m_generalTab );
+   _rbAbsolute = new QRadioButton( i18n("A&bsolute"), m_generalTab );
+   _rbRelative   = new QRadioButton( i18n("&Relative"), m_generalTab );
+   numbersGroup->insert(_rbNone);
+   numbersGroup->insert(_rbAbsolute);
+   numbersGroup->insert(_rbRelative);
+   numbersGroup->hide();
+
+   numbersLayout->add(qlbl);
+   numbersLayout->add(_rbNone);
+   numbersLayout->add(_rbAbsolute);
+   numbersLayout->add(_rbRelative);
+   numbersLayout->addStretch();
+
    QBoxLayout *orientationLayout = new QHBoxLayout( layout );
    QButtonGroup* orientationGroup = new QButtonGroup( 2, Qt::Horizontal, i18n("Orientation"), m_generalTab );
    //orientationLayout->add(orientationGroup);
Index: kmix/restore_kmix_volumes.desktop
===================================================================
--- kmix/restore_kmix_volumes.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/restore_kmix_volumes.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -23,6 +23,7 @@
 Name[is]=Sækja aftur stillingar hljóðrása
 Name[it]=Ripristina i volumi del Mixer
 Name[ja]=ミキサーのボリュームを元に戻す
+Name[lt]=Gražinti numatytuosius maišytuvo garsus
 Name[mk]=Враќање на гласностите на миксетата
 Name[nb]=Gjenopprett lydstyrkene til mikser
 Name[nl]=Mixervolumes herstellen
@@ -40,6 +41,5 @@
 Name[ta]=ஒன்றுசேர்க்கும் ஒலியளவு மீட்கவும்
 Name[tr]=Karıştırıcı Seslerini Yenile
 Name[uk]=Відновити параметри мікшера
-Name[xx]=xxRestore Mixer Volumesxx
 Name[zh_CN]=恢复混音器设置
 
Index: kmix/mixdevice.cpp
===================================================================
--- kmix/mixdevice.cpp	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/mixdevice.cpp	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -140,12 +140,20 @@
    config->setGroup( devgrp );
    //kdDebug(67100) << "MixDevice::read() of group devgrp=" << devgrp << endl;
 
+   char *nameLeftVolume, *nameRightVolume;
+   if ( _volume.isCapture() ) {
+		nameLeftVolume = "volumeLCapture";
+		nameRightVolume = "volumeRCapture";
+   } else {
+		nameLeftVolume = "volumeL";
+		nameRightVolume = "volumeR";
+   }
    Volume::ChannelMask chMask = Volume::MNONE;
-   int vl = config->readNumEntry("volumeL", -1);
+   int vl = config->readNumEntry(nameLeftVolume, -1);
    if (vl!=-1) {
         chMask = (Volume::ChannelMask)(chMask | Volume::MLEFT);
    }
-   int vr = config->readNumEntry("volumeR", -1);
+   int vr = config->readNumEntry(nameRightVolume, -1);
    if (vr!=-1) {
        chMask = (Volume::ChannelMask)(chMask | Volume::MRIGHT);
    }
@@ -191,9 +199,16 @@
    devgrp.sprintf( "%s.Dev%i", grp.ascii(), _num );
    config->setGroup(devgrp);
    // kdDebug(67100) << "MixDevice::write() of group devgrp=" << devgrp << endl;
-
-   config->writeEntry("volumeL", getVolume( Volume::LEFT ) );
-   config->writeEntry("volumeR", getVolume( Volume::RIGHT ) );
+   char *nameLeftVolume, *nameRightVolume;
+   if ( _volume.isCapture() ) {
+		nameLeftVolume = "volumeLCapture";
+		nameRightVolume = "volumeRCapture";
+   } else {
+		nameLeftVolume = "volumeL";
+		nameRightVolume = "volumeR";
+   }
+   config->writeEntry(nameLeftVolume, getVolume( Volume::LEFT ) );
+   config->writeEntry(nameRightVolume, getVolume( Volume::RIGHT ) );
    config->writeEntry("is_muted", (int)_volume.isMuted() );
    config->writeEntry("is_recsrc", (int)isRecSource() );
    config->writeEntry("name", _name);
Index: kmix/kmixctrl_restore.desktop
===================================================================
--- kmix/kmixctrl_restore.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kmix/kmixctrl_restore.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -29,7 +29,7 @@
 Name[it]=Ripristina le impostazioni del mixer
 Name[ja]=ミキサーの設定を元に戻す
 Name[ko]=소리 설정을 되돌려 놓음
-Name[lt]=Gražinti mikšerio parametrus
+Name[lt]=Gražinti maišytuvo parametrus
 Name[lv]=Atjauno Miksera Uzstādījumus
 Name[mk]=Враќање на поставувањата на миксетата
 Name[ms]=Pulihkan Tetapan Pengadun
@@ -57,7 +57,6 @@
 Name[ven]=Vhuedzedzani vhuvha ha tshitanganisi
 Name[wa]=Rimete come divant les apontiaedjes d maxheu d' sons
 Name[xh]=Gcina kwakhona izicwangciso zoMxubi
-Name[xx]=xxRestore Mixer Settingsxx
 Name[zh_CN]=恢复混音器设置
 Name[zh_TW]=回復混音器設定
 Name[zu]=Gcina futhi izilungiso zoMxubi
Index: kfile-plugins/avi/kfile_avi.desktop
===================================================================
--- kfile-plugins/avi/kfile_avi.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/avi/kfile_avi.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -48,7 +48,6 @@
 Name[uk]=Інформація по AVI
 Name[uz]=AVI ҳақида маълумот
 Name[xh]=Ulwazi lwe AVI
-Name[xx]=xxAVI Infoxx
 Name[zh_CN]=AVI 信息
 Name[zh_TW]=AVI 資訊
 Name[zu]=Ulwazi lwe-AVI
Index: kfile-plugins/mp3/kfile_mp3.desktop
===================================================================
--- kfile-plugins/mp3/kfile_mp3.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/mp3/kfile_mp3.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -50,7 +50,6 @@
 Name[uk]=Інформація по MP3
 Name[uz]=MP3 ҳақида маълумот
 Name[xh]=MP3 ulwazi
-Name[xx]=xxMP3 Infoxx
 Name[zh_CN]=MP3 信息
 Name[zh_TW]=MP3 資訊
 Name[zu]=Ulwazi lwe-MP3 
Index: kfile-plugins/mpc/kfile_mpc.desktop
===================================================================
--- kfile-plugins/mpc/kfile_mpc.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/mpc/kfile_mpc.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -3,6 +3,7 @@
 Type=Service
 Name=Musepack Info
 Name[bg]=Информация за Musepack
+Name[br]=Titouroù Musepack
 Name[bs]=Musepack informacije
 Name[ca]=Informació Musepack
 Name[cs]=Musepack info
@@ -18,6 +19,7 @@
 Name[is]=Musepack upplýsingar
 Name[it]=Informazioni Musepack
 Name[ja]=Musepack情報
+Name[lt]=Musepack informacija
 Name[mk]=Musepack информации
 Name[nb]=Musepack-info
 Name[nl]=Musepack-informatie
@@ -35,7 +37,6 @@
 Name[ta]=MP3 தகவல்
 Name[tr]=MusePack Bilgisi
 Name[uk]=Інформація по Musepack
-Name[xx]=xxMusepack Infoxx
 Name[zh_CN]=Musepack 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_mpc
Index: kfile-plugins/sid/kfile_sid.desktop
===================================================================
--- kfile-plugins/sid/kfile_sid.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/sid/kfile_sid.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -21,6 +21,7 @@
 Name[is]=SID upplýsingar
 Name[it]=Informazioni SID
 Name[ja]=SID情報
+Name[lt]=SID informacija
 Name[mk]=SID информации
 Name[nb]=SID-info
 Name[nl]=SID-informatie
@@ -40,7 +41,6 @@
 Name[tg]=SID Ахборот
 Name[tr]=SID Bilgisi
 Name[uk]=Інформація по SID
-Name[xx]=xxSID Infoxx
 Name[zh_CN]=SID 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_sid
Index: kfile-plugins/theora/kfile_theora.desktop
===================================================================
--- kfile-plugins/theora/kfile_theora.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/theora/kfile_theora.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -18,6 +18,7 @@
 Name[is]=theora upplýsingar
 Name[it]=Informazioni su theora
 Name[ja]=theora 情報
+Name[lt]=theora informacija
 Name[mk]=theora информации
 Name[nb]=theora-info
 Name[nl]=theora-informatie
@@ -34,7 +35,6 @@
 Name[ta]= தியோரா தகவல்
 Name[tr]=theora Bilgisi
 Name[uk]=Інформація по theora
-Name[xx]=xxtheora Infoxx
 Name[zh_CN]=theora 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_theora
Index: kfile-plugins/m3u/kfile_m3u.desktop
===================================================================
--- kfile-plugins/m3u/kfile_m3u.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/m3u/kfile_m3u.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -27,7 +27,7 @@
 Name[is]=M3U lagalistaupplýsingar
 Name[it]=Informazioni playlist M3U
 Name[ja]=M3Uプレイリスト情報
-Name[lt]=M3U gaidaraščio informacija
+Name[lt]=M3U grojaraščio informacija
 Name[lv]=M3U Plejlistu Info
 Name[mk]=Информации за M3U листа со нумери
 Name[nb]=M3U spilleliste informasjon
@@ -52,7 +52,6 @@
 Name[uk]=Інформація списку композицій M3U
 Name[ven]=Mavhungo a mutevhe wa tshitambi tsha M3U
 Name[xh]=M3U Ulwazi Loluhlu Lokudlala
-Name[xx]=xxM3U Playlist Infoxx
 Name[zh_CN]=M3U 播放列表信息
 Name[zh_TW]=M3U 播放清單資訊
 Name[zu]=Ulwazi Lohlu lokudlala lwe-M3U
Index: kfile-plugins/au/kfile_au.desktop
===================================================================
--- kfile-plugins/au/kfile_au.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/au/kfile_au.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -47,7 +47,6 @@
 Name[uk]=Інформація по AU
 Name[uz]=XBM ҳақида маълумот
 Name[xh]=Ulwazi lwe AU
-Name[xx]=xxAU Infoxx
 Name[zh_CN]=AU 信息
 Name[zh_TW]=AU 資訊
 Name[zu]=Ulwazi lwe-AU
Index: kfile-plugins/flac/kfile_flac.desktop
===================================================================
--- kfile-plugins/flac/kfile_flac.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/flac/kfile_flac.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -22,6 +22,7 @@
 Name[is]=AU upplýsingar
 Name[it]=Informazioni FLAC
 Name[ja]=FLAC情報
+Name[lt]=FLAC informacija
 Name[mk]=FLAC информации
 Name[nb]=FLAC informasjon
 Name[nl]=FLAC-informatie
@@ -42,7 +43,6 @@
 Name[tr]=FLAC Bilgisi
 Name[uk]=Інформація по FLAC
 Name[uz]=FLAC ҳақида маълумот
-Name[xx]=xxFLAC Infoxx
 Name[zh_CN]=FLAC 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_flac
Index: kfile-plugins/mpeg/kfile_mpeg.desktop
===================================================================
--- kfile-plugins/mpeg/kfile_mpeg.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/mpeg/kfile_mpeg.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -3,6 +3,7 @@
 Type=Service
 Name=MPEG Info
 Name[bg]=Информация за MPEG
+Name[br]=Titouroù MPEG
 Name[ca]=Informació MPEG
 Name[cs]=MPEG info
 Name[da]=MPEG-info
@@ -10,12 +11,15 @@
 Name[el]=Πληροφορίες MPEG
 Name[es]=Info MPEG
 Name[et]=MPEG info
+Name[eu]=MPEG informazioa
 Name[fr]=Informations MPEG
 Name[ga]=Eolas MPEG
 Name[he]=מידע MPEG
 Name[hu]=MPEG-jellemzők
 Name[is]=MPEG upplýsingar
 Name[it]=Informazioni MPEG
+Name[ja]=MPEG 情報
+Name[lt]=MPEG informacija
 Name[nb]=MPEG informasjon
 Name[nl]=MPEG-info
 Name[pa]=MPEG ਜਾਣਕਾਰੀ
@@ -23,11 +27,11 @@
 Name[pt]=Informação do MPEG
 Name[pt_BR]=Informação do MPEG
 Name[ru]=Сведения о MPEG
+Name[sl]=Informacije o MPEG
 Name[sr]=Информације о MPEG-у
 Name[sr@Latn]=Informacije o MPEG-u
 Name[sv]=MPEG-information
 Name[uk]=Інформація про MPEG
-Name[xx]=xxMPEG Infoxx
 Name[zh_CN]=MPEG 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_mpeg
Index: kfile-plugins/ogg/kfile_ogg.desktop
===================================================================
--- kfile-plugins/ogg/kfile_ogg.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/ogg/kfile_ogg.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -48,7 +48,6 @@
 Name[uk]=Інформація по OGG
 Name[uz]=OGG ҳақида маълумот
 Name[xh]=OGG Ulwazi
-Name[xx]=xxOGG Infoxx
 Name[zh_CN]=OGG 信息
 Name[zh_TW]=OGG 資訊
 Name[zu]=Ulwazi lwe OGG
Index: kfile-plugins/wav/kfile_wav.desktop
===================================================================
--- kfile-plugins/wav/kfile_wav.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ kfile-plugins/wav/kfile_wav.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -48,7 +48,6 @@
 Name[uk]=Інформація по WAV
 Name[uz]=WAV ҳақида маълумот
 Name[xh]=MAV Ulwazi
-Name[xx]=xxWAV Infoxx
 Name[zh_CN]=WAV 信息
 Name[zh_TW]=WAV 資訊
 Name[zu]=Ulwazi lwe WAV
Index: xine_artsplugin/tools/thumbnail/videothumbnail.desktop
===================================================================
--- xine_artsplugin/tools/thumbnail/videothumbnail.desktop	(.../tags/KDE/3.5.0/kdemultimedia)	(revision 495790)
+++ xine_artsplugin/tools/thumbnail/videothumbnail.desktop	(.../branches/KDE/3.5/kdemultimedia)	(revision 495790)
@@ -50,7 +50,6 @@
 Name[ven]=Dzifaela dza Video
 Name[wa]=Fitchîs videyo
 Name[xh]=Iifayile ze Video
-Name[xx]=xxVideo Filesxx
 Name[zh_CN]=视频文件
 Name[zh_TW]=視訊檔案
 Name[zu]=Amafayela Evidiyo

Property changes on: xine_artsplugin/tools/thumbnail/sprocket-small.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: xine_artsplugin/tools/thumbnail/sprocket-large.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: xine_artsplugin/tools/thumbnail/sprocket-medium.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: .
___________________________________________________________________
Name: svn:externals
   + admin https://svn.kde.org/home/kde/branches/KDE/3.5/kde-common/admin


